(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[165],{52575:function(M,P,E){"use strict";let O,T;E.d(P,{OpenloginAdapter:function(){return OpenloginAdapter},getOpenloginDefaultOptions:function(){return getOpenloginDefaultOptions}});var L,K={};E.r(K),E.d(K,{Decoder:function(){return Decoder},Encoder:function(){return Encoder},PacketType:function(){return L},protocol:function(){return eQ}});var F=E(88774),U=E(1413),J=E(81180),Z=E(13631),H=E(2043),V=E.n(H),$=E(20917);let BaseSessionManager=class BaseSessionManager{constructor(){(0,J.Z)(this,"sessionId",void 0)}checkSessionParams(){if(!this.sessionId)throw Error("Session id is required");this.sessionId=this.sessionId.padStart(64,"0")}request(M){let{method:P="GET",url:E,data:O={},headers:T={}}=M,L={headers:T};switch(P){case"GET":return(0,$.U2)(E,L);case"POST":return(0,$.v_)(E,O,L);case"PUT":return(0,$.gz)(E,O,L);case"PATCH":return(0,$.r$)(E,O,L)}throw Error("Invalid method type")}};var W=E(42474),Y=E.n(W),X=E(86266),G=E(48764).Buffer;let et=new X.ec("secp256k1"),er=E.g.crypto||E.g.msCrypto||{},ei=er.subtle||er.webkitSubtle,en=G.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),es=G.alloc(32,0);function assert(M,P){if(!M)throw Error(P||"Assertion failed")}function isScalar(M){return G.isBuffer(M)&&32===M.length}function isValidPrivateKey(M){return!!isScalar(M)&&M.compare(es)>0&&0>M.compare(en)}function equalConstTime(M,P){if(M.length!==P.length)return!1;let E=0;for(let O=0;O<M.length;O++)E|=M[O]^P[O];return 0===E}function randomBytes(M){let P=new Uint8Array(M);return void 0===er.getRandomValues?G.from(Y().randomBytes(M)):(er.getRandomValues(P),G.from(P))}async function sha512(M){if(ei){let P=await ei.digest("SHA-512",M),E=new Uint8Array(P);return E}let P=Y().createHash("sha512"),E=P.update(M).digest();return new Uint8Array(E)}function getAes(M){return async function(P,E,O){if(ei){let T={name:"AES-CBC"},L=await ei.importKey("raw",E,T,!1,[M]),K={name:"AES-CBC",iv:P},F=await ei[M](K,L,O);return G.from(new Uint8Array(F))}if("encrypt"===M){let M=Y().createCipheriv("aes-256-cbc",E,P),T=M.update(O),L=M.final();return G.concat([T,L])}if("decrypt"===M){let M=Y().createDecipheriv("aes-256-cbc",E,P),T=M.update(O),L=M.final();return G.concat([T,L])}throw Error(`Unsupported operation: ${M}`)}}let eo=getAes("encrypt"),ea=getAes("decrypt");async function hmacSha256Sign(M,P){if(ei){let E={name:"HMAC",hash:{name:"SHA-256"}},O=await ei.importKey("raw",new Uint8Array(M),E,!1,["sign","verify"]),T=await ei.sign("HMAC",O,P),L=G.from(new Uint8Array(T));return L}let E=Y().createHmac("sha256",G.from(M));E.update(P);let O=E.digest();return O}async function hmacSha256Verify(M,P,E){let O=await hmacSha256Sign(M,P);return equalConstTime(O,E)}let generatePrivate=function(){let M=randomBytes(32);for(;!isValidPrivateKey(M);)M=randomBytes(32);return M},eccrypto_esm_getPublic=function(M){return assert(32===M.length,"Bad private key"),assert(isValidPrivateKey(M),"Bad private key"),G.from(et.keyFromPrivate(M).getPublic("array"))},eccrypto_esm_sign=async function(M,P){return assert(32===M.length,"Bad private key"),assert(isValidPrivateKey(M),"Bad private key"),assert(P.length>0,"Message should not be empty"),assert(P.length<=32,"Message is too long"),G.from(et.sign(P,M,{canonical:!0}).toDER())},derive=async function(M,P){assert(G.isBuffer(M),"Bad private key"),assert(G.isBuffer(P),"Bad public key"),assert(32===M.length,"Bad private key"),assert(isValidPrivateKey(M),"Bad private key"),assert(65===P.length||33===P.length,"Bad public key"),65===P.length&&assert(4===P[0],"Bad public key"),33===P.length&&assert(2===P[0]||3===P[0],"Bad public key");let E=et.keyFromPrivate(M),O=et.keyFromPublic(P),T=E.derive(O.getPublic());return G.from(T.toArray())},ed=derive,derivePadded=async function(M,P){assert(G.isBuffer(M),"Bad private key"),assert(G.isBuffer(P),"Bad public key"),assert(32===M.length,"Bad private key"),assert(isValidPrivateKey(M),"Bad private key"),assert(65===P.length||33===P.length,"Bad public key"),65===P.length&&assert(4===P[0],"Bad public key"),33===P.length&&assert(2===P[0]||3===P[0],"Bad public key");let E=et.keyFromPrivate(M),O=et.keyFromPublic(P),T=E.derive(O.getPublic());return G.from(T.toString(16,64),"hex")},eccrypto_esm_encrypt=async function(M,P,E){let O=(E=E||{}).ephemPrivateKey||randomBytes(32);for(;!isValidPrivateKey(O);)O=E.ephemPrivateKey||randomBytes(32);let T=eccrypto_esm_getPublic(O),L=await ed(O,M),K=await sha512(L),F=E.iv||randomBytes(16),U=K.slice(0,32),J=K.slice(32),Z=await eo(F,G.from(U),P),H=Z,V=G.concat([F,T,H]),$=await hmacSha256Sign(G.from(J),V);return{iv:F,ephemPublicKey:T,ciphertext:H,mac:$}},eccrypto_esm_decrypt=async function(M,P,E){let O=null!=E&&E,T=O?derivePadded:ed,L=await T(M,P.ephemPublicKey),K=await sha512(L),F=K.slice(0,32),U=K.slice(32),J=G.concat([P.iv,P.ephemPublicKey,P.ciphertext]),Z=await hmacSha256Verify(G.from(U),J,P.mac);if(!Z&&!1===O)return eccrypto_esm_decrypt(M,P,!0);if(!Z&&!0===O)throw Error("bad MAC after trying padded");let H=await ea(P.iv,G.from(F),P.ciphertext);return G.from(new Uint8Array(H))};E(67266);var ef=E(56664),eh=E(48764).Buffer;function metadataHelpers_esm_keccak256(M){return eh.from((0,ef.wn)(M))}let eu=new X.ec("secp256k1");function encParamsHexToBuf(M){return{iv:eh.from(M.iv,"hex"),ephemPublicKey:eh.from(M.ephemPublicKey,"hex"),ciphertext:eh.from(M.ciphertext,"hex"),mac:eh.from(M.mac,"hex")}}function encParamsBufToHex(M){return{iv:eh.from(M.iv).toString("hex"),ephemPublicKey:eh.from(M.ephemPublicKey).toString("hex"),ciphertext:eh.from(M.ciphertext).toString("hex"),mac:eh.from(M.mac).toString("hex")}}async function encryptData(M,P){let E=JSON.stringify(P),O=eh.from(E,"utf-8"),T=await eccrypto_esm_encrypt(eccrypto_esm_getPublic(eh.from(M,"hex")),O),L=encParamsBufToHex(T),K=JSON.stringify(L);return K}async function decryptData(M,P){let E=JSON.parse(P),O=encParamsHexToBuf(E),T=eu.keyFromPrivate(M),L=await eccrypto_esm_decrypt(eh.from(T.getPrivate().toString("hex",64),"hex"),O),K=L.toString("utf-8"),F=JSON.parse(K);return F}var el=E(48764).Buffer;let ep=86400;let OpenloginSessionManager=class OpenloginSessionManager extends BaseSessionManager{constructor(){let{sessionServerBaseUrl:M,sessionNamespace:P,sessionTime:E,sessionId:O}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),(0,J.Z)(this,"sessionServerBaseUrl","https://broadcast-server.tor.us"),(0,J.Z)(this,"sessionNamespace",void 0),(0,J.Z)(this,"sessionTime",ep),(0,J.Z)(this,"sessionId",""),M&&(this.sessionServerBaseUrl=M),P&&(this.sessionNamespace=P),E&&(this.sessionTime=E),O&&(this.sessionId=O.padStart(64,"0"))}static generateRandomSessionKey(){return generatePrivate().toString("hex").padStart(64,"0")}async createSession(M){super.checkSessionParams();let P=el.from(this.sessionId,"hex"),E=eccrypto_esm_getPublic(P).toString("hex"),O=await encryptData(this.sessionId,M),T=(await eccrypto_esm_sign(P,metadataHelpers_esm_keccak256(el.from(O,"utf8")))).toString("hex"),L={key:E,data:O,signature:T,namespace:this.sessionNamespace,timeout:this.sessionTime};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/store/set`,data:L}),this.sessionId}async authorizeSession(){super.checkSessionParams();let M=eccrypto_esm_getPublic(el.from(this.sessionId,"hex")).toString("hex"),P=new URL(`${this.sessionServerBaseUrl}/store/get`);P.searchParams.append("key",M),this.sessionNamespace&&P.searchParams.append("namespace",this.sessionNamespace);let E=await super.request({url:P.toString()});if(!E.message)throw Error("Session Expired or Invalid public key");let O=await decryptData(this.sessionId,E.message);if(O.error)throw Error("There was an error decrypting data.");return O}async updateSession(M){super.checkSessionParams();let P=el.from(this.sessionId,"hex"),E=eccrypto_esm_getPublic(P).toString("hex"),O=await encryptData(this.sessionId,M),T=(await eccrypto_esm_sign(P,metadataHelpers_esm_keccak256(el.from(O,"utf8")))).toString("hex"),L={key:E,data:O,signature:T,namespace:this.sessionNamespace};await super.request({method:"PUT",url:`${this.sessionServerBaseUrl}/store/update`,data:L})}async invalidateSession(){super.checkSessionParams();let M=el.from(this.sessionId,"hex"),P=eccrypto_esm_getPublic(M).toString("hex"),E=await encryptData(this.sessionId,{}),O=(await eccrypto_esm_sign(M,metadataHelpers_esm_keccak256(el.from(E,"utf8")))).toString("hex"),T={key:P,data:E,signature:O,namespace:this.sessionNamespace,timeout:1};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/store/set`,data:T}),this.sessionId="",!0}};let eb=Object.create(null);eb.open="0",eb.close="1",eb.ping="2",eb.pong="3",eb.message="4",eb.upgrade="5",eb.noop="6";let em=Object.create(null);Object.keys(eb).forEach(M=>{em[eb[M]]=M});let ey={type:"error",data:"parser error"},eg="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),ew="function"==typeof ArrayBuffer,isView=M=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(M):M&&M.buffer instanceof ArrayBuffer,encodePacket=({type:M,data:P},E,O)=>eg&&P instanceof Blob?E?O(P):encodeBlobAsBase64(P,O):ew&&(P instanceof ArrayBuffer||isView(P))?E?O(P):encodeBlobAsBase64(new Blob([P]),O):O(eb[M]+(P||"")),encodeBlobAsBase64=(M,P)=>{let E=new FileReader;return E.onload=function(){let M=E.result.split(",")[1];P("b"+(M||""))},E.readAsDataURL(M)};function toArray(M){return M instanceof Uint8Array?M:M instanceof ArrayBuffer?new Uint8Array(M):new Uint8Array(M.buffer,M.byteOffset,M.byteLength)}function encodePacketToBinary(M,P){return eg&&M.data instanceof Blob?M.data.arrayBuffer().then(toArray).then(P):ew&&(M.data instanceof ArrayBuffer||isView(M.data))?P(toArray(M.data)):void encodePacket(M,!1,M=>{O||(O=new TextEncoder),P(O.encode(M))})}let eM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eS="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let M=0;M<eM.length;M++)eS[eM.charCodeAt(M)]=M;let decode=M=>{let P=.75*M.length,E=M.length,O,T=0,L,K,F,U;"="===M[M.length-1]&&(P--,"="===M[M.length-2]&&P--);let J=new ArrayBuffer(P),Z=new Uint8Array(J);for(O=0;O<E;O+=4)L=eS[M.charCodeAt(O)],K=eS[M.charCodeAt(O+1)],F=eS[M.charCodeAt(O+2)],U=eS[M.charCodeAt(O+3)],Z[T++]=L<<2|K>>4,Z[T++]=(15&K)<<4|F>>2,Z[T++]=(3&F)<<6|63&U;return J},eP="function"==typeof ArrayBuffer,decodePacket=(M,P)=>{if("string"!=typeof M)return{type:"message",data:mapBinary(M,P)};let E=M.charAt(0);if("b"===E)return{type:"message",data:decodeBase64Packet(M.substring(1),P)};let O=em[E];return O?M.length>1?{type:em[E],data:M.substring(1)}:{type:em[E]}:ey},decodeBase64Packet=(M,P)=>{if(!eP)return{base64:!0,data:M};{let E=decode(M);return mapBinary(E,P)}},mapBinary=(M,P)=>"blob"===P?M instanceof Blob?M:new Blob([M]):M instanceof ArrayBuffer?M:M.buffer,e_="\x1e",encodePayload=(M,P)=>{let E=M.length,O=Array(E),T=0;M.forEach((M,L)=>{encodePacket(M,!1,M=>{O[L]=M,++T===E&&P(O.join(e_))})})},decodePayload=(M,P)=>{let E=M.split(e_),O=[];for(let M=0;M<E.length;M++){let T=decodePacket(E[M],P);if(O.push(T),"error"===T.type)break}return O};function createPacketEncoderStream(){return new TransformStream({transform(M,P){encodePacketToBinary(M,E=>{let O;let T=E.length;if(T<126)O=new Uint8Array(1),new DataView(O.buffer).setUint8(0,T);else if(T<65536){O=new Uint8Array(3);let M=new DataView(O.buffer);M.setUint8(0,126),M.setUint16(1,T)}else{O=new Uint8Array(9);let M=new DataView(O.buffer);M.setUint8(0,127),M.setBigUint64(1,BigInt(T))}M.data&&"string"!=typeof M.data&&(O[0]|=128),P.enqueue(O),P.enqueue(E)})}})}function totalLength(M){return M.reduce((M,P)=>M+P.length,0)}function concatChunks(M,P){if(M[0].length===P)return M.shift();let E=new Uint8Array(P),O=0;for(let T=0;T<P;T++)E[T]=M[0][O++],O===M[0].length&&(M.shift(),O=0);return M.length&&O<M[0].length&&(M[0]=M[0].slice(O)),E}function createPacketDecoderStream(M,P){T||(T=new TextDecoder);let E=[],O=0,L=-1,K=!1;return new TransformStream({transform(F,U){for(E.push(F);;){if(0===O){if(1>totalLength(E))break;let M=concatChunks(E,1);K=(128&M[0])==128,O=(L=127&M[0])<126?3:126===L?1:2}else if(1===O){if(2>totalLength(E))break;let M=concatChunks(E,2);L=new DataView(M.buffer,M.byteOffset,M.length).getUint16(0),O=3}else if(2===O){if(8>totalLength(E))break;let M=concatChunks(E,8),P=new DataView(M.buffer,M.byteOffset,M.length),T=P.getUint32(0);if(T>2097151){U.enqueue(ey);break}L=4294967296*T+P.getUint32(4),O=3}else{if(totalLength(E)<L)break;let M=concatChunks(E,L);U.enqueue(decodePacket(K?M:T.decode(M),P)),O=0}if(0===L||L>M){U.enqueue(ey);break}}}})}let eN=4;function Emitter(M){if(M)return mixin(M)}function mixin(M){for(var P in Emitter.prototype)M[P]=Emitter.prototype[P];return M}Emitter.prototype.on=Emitter.prototype.addEventListener=function(M,P){return this._callbacks=this._callbacks||{},(this._callbacks["$"+M]=this._callbacks["$"+M]||[]).push(P),this},Emitter.prototype.once=function(M,P){function on(){this.off(M,on),P.apply(this,arguments)}return on.fn=P,this.on(M,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(M,P){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var E,O=this._callbacks["$"+M];if(!O)return this;if(1==arguments.length)return delete this._callbacks["$"+M],this;for(var T=0;T<O.length;T++)if((E=O[T])===P||E.fn===P){O.splice(T,1);break}return 0===O.length&&delete this._callbacks["$"+M],this},Emitter.prototype.emit=function(M){this._callbacks=this._callbacks||{};for(var P=Array(arguments.length-1),E=this._callbacks["$"+M],O=1;O<arguments.length;O++)P[O-1]=arguments[O];if(E){E=E.slice(0);for(var O=0,T=E.length;O<T;++O)E[O].apply(this,P)}return this},Emitter.prototype.emitReserved=Emitter.prototype.emit,Emitter.prototype.listeners=function(M){return this._callbacks=this._callbacks||{},this._callbacks["$"+M]||[]},Emitter.prototype.hasListeners=function(M){return!!this.listeners(M).length};let eA="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function pick(M,...P){return P.reduce((P,E)=>(M.hasOwnProperty(E)&&(P[E]=M[E]),P),{})}let eB=eA.setTimeout,eE=eA.clearTimeout;function installTimerFunctions(M,P){P.useNativeTimers?(M.setTimeoutFn=eB.bind(eA),M.clearTimeoutFn=eE.bind(eA)):(M.setTimeoutFn=eA.setTimeout.bind(eA),M.clearTimeoutFn=eA.clearTimeout.bind(eA))}let ek=1.33;function byteLength(M){return"string"==typeof M?utf8Length(M):Math.ceil((M.byteLength||M.size)*ek)}function utf8Length(M){let P=0,E=0;for(let O=0,T=M.length;O<T;O++)(P=M.charCodeAt(O))<128?E+=1:P<2048?E+=2:P<55296||P>=57344?E+=3:(O++,E+=4);return E}function parseqs_encode(M){let P="";for(let E in M)M.hasOwnProperty(E)&&(P.length&&(P+="&"),P+=encodeURIComponent(E)+"="+encodeURIComponent(M[E]));return P}function parseqs_decode(M){let P={},E=M.split("&");for(let M=0,O=E.length;M<O;M++){let O=E[M].split("=");P[decodeURIComponent(O[0])]=decodeURIComponent(O[1])}return P}let TransportError=class TransportError extends Error{constructor(M,P,E){super(M),this.description=P,this.context=E,this.type="TransportError"}};let Transport=class Transport extends Emitter{constructor(M){super(),this.writable=!1,installTimerFunctions(this,M),this.opts=M,this.query=M.query,this.socket=M.socket}onError(M,P,E){return super.emitReserved("error",new TransportError(M,P,E)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(M){"open"===this.readyState&&this.write(M)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(M){let P=decodePacket(M,this.socket.binaryType);this.onPacket(P)}onPacket(M){super.emitReserved("packet",M)}onClose(M){this.readyState="closed",super.emitReserved("close",M)}pause(M){}createUri(M,P={}){return M+"://"+this._hostname()+this._port()+this.opts.path+this._query(P)}_hostname(){let M=this.opts.hostname;return -1===M.indexOf(":")?M:"["+M+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(M){let P=parseqs_encode(M);return P.length?"?"+P:""}};let ex="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),eI=64,eR={},eC=0,eO=0,eT;function yeast_encode(M){let P="";do P=ex[M%eI]+P,M=Math.floor(M/eI);while(M>0);return P}function yeast(){let M=yeast_encode(+new Date);return M!==eT?(eC=0,eT=M):M+"."+yeast_encode(eC++)}for(;eO<eI;eO++)eR[ex[eO]]=eO;let eL=!1;try{eL="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(M){}let eq=eL;function XHR(M){let P=M.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!P||eq))return new XMLHttpRequest}catch(M){}if(!P)try{return new eA[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(M){}}function createCookieJar(){}function empty(){}let eK=function(){let M=new XHR({xdomain:!1});return null!=M.responseType}();let Polling=class Polling extends Transport{constructor(M){if(super(M),this.polling=!1,"undefined"!=typeof location){let P="https:"===location.protocol,E=location.port;E||(E=P?"443":"80"),this.xd="undefined"!=typeof location&&M.hostname!==location.hostname||E!==M.port}let P=M&&M.forceBase64;this.supportsBinary=eK&&!P,this.opts.withCredentials&&(this.cookieJar=createCookieJar())}get name(){return"polling"}doOpen(){this.poll()}pause(M){this.readyState="pausing";let pause=()=>{this.readyState="paused",M()};if(this.polling||!this.writable){let M=0;this.polling&&(M++,this.once("pollComplete",function(){--M||pause()})),this.writable||(M++,this.once("drain",function(){--M||pause()}))}else pause()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(M){let callback=M=>{if("opening"===this.readyState&&"open"===M.type&&this.onOpen(),"close"===M.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(M)};decodePayload(M,this.socket.binaryType).forEach(callback),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){let close=()=>{this.write([{type:"close"}])};"open"===this.readyState?close():this.once("open",close)}write(M){this.writable=!1,encodePayload(M,M=>{this.doWrite(M,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let M=this.opts.secure?"https":"http",P=this.query||{};return!1!==this.opts.timestampRequests&&(P[this.opts.timestampParam]=yeast()),this.supportsBinary||P.sid||(P.b64=1),this.createUri(M,P)}request(M={}){return Object.assign(M,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Request(this.uri(),M)}doWrite(M,P){let E=this.request({method:"POST",data:M});E.on("success",P),E.on("error",(M,P)=>{this.onError("xhr post error",M,P)})}doPoll(){let M=this.request();M.on("data",this.onData.bind(this)),M.on("error",(M,P)=>{this.onError("xhr poll error",M,P)}),this.pollXhr=M}};let Request=class Request extends Emitter{constructor(M,P){super(),installTimerFunctions(this,P),this.opts=P,this.method=P.method||"GET",this.uri=M,this.data=void 0!==P.data?P.data:null,this.create()}create(){var M;let P=pick(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");P.xdomain=!!this.opts.xd;let E=this.xhr=new XHR(P);try{E.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders)for(let M in E.setDisableHeaderCheck&&E.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(M)&&E.setRequestHeader(M,this.opts.extraHeaders[M])}catch(M){}if("POST"===this.method)try{E.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(M){}try{E.setRequestHeader("Accept","*/*")}catch(M){}null===(M=this.opts.cookieJar)||void 0===M||M.addCookies(E),"withCredentials"in E&&(E.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(E.timeout=this.opts.requestTimeout),E.onreadystatechange=()=>{var M;3===E.readyState&&(null===(M=this.opts.cookieJar)||void 0===M||M.parseCookies(E)),4===E.readyState&&(200===E.status||1223===E.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof E.status?E.status:0)},0))},E.send(this.data)}catch(M){this.setTimeoutFn(()=>{this.onError(M)},0);return}"undefined"!=typeof document&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)}onError(M){this.emitReserved("error",M,this.xhr),this.cleanup(!0)}cleanup(M){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=empty,M)try{this.xhr.abort()}catch(M){}"undefined"!=typeof document&&delete Request.requests[this.index],this.xhr=null}}onLoad(){let M=this.xhr.responseText;null!==M&&(this.emitReserved("data",M),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};if(Request.requestsCount=0,Request.requests={},"undefined"!=typeof document){if("function"==typeof attachEvent)attachEvent("onunload",unloadHandler);else if("function"==typeof addEventListener){let M="onpagehide"in eA?"pagehide":"unload";addEventListener(M,unloadHandler,!1)}}function unloadHandler(){for(let M in Request.requests)Request.requests.hasOwnProperty(M)&&Request.requests[M].abort()}let ez=(()=>{let M="function"==typeof Promise&&"function"==typeof Promise.resolve;return M?M=>Promise.resolve().then(M):(M,P)=>P(M,0)})(),eD=eA.WebSocket||eA.MozWebSocket,eF=!0,eU="arraybuffer";var ej=E(48764).Buffer;let eJ="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();let WS=class WS extends Transport{constructor(M){super(M),this.supportsBinary=!M.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let M=this.uri(),P=this.opts.protocols,E=eJ?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(E.headers=this.opts.extraHeaders);try{this.ws=eF&&!eJ?P?new eD(M,P):new eD(M):new eD(M,P,E)}catch(M){return this.emitReserved("error",M)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=M=>this.onClose({description:"websocket connection closed",context:M}),this.ws.onmessage=M=>this.onData(M.data),this.ws.onerror=M=>this.onError("websocket error",M)}write(M){this.writable=!1;for(let P=0;P<M.length;P++){let E=M[P],O=P===M.length-1;encodePacket(E,this.supportsBinary,M=>{let P={};if(!eF&&(E.options&&(P.compress=E.options.compress),this.opts.perMessageDeflate)){let E="string"==typeof M?ej.byteLength(M):M.length;E<this.opts.perMessageDeflate.threshold&&(P.compress=!1)}try{eF?this.ws.send(M):this.ws.send(M,P)}catch(M){}O&&ez(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let M=this.opts.secure?"wss":"ws",P=this.query||{};return this.opts.timestampRequests&&(P[this.opts.timestampParam]=yeast()),this.supportsBinary||(P.b64=1),this.createUri(M,P)}check(){return!!eD}};let WT=class WT extends Transport{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(M=>{this.onError("webtransport error",M)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(M=>{let P=createPacketDecoderStream(Number.MAX_SAFE_INTEGER,this.socket.binaryType),E=M.readable.pipeThrough(P).getReader(),O=createPacketEncoderStream();O.readable.pipeTo(M.writable),this.writer=O.writable.getWriter();let read=()=>{E.read().then(({done:M,value:P})=>{M||(this.onPacket(P),read())}).catch(M=>{})};read();let T={type:"open"};this.query.sid&&(T.data=`{"sid":"${this.query.sid}"}`),this.writer.write(T).then(()=>this.onOpen())})}))}write(M){this.writable=!1;for(let P=0;P<M.length;P++){let E=M[P],O=P===M.length-1;this.writer.write(E).then(()=>{O&&ez(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var M;null===(M=this.transport)||void 0===M||M.close()}};let eZ={websocket:WS,webtransport:WT,polling:Polling},eH=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,eV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse(M){if(M.length>2e3)throw"URI too long";let P=M,E=M.indexOf("["),O=M.indexOf("]");-1!=E&&-1!=O&&(M=M.substring(0,E)+M.substring(E,O).replace(/:/g,";")+M.substring(O,M.length));let T=eH.exec(M||""),L={},K=14;for(;K--;)L[eV[K]]=T[K]||"";return -1!=E&&-1!=O&&(L.source=P,L.host=L.host.substring(1,L.host.length-1).replace(/;/g,":"),L.authority=L.authority.replace("[","").replace("]","").replace(/;/g,":"),L.ipv6uri=!0),L.pathNames=pathNames(L,L.path),L.queryKey=queryKey(L,L.query),L}function pathNames(M,P){let E=/\/{2,9}/g,O=P.replace(E,"/").split("/");return("/"==P.slice(0,1)||0===P.length)&&O.splice(0,1),"/"==P.slice(-1)&&O.splice(O.length-1,1),O}function queryKey(M,P){let E={};return P.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(M,P,O){P&&(E[P]=O)}),E}let Socket=class Socket extends Emitter{constructor(M,P={}){super(),this.binaryType=eU,this.writeBuffer=[],M&&"object"==typeof M&&(P=M,M=null),M?(M=parse(M),P.hostname=M.host,P.secure="https"===M.protocol||"wss"===M.protocol,P.port=M.port,M.query&&(P.query=M.query)):P.host&&(P.hostname=parse(P.host).host),installTimerFunctions(this,P),this.secure=null!=P.secure?P.secure:"undefined"!=typeof location&&"https:"===location.protocol,P.hostname&&!P.port&&(P.port=this.secure?"443":"80"),this.hostname=P.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=P.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=P.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},P),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=parseqs_decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(M){let P=Object.assign({},this.opts.query);P.EIO=eN,P.transport=M,this.id&&(P.sid=this.id);let E=Object.assign({},this.opts,{query:P,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[M]);return new eZ[M](E)}open(){let M;if(this.opts.rememberUpgrade&&Socket.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))M="websocket";else if(0===this.transports.length){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else M=this.transports[0];this.readyState="opening";try{M=this.createTransport(M)}catch(M){this.transports.shift(),this.open();return}M.open(),this.setTransport(M)}setTransport(M){this.transport&&this.transport.removeAllListeners(),this.transport=M,M.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",M=>this.onClose("transport close",M))}probe(M){let P=this.createTransport(M),E=!1;Socket.priorWebsocketSuccess=!1;let onTransportOpen=()=>{E||(P.send([{type:"ping",data:"probe"}]),P.once("packet",M=>{if(!E){if("pong"===M.type&&"probe"===M.data)this.upgrading=!0,this.emitReserved("upgrading",P),P&&(Socket.priorWebsocketSuccess="websocket"===P.name,this.transport.pause(()=>{E||"closed"===this.readyState||(cleanup(),this.setTransport(P),P.send([{type:"upgrade"}]),this.emitReserved("upgrade",P),P=null,this.upgrading=!1,this.flush())}));else{let M=Error("probe error");M.transport=P.name,this.emitReserved("upgradeError",M)}}}))};function freezeTransport(){E||(E=!0,cleanup(),P.close(),P=null)}let onerror=M=>{let E=Error("probe error: "+M);E.transport=P.name,freezeTransport(),this.emitReserved("upgradeError",E)};function onTransportClose(){onerror("transport closed")}function onclose(){onerror("socket closed")}function onupgrade(M){P&&M.name!==P.name&&freezeTransport()}let cleanup=()=>{P.removeListener("open",onTransportOpen),P.removeListener("error",onerror),P.removeListener("close",onTransportClose),this.off("close",onclose),this.off("upgrading",onupgrade)};P.once("open",onTransportOpen),P.once("error",onerror),P.once("close",onTransportClose),this.once("close",onclose),this.once("upgrading",onupgrade),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==M?this.setTimeoutFn(()=>{E||P.open()},200):P.open()}onOpen(){if(this.readyState="open",Socket.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let M=0,P=this.upgrades.length;for(;M<P;M++)this.probe(this.upgrades[M])}}onPacket(M){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",M),this.emitReserved("heartbeat"),this.resetPingTimeout(),M.type){case"open":this.onHandshake(JSON.parse(M.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let P=Error("server error");P.code=M.data,this.onError(P);break;case"message":this.emitReserved("data",M.data),this.emitReserved("message",M.data)}}onHandshake(M){this.emitReserved("handshake",M),this.id=M.sid,this.transport.query.sid=M.sid,this.upgrades=this.filterUpgrades(M.upgrades),this.pingInterval=M.pingInterval,this.pingTimeout=M.pingTimeout,this.maxPayload=M.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let M=this.getWritablePackets();this.transport.send(M),this.prevBufferLen=M.length,this.emitReserved("flush")}}getWritablePackets(){let M=this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1;if(!M)return this.writeBuffer;let P=1;for(let M=0;M<this.writeBuffer.length;M++){let E=this.writeBuffer[M].data;if(E&&(P+=byteLength(E)),M>0&&P>this.maxPayload)return this.writeBuffer.slice(0,M);P+=2}return this.writeBuffer}write(M,P,E){return this.sendPacket("message",M,P,E),this}send(M,P,E){return this.sendPacket("message",M,P,E),this}sendPacket(M,P,E,O){if("function"==typeof P&&(O=P,P=void 0),"function"==typeof E&&(O=E,E=null),"closing"===this.readyState||"closed"===this.readyState)return;(E=E||{}).compress=!1!==E.compress;let T={type:M,data:P,options:E};this.emitReserved("packetCreate",T),this.writeBuffer.push(T),O&&this.once("flush",O),this.flush()}close(){let close=()=>{this.onClose("forced close"),this.transport.close()},cleanupAndClose=()=>{this.off("upgrade",cleanupAndClose),this.off("upgradeError",cleanupAndClose),close()},waitForUpgrade=()=>{this.once("upgrade",cleanupAndClose),this.once("upgradeError",cleanupAndClose)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?waitForUpgrade():close()}):this.upgrading?waitForUpgrade():close()),this}onError(M){Socket.priorWebsocketSuccess=!1,this.emitReserved("error",M),this.onClose("transport error",M)}onClose(M,P){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",M,P),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(M){let P=[],E=0,O=M.length;for(;E<O;E++)~this.transports.indexOf(M[E])&&P.push(M[E]);return P}};function url(M,P="",E){let O=M;E=E||"undefined"!=typeof location&&location,null==M&&(M=E.protocol+"//"+E.host),"string"==typeof M&&("/"===M.charAt(0)&&(M="/"===M.charAt(1)?E.protocol+M:E.host+M),/^(https?|wss?):\/\//.test(M)||(M=void 0!==E?E.protocol+"//"+M:"https://"+M),O=parse(M)),!O.port&&(/^(http|ws)$/.test(O.protocol)?O.port="80":/^(http|ws)s$/.test(O.protocol)&&(O.port="443")),O.path=O.path||"/";let T=-1!==O.host.indexOf(":"),L=T?"["+O.host+"]":O.host;return O.id=O.protocol+"://"+L+":"+O.port+P,O.href=O.protocol+"://"+L+(E&&E.port===O.port?"":":"+O.port),O}Socket.protocol=eN,Socket.protocol;let e$="function"==typeof ArrayBuffer,is_binary_isView=M=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(M):M.buffer instanceof ArrayBuffer,eW=Object.prototype.toString,eY="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===eW.call(Blob),eX="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===eW.call(File);function isBinary(M){return e$&&(M instanceof ArrayBuffer||is_binary_isView(M))||eY&&M instanceof Blob||eX&&M instanceof File}function hasBinary(M,P){if(!M||"object"!=typeof M)return!1;if(Array.isArray(M)){for(let P=0,E=M.length;P<E;P++)if(hasBinary(M[P]))return!0;return!1}if(isBinary(M))return!0;if(M.toJSON&&"function"==typeof M.toJSON&&1==arguments.length)return hasBinary(M.toJSON(),!0);for(let P in M)if(Object.prototype.hasOwnProperty.call(M,P)&&hasBinary(M[P]))return!0;return!1}function deconstructPacket(M){let P=[],E=M.data,O=M;return O.data=_deconstructPacket(E,P),O.attachments=P.length,{packet:O,buffers:P}}function _deconstructPacket(M,P){if(!M)return M;if(isBinary(M)){let E={_placeholder:!0,num:P.length};return P.push(M),E}if(Array.isArray(M)){let E=Array(M.length);for(let O=0;O<M.length;O++)E[O]=_deconstructPacket(M[O],P);return E}if("object"==typeof M&&!(M instanceof Date)){let E={};for(let O in M)Object.prototype.hasOwnProperty.call(M,O)&&(E[O]=_deconstructPacket(M[O],P));return E}return M}function reconstructPacket(M,P){return M.data=_reconstructPacket(M.data,P),delete M.attachments,M}function _reconstructPacket(M,P){if(!M)return M;if(M&&!0===M._placeholder){let E="number"==typeof M.num&&M.num>=0&&M.num<P.length;if(E)return P[M.num];throw Error("illegal attachments")}if(Array.isArray(M))for(let E=0;E<M.length;E++)M[E]=_reconstructPacket(M[E],P);else if("object"==typeof M)for(let E in M)Object.prototype.hasOwnProperty.call(M,E)&&(M[E]=_reconstructPacket(M[E],P));return M}let eG=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],eQ=5;!function(M){M[M.CONNECT=0]="CONNECT",M[M.DISCONNECT=1]="DISCONNECT",M[M.EVENT=2]="EVENT",M[M.ACK=3]="ACK",M[M.CONNECT_ERROR=4]="CONNECT_ERROR",M[M.BINARY_EVENT=5]="BINARY_EVENT",M[M.BINARY_ACK=6]="BINARY_ACK"}(L||(L={}));let Encoder=class Encoder{constructor(M){this.replacer=M}encode(M){return(M.type===L.EVENT||M.type===L.ACK)&&hasBinary(M)?this.encodeAsBinary({type:M.type===L.EVENT?L.BINARY_EVENT:L.BINARY_ACK,nsp:M.nsp,data:M.data,id:M.id}):[this.encodeAsString(M)]}encodeAsString(M){let P=""+M.type;return(M.type===L.BINARY_EVENT||M.type===L.BINARY_ACK)&&(P+=M.attachments+"-"),M.nsp&&"/"!==M.nsp&&(P+=M.nsp+","),null!=M.id&&(P+=M.id),null!=M.data&&(P+=JSON.stringify(M.data,this.replacer)),P}encodeAsBinary(M){let P=deconstructPacket(M),E=this.encodeAsString(P.packet),O=P.buffers;return O.unshift(E),O}};function isObject(M){return"[object Object]"===Object.prototype.toString.call(M)}let Decoder=class Decoder extends Emitter{constructor(M){super(),this.reviver=M}add(M){let P;if("string"==typeof M){if(this.reconstructor)throw Error("got plaintext data when reconstructing a packet");P=this.decodeString(M);let E=P.type===L.BINARY_EVENT;E||P.type===L.BINARY_ACK?(P.type=E?L.EVENT:L.ACK,this.reconstructor=new BinaryReconstructor(P),0===P.attachments&&super.emitReserved("decoded",P)):super.emitReserved("decoded",P)}else if(isBinary(M)||M.base64){if(this.reconstructor)(P=this.reconstructor.takeBinaryData(M))&&(this.reconstructor=null,super.emitReserved("decoded",P));else throw Error("got binary data when not reconstructing a packet")}else throw Error("Unknown type: "+M)}decodeString(M){let P=0,E={type:Number(M.charAt(0))};if(void 0===L[E.type])throw Error("unknown packet type "+E.type);if(E.type===L.BINARY_EVENT||E.type===L.BINARY_ACK){let O=P+1;for(;"-"!==M.charAt(++P)&&P!=M.length;);let T=M.substring(O,P);if(T!=Number(T)||"-"!==M.charAt(P))throw Error("Illegal attachments");E.attachments=Number(T)}if("/"===M.charAt(P+1)){let O=P+1;for(;++P;){let E=M.charAt(P);if(","===E||P===M.length)break}E.nsp=M.substring(O,P)}else E.nsp="/";let O=M.charAt(P+1);if(""!==O&&Number(O)==O){let O=P+1;for(;++P;){let E=M.charAt(P);if(null==E||Number(E)!=E){--P;break}if(P===M.length)break}E.id=Number(M.substring(O,P+1))}if(M.charAt(++P)){let O=this.tryParse(M.substr(P));if(Decoder.isPayloadValid(E.type,O))E.data=O;else throw Error("invalid payload")}return E}tryParse(M){try{return JSON.parse(M,this.reviver)}catch(M){return!1}}static isPayloadValid(M,P){switch(M){case L.CONNECT:return isObject(P);case L.DISCONNECT:return void 0===P;case L.CONNECT_ERROR:return"string"==typeof P||isObject(P);case L.EVENT:case L.BINARY_EVENT:return Array.isArray(P)&&("number"==typeof P[0]||"string"==typeof P[0]&&-1===eG.indexOf(P[0]));case L.ACK:case L.BINARY_ACK:return Array.isArray(P)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}};let BinaryReconstructor=class BinaryReconstructor{constructor(M){this.packet=M,this.buffers=[],this.reconPack=M}takeBinaryData(M){if(this.buffers.push(M),this.buffers.length===this.reconPack.attachments){let M=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),M}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function on(M,P,E){return M.on(P,E),function(){M.off(P,E)}}let e0=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});let socket_Socket=class socket_Socket extends Emitter{constructor(M,P,E){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=M,this.nsp=P,E&&E.auth&&(this.auth=E.auth),this._opts=Object.assign({},E),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let M=this.io;this.subs=[on(M,"open",this.onopen.bind(this)),on(M,"packet",this.onpacket.bind(this)),on(M,"error",this.onerror.bind(this)),on(M,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...M){return M.unshift("message"),this.emit.apply(this,M),this}emit(M,...P){if(e0.hasOwnProperty(M))throw Error('"'+M.toString()+'" is a reserved event name');if(P.unshift(M),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(P),this;let E={type:L.EVENT,data:P};if(E.options={},E.options.compress=!1!==this.flags.compress,"function"==typeof P[P.length-1]){let M=this.ids++,O=P.pop();this._registerAckCallback(M,O),E.id=M}let O=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,T=this.flags.volatile&&(!O||!this.connected);return T||(this.connected?(this.notifyOutgoingListeners(E),this.packet(E)):this.sendBuffer.push(E)),this.flags={},this}_registerAckCallback(M,P){var E;let O=null!==(E=this.flags.timeout)&&void 0!==E?E:this._opts.ackTimeout;if(void 0===O){this.acks[M]=P;return}let T=this.io.setTimeoutFn(()=>{delete this.acks[M];for(let P=0;P<this.sendBuffer.length;P++)this.sendBuffer[P].id===M&&this.sendBuffer.splice(P,1);P.call(this,Error("operation has timed out"))},O);this.acks[M]=(...M)=>{this.io.clearTimeoutFn(T),P.apply(this,[null,...M])}}emitWithAck(M,...P){let E=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise((O,T)=>{P.push((M,P)=>E?M?T(M):O(P):O(M)),this.emit(M,...P)})}_addToQueue(M){let P;"function"==typeof M[M.length-1]&&(P=M.pop());let E={id:this._queueSeq++,tryCount:0,pending:!1,args:M,flags:Object.assign({fromQueue:!0},this.flags)};M.push((M,...O)=>{if(E!==this._queue[0])return;let T=null!==M;return T?E.tryCount>this._opts.retries&&(this._queue.shift(),P&&P(M)):(this._queue.shift(),P&&P(null,...O)),E.pending=!1,this._drainQueue()}),this._queue.push(E),this._drainQueue()}_drainQueue(M=!1){if(!this.connected||0===this._queue.length)return;let P=this._queue[0];(!P.pending||M)&&(P.pending=!0,P.tryCount++,this.flags=P.flags,this.emit.apply(this,P.args))}packet(M){M.nsp=this.nsp,this.io._packet(M)}onopen(){"function"==typeof this.auth?this.auth(M=>{this._sendConnectPacket(M)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(M){this.packet({type:L.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},M):M})}onerror(M){this.connected||this.emitReserved("connect_error",M)}onclose(M,P){this.connected=!1,delete this.id,this.emitReserved("disconnect",M,P)}onpacket(M){let P=M.nsp===this.nsp;if(P)switch(M.type){case L.CONNECT:M.data&&M.data.sid?this.onconnect(M.data.sid,M.data.pid):this.emitReserved("connect_error",Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case L.EVENT:case L.BINARY_EVENT:this.onevent(M);break;case L.ACK:case L.BINARY_ACK:this.onack(M);break;case L.DISCONNECT:this.ondisconnect();break;case L.CONNECT_ERROR:this.destroy();let E=Error(M.data.message);E.data=M.data.data,this.emitReserved("connect_error",E)}}onevent(M){let P=M.data||[];null!=M.id&&P.push(this.ack(M.id)),this.connected?this.emitEvent(P):this.receiveBuffer.push(Object.freeze(P))}emitEvent(M){if(this._anyListeners&&this._anyListeners.length){let P=this._anyListeners.slice();for(let E of P)E.apply(this,M)}super.emit.apply(this,M),this._pid&&M.length&&"string"==typeof M[M.length-1]&&(this._lastOffset=M[M.length-1])}ack(M){let P=this,E=!1;return function(...O){E||(E=!0,P.packet({type:L.ACK,id:M,data:O}))}}onack(M){let P=this.acks[M.id];"function"==typeof P&&(P.apply(this,M.data),delete this.acks[M.id])}onconnect(M,P){this.id=M,this.recovered=P&&this._pid===P,this._pid=P,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(M=>this.emitEvent(M)),this.receiveBuffer=[],this.sendBuffer.forEach(M=>{this.notifyOutgoingListeners(M),this.packet(M)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(M=>M()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:L.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(M){return this.flags.compress=M,this}get volatile(){return this.flags.volatile=!0,this}timeout(M){return this.flags.timeout=M,this}onAny(M){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(M),this}prependAny(M){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(M),this}offAny(M){if(!this._anyListeners)return this;if(M){let P=this._anyListeners;for(let E=0;E<P.length;E++)if(M===P[E]){P.splice(E,1);break}}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(M){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(M),this}prependAnyOutgoing(M){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(M),this}offAnyOutgoing(M){if(!this._anyOutgoingListeners)return this;if(M){let P=this._anyOutgoingListeners;for(let E=0;E<P.length;E++)if(M===P[E]){P.splice(E,1);break}}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(M){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let P=this._anyOutgoingListeners.slice();for(let E of P)E.apply(this,M.data)}}};function Backoff(M){M=M||{},this.ms=M.min||100,this.max=M.max||1e4,this.factor=M.factor||2,this.jitter=M.jitter>0&&M.jitter<=1?M.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var M=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var P=Math.random(),E=Math.floor(P*this.jitter*M);M=(1&Math.floor(10*P))==0?M-E:M+E}return 0|Math.min(M,this.max)},Backoff.prototype.reset=function(){this.attempts=0},Backoff.prototype.setMin=function(M){this.ms=M},Backoff.prototype.setMax=function(M){this.max=M},Backoff.prototype.setJitter=function(M){this.jitter=M};let Manager=class Manager extends Emitter{constructor(M,P){var E;super(),this.nsps={},this.subs=[],M&&"object"==typeof M&&(P=M,M=void 0),(P=P||{}).path=P.path||"/socket.io",this.opts=P,installTimerFunctions(this,P),this.reconnection(!1!==P.reconnection),this.reconnectionAttempts(P.reconnectionAttempts||1/0),this.reconnectionDelay(P.reconnectionDelay||1e3),this.reconnectionDelayMax(P.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(E=P.randomizationFactor)&&void 0!==E?E:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==P.timeout?2e4:P.timeout),this._readyState="closed",this.uri=M;let O=P.parser||K;this.encoder=new O.Encoder,this.decoder=new O.Decoder,this._autoConnect=!1!==P.autoConnect,this._autoConnect&&this.open()}reconnection(M){return arguments.length?(this._reconnection=!!M,this):this._reconnection}reconnectionAttempts(M){return void 0===M?this._reconnectionAttempts:(this._reconnectionAttempts=M,this)}reconnectionDelay(M){var P;return void 0===M?this._reconnectionDelay:(this._reconnectionDelay=M,null===(P=this.backoff)||void 0===P||P.setMin(M),this)}randomizationFactor(M){var P;return void 0===M?this._randomizationFactor:(this._randomizationFactor=M,null===(P=this.backoff)||void 0===P||P.setJitter(M),this)}reconnectionDelayMax(M){var P;return void 0===M?this._reconnectionDelayMax:(this._reconnectionDelayMax=M,null===(P=this.backoff)||void 0===P||P.setMax(M),this)}timeout(M){return arguments.length?(this._timeout=M,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(M){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket(this.uri,this.opts);let P=this.engine,E=this;this._readyState="opening",this.skipReconnect=!1;let O=on(P,"open",function(){E.onopen(),M&&M()}),onError=P=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",P),M?M(P):this.maybeReconnectOnOpen()},T=on(P,"error",onError);if(!1!==this._timeout){let M=this._timeout,E=this.setTimeoutFn(()=>{O(),onError(Error("timeout")),P.close()},M);this.opts.autoUnref&&E.unref(),this.subs.push(()=>{this.clearTimeoutFn(E)})}return this.subs.push(O),this.subs.push(T),this}connect(M){return this.open(M)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let M=this.engine;this.subs.push(on(M,"ping",this.onping.bind(this)),on(M,"data",this.ondata.bind(this)),on(M,"error",this.onerror.bind(this)),on(M,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(M){try{this.decoder.add(M)}catch(M){this.onclose("parse error",M)}}ondecoded(M){ez(()=>{this.emitReserved("packet",M)},this.setTimeoutFn)}onerror(M){this.emitReserved("error",M)}socket(M,P){let E=this.nsps[M];return E?this._autoConnect&&!E.active&&E.connect():(E=new socket_Socket(this,M,P),this.nsps[M]=E),E}_destroy(M){let P=Object.keys(this.nsps);for(let M of P){let P=this.nsps[M];if(P.active)return}this._close()}_packet(M){let P=this.encoder.encode(M);for(let E=0;E<P.length;E++)this.engine.write(P[E],M.options)}cleanup(){this.subs.forEach(M=>M()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(M,P){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",M,P),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let M=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let P=this.backoff.duration();this._reconnecting=!0;let E=this.setTimeoutFn(()=>{!M.skipReconnect&&(this.emitReserved("reconnect_attempt",M.backoff.attempts),M.skipReconnect||M.open(P=>{P?(M._reconnecting=!1,M.reconnect(),this.emitReserved("reconnect_error",P)):M.onreconnect()}))},P);this.opts.autoUnref&&E.unref(),this.subs.push(()=>{this.clearTimeoutFn(E)})}}onreconnect(){let M=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",M)}};let e1={};function esm_lookup(M,P){let E;"object"==typeof M&&(P=M,M=void 0),P=P||{};let O=url(M,P.path||"/socket.io"),T=O.source,L=O.id,K=O.path,F=e1[L]&&K in e1[L].nsps,U=P.forceNew||P["force new connection"]||!1===P.multiplex||F;return U?E=new Manager(T,P):(e1[L]||(e1[L]=new Manager(T,P)),E=e1[L]),O.query&&!P.query&&(P.query=O.queryKey),E.socket(O.path,P)}Object.assign(esm_lookup,{Manager:Manager,Socket:socket_Socket,io:esm_lookup,connect:esm_lookup});var e6=E(48764).Buffer,e2=V().getLogger("SecurePubSub");let SecurePubSub=class SecurePubSub{constructor(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,J.Z)(this,"options",void 0),(0,J.Z)(this,"SOCKET_CONN",null),this.options=M,this.options.timeout=M.timeout||600,this.options.serverUrl=M.serverUrl||"https://broadcast-server.tor.us",this.options.enableLogging=M.enableLogging||!1,this.options.namespace=M.namespace||"",this.options.enableLogging?e2.enableAll():e2.disableAll()}static setLogLevel(M){e2.setLevel(M),(0,$.Ub)(M)}async publish(M,P){let E=metadataHelpers_esm_keccak256(e6.from(M,"utf8")),O=await encryptData(E.toString("hex"),P),T=await eccrypto_esm_sign(E,metadataHelpers_esm_keccak256(e6.from(O,"utf8"))),L={key:eccrypto_esm_getPublic(E).toString("hex"),data:O,signature:T.toString("hex"),timeout:this.options.timeout,namespace:this.options.namespace};return(0,$.v_)(`${this.options.serverUrl}/channel/set`,L)}async subscribe(M){let P=!0,E=metadataHelpers_esm_keccak256(e6.from(M,"utf8")),O=eccrypto_esm_getPublic(E).toString("hex"),T=this.getSocketConnection();T.connected?(e2.debug("already connected with socket"),T.emit("check_auth_status",O,{namespace:this.options.namespace})):T.once("connect",()=>{e2.debug("connected with socket"),T.emit("check_auth_status",O,{namespace:this.options.namespace})});let reconnect=()=>{T.once("connect",async()=>{e2.debug("connected with socket using reconnect"),P&&T.emit("check_auth_status",O,{namespace:this.options.namespace})})},visibilityListener=()=>{P||document.removeEventListener("visibilitychange",visibilityListener),T.connected||"visible"!==document.visibilityState||reconnect()},disconnectListener=()=>{e2.debug("socket disconnected",P),P?(e2.error("socket disconnected unexpectedly, reconnecting socket"),reconnect()):T.removeListener("disconnect",disconnectListener)};T.on("disconnect",disconnectListener);let L=new Promise((M,L)=>{let listener=async O=>{try{let P=await decryptData(E.toString("hex"),O);e2.info("got data",P),M(P)}catch(M){e2.error(M),L(M)}finally{P=!1,document.removeEventListener("visibilitychange",visibilityListener)}};e2.info("listening to",`${O}_success`),T.once(`${O}_success`,listener)});return"undefined"!=typeof document&&document.addEventListener("visibilitychange",visibilityListener),L}cleanup(){this.SOCKET_CONN&&(this.SOCKET_CONN.disconnect(),this.SOCKET_CONN=null)}getSocketConnection(){if(this.SOCKET_CONN)return this.SOCKET_CONN;let M=esm_lookup(this.options.serverUrl,{transports:["websocket","polling"],withCredentials:!0,reconnectionDelayMax:1e4,reconnectionAttempts:10});return M.on("connect_error",P=>{M.io.opts.transports=["polling","websocket"],e2.error("connect error",P)}),M.on("connect",async()=>{let{engine:P}=M.io;e2.debug("initially connected to",P.transport.name),P.once("upgrade",()=>{e2.debug("upgraded",P.transport.name)}),P.once("close",M=>{e2.debug("connection closed",M)})}),M.on("error",P=>{e2.error("socket errored",P),M.disconnect()}),this.SOCKET_CONN=M,this.SOCKET_CONN}};var e8=E(17187),e3=E(51206),e4=E.n(e3);E(48764).Buffer;let OpenloginError=class OpenloginError extends Z.s{constructor(M,P){super(P),(0,J.Z)(this,"code",void 0),(0,J.Z)(this,"message",void 0),this.code=M,this.message=P||"",Object.defineProperty(this,"name",{value:"OpenloginError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}};let InitializationError=class InitializationError extends OpenloginError{constructor(M,P){super(M,P),Object.defineProperty(this,"name",{value:"InitializationError"})}static fromCode(M){let P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new InitializationError(M,`${InitializationError.messages[M]}, ${P}`)}static invalidParams(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return InitializationError.fromCode(5001,M)}static notInitialized(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return InitializationError.fromCode(5002,M)}};(0,J.Z)(InitializationError,"messages",{5e3:"Custom",5001:"Invalid constructor params",5002:"SDK not initialized. please call init first"});let LoginError=class LoginError extends OpenloginError{constructor(M,P){super(M,P),Object.defineProperty(this,"name",{value:"LoginError"})}static fromCode(M){let P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new LoginError(M,`${LoginError.messages[M]}, ${P}`)}static invalidLoginParams(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return LoginError.fromCode(5111,M)}static userNotLoggedIn(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return LoginError.fromCode(5112,M)}static popupClosed(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return LoginError.fromCode(5113,M)}static loginFailed(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return LoginError.fromCode(5114,M)}};(0,J.Z)(LoginError,"messages",{5e3:"Custom",5111:"Invalid login params",5112:"User not logged in.",5113:"login popup has been closed by the user",5114:"Login failed"});let e7=(0,H.getLogger)("openlogin");e7.setLevel("error");let e9="6.0.0";function getHashQueryParams(){let M=arguments.length>0&&void 0!==arguments[0]&&arguments[0],P={},E=new URL(window.location.href);E.searchParams.forEach((M,E)=>{"result"!==E&&(P[E]=M)});let O=E.searchParams.get("result");if(O)try{let M=JSON.parse((0,F.sX)(O));Object.keys(M).forEach(E=>{P[E]=M[E]})}catch(M){e7.error(M)}let T=E.hash.substring(1),L=new URL(`${window.location.origin}/?${T}`);L.searchParams.forEach((M,E)=>{"result"!==E&&(P[E]=M)});let K=L.searchParams.get("result");if(K)try{let M=JSON.parse((0,F.sX)(K));Object.keys(M).forEach(E=>{P[E]=M[E]})}catch(M){e7.error(M)}if(M){let M=new URL(window.location.origin+window.location.pathname);if(M.search=window.location.search,K){let P=JSON.parse((0,F.sX)(K));delete P.sessionId,delete P.sessionNamespace,delete P.error,M.hash=(0,F.rb)(JSON.stringify(P))}window.history.replaceState((0,U.Z)((0,U.Z)({},window.history.state),{},{as:M.href,url:M.href}),"",M.href)}return P}function constructURL(M){let{baseURL:P,query:E,hash:O}=M,T=new URL(P);if(E&&Object.keys(E).forEach(M=>{T.searchParams.append(M,E[M])}),O){let M=new URL(constructURL({baseURL:P,query:O})).searchParams.toString();T.hash=M}return T.toString()}function getPopupFeatures(){if("undefined"==typeof window)return"";let M=void 0!==window.screenLeft?window.screenLeft:window.screenX,P=void 0!==window.screenTop?window.screenTop:window.screenY,E=1200,O=700,T=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,L=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,K=1,F=Math.abs((T-E)/2/K+M),U=Math.abs((L-O)/2/K+P),J=`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${O/K},width=${E/K},top=${U},left=${F}`;return J}function isMobileOrTablet(){if("undefined"==typeof window)return!1;let M=e4().getParser(window.navigator.userAgent),P=M.getPlatform();return P.type===e4().PLATFORMS_MAP.tablet||P.type===e4().PLATFORMS_MAP.mobile}function getTimeout(M){return(M===F.hG.FACEBOOK||M===F.hG.LINE)&&isMobileOrTablet()?3e5:1e4}let PopupHandler=class PopupHandler extends e8.EventEmitter{constructor(M){let{url:P,target:E,features:O,timeout:T=3e4}=M;super(),(0,J.Z)(this,"url",void 0),(0,J.Z)(this,"target",void 0),(0,J.Z)(this,"features",void 0),(0,J.Z)(this,"window",void 0),(0,J.Z)(this,"windowTimer",void 0),(0,J.Z)(this,"iClosedWindow",void 0),(0,J.Z)(this,"timeout",void 0),this.url=P,this.target=E||"_blank",this.features=O||getPopupFeatures(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=T,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),void 0===this.window&&clearInterval(this.windowTimer)},500))}open(){var M;this.window=window.open(this.url,this.target,this.features),null!==(M=this.window)&&void 0!==M&&M.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(M){M?window.location.replace(this.url):window.location.href=this.url}async listenOnChannel(M){let P=new SecurePubSub,E=await P.subscribe(M);this.close(),P.cleanup();let O=JSON.parse(E);return O.error?{error:O.error,state:O.state}:O.data}};let OpenLogin=class OpenLogin{constructor(M){if((0,J.Z)(this,"state",{}),(0,J.Z)(this,"options",void 0),(0,J.Z)(this,"sessionManager",void 0),(0,J.Z)(this,"currentStorage",void 0),(0,J.Z)(this,"_storageBaseKey","openlogin_store"),(0,J.Z)(this,"dappState",void 0),(0,J.Z)(this,"addVersionInUrls",!0),!M.clientId)throw InitializationError.invalidParams("clientId is required");if(M.network||(M.network=F.dr.SAPPHIRE_MAINNET),M.buildEnv||(M.buildEnv=F.Re.PRODUCTION),(M.buildEnv===F.Re.DEVELOPMENT||M.buildEnv===F.Re.TESTING||M.sdkUrl)&&(this.addVersionInUrls=!1),M.sdkUrl||M.useMpc||(M.buildEnv===F.Re.DEVELOPMENT?M.sdkUrl="http://localhost:3000":M.buildEnv===F.Re.STAGING?M.sdkUrl="https://staging-auth.web3auth.io":M.buildEnv===F.Re.TESTING?M.sdkUrl="https://develop-auth.web3auth.io":M.sdkUrl="https://auth.web3auth.io"),M.useMpc&&!M.sdkUrl){if(Object.values(F.Ad).includes(M.network))throw Error("MPC is not supported on legacy networks");M.buildEnv===F.Re.DEVELOPMENT?M.sdkUrl="http://localhost:3000":M.buildEnv===F.Re.STAGING?M.sdkUrl="https://staging-mpc-auth.web3auth.io":M.buildEnv===F.Re.TESTING?M.sdkUrl="https://develop-mpc-auth.web3auth.io":M.sdkUrl="https://mpc-auth.web3auth.io"}M.redirectUrl||"undefined"==typeof window||(M.redirectUrl=`${window.location.protocol}//${window.location.host}${window.location.pathname}`),M.uxMode||(M.uxMode=F.$e.REDIRECT),"boolean"!=typeof M.replaceUrlOnRedirect&&(M.replaceUrlOnRedirect=!0),M.originData||(M.originData={}),M.whiteLabel||(M.whiteLabel={}),M.loginConfig||(M.loginConfig={}),M.mfaSettings||(M.mfaSettings={}),M.storageServerUrl||(M.storageServerUrl="https://broadcast-server.tor.us"),M.storageKey||(M.storageKey="local"),M.webauthnTransports||(M.webauthnTransports=["internal"]),M.sessionTime||(M.sessionTime=86400),this.options=M}get privKey(){return this.options.useMpc?this.state.factorKey||"":this.state.privKey?this.state.privKey.padStart(64,"0"):""}get coreKitKey(){return this.state.coreKitKey?this.state.coreKitKey.padStart(64,"0"):""}get ed25519PrivKey(){return this.state.ed25519PrivKey?this.state.ed25519PrivKey.padStart(128,"0"):""}get coreKitEd25519Key(){return this.state.coreKitEd25519PrivKey?this.state.coreKitEd25519PrivKey.padStart(128,"0"):""}get sessionId(){return this.state.sessionId||""}get sessionNamespace(){return this.options.sessionNamespace||""}get appState(){return this.state.userInfo.appState||this.dappState||""}get baseUrl(){return this.addVersionInUrls?`${this.options.sdkUrl}/v${e9.split(".")[0]}`:`${this.options.sdkUrl}`}async init(){let M=getHashQueryParams(this.options.replaceUrlOnRedirect);M.sessionNamespace&&(this.options.sessionNamespace=M.sessionNamespace);let P=this.options.sessionNamespace?`${this._storageBaseKey}_${this.options.sessionNamespace}`:this._storageBaseKey;this.currentStorage=F.BN.getInstance(P,this.options.storageKey);let E=this.currentStorage.get("sessionId");if(this.sessionManager=new OpenloginSessionManager({sessionServerBaseUrl:this.options.storageServerUrl,sessionNamespace:this.options.sessionNamespace,sessionTime:this.options.sessionTime,sessionId:E}),(this.options.network===F.dr.TESTNET||this.options.network===F.dr.SAPPHIRE_DEVNET)&&console.log(`%c WARNING! You are on ${this.options.network}. Please set network: 'mainnet' or 'sapphire_mainnet' in production`,"color: #FF0000"),this.options.buildEnv!==F.Re.PRODUCTION&&console.log(`%c WARNING! You are using build env ${this.options.buildEnv}. Please set buildEnv: 'production' in production`,"color: #FF0000"),M.error)throw this.dappState=M.state,LoginError.loginFailed(M.error);if(M.sessionId&&(this.currentStorage.set("sessionId",M.sessionId),this.sessionManager.sessionId=M.sessionId),this.sessionManager.sessionId){let M=await this._authorizeSession();this.updateState(M),0===Object.keys(M).length&&this.currentStorage.set("sessionId","")}}async login(M){if(!M.loginProvider)throw LoginError.invalidLoginParams("loginProvider is required");let P={redirectUrl:this.options.redirectUrl},E=(0,U.Z)((0,U.Z)({loginProvider:M.loginProvider},P),M),O={actionType:F.RW.LOGIN,options:this.options,params:E},T=await this.openloginHandler(`${this.baseUrl}/start`,O,getTimeout(M.loginProvider));if(this.options.uxMode===F.$e.REDIRECT)return null;if(T.error)throw this.dappState=T.state,LoginError.loginFailed(T.error);return this.sessionManager.sessionId=T.sessionId,this.options.sessionNamespace=T.sessionNamespace,this.currentStorage.set("sessionId",T.sessionId),await this.rehydrateSession(),{privKey:this.privKey}}async logout(){if(!this.sessionManager.sessionId)throw LoginError.userNotLoggedIn();await this.sessionManager.invalidateSession(),this.updateState({privKey:"",coreKitKey:"",coreKitEd25519PrivKey:"",ed25519PrivKey:"",walletKey:"",oAuthPrivateKey:"",tKey:"",metadataNonce:"",keyMode:void 0,userInfo:{name:"",profileImage:"",dappShare:"",idToken:"",oAuthIdToken:"",oAuthAccessToken:"",appState:"",email:"",verifier:"",verifierId:"",aggregateVerifier:"",typeOfLogin:"",isMfaEnabled:!1},authToken:"",sessionId:"",factorKey:"",signatures:[],tssShareIndex:-1,tssPubKey:"",tssShare:"",tssNonce:-1}),this.currentStorage.set("sessionId","")}async setupMFA(M){if(!this.sessionId)throw LoginError.userNotLoggedIn();let P={redirectUrl:this.options.redirectUrl},E={actionType:F.RW.ENABLE_MFA,options:this.options,params:(0,U.Z)((0,U.Z)({},P),M),sessionId:this.sessionId},O=await this.openloginHandler(`${this.baseUrl}/start`,E);if(this.options.uxMode!==F.$e.REDIRECT)return this.sessionManager.sessionId=O.sessionId,this.options.sessionNamespace=O.sessionNamespace,this.currentStorage.set("sessionId",O.sessionId),await this.rehydrateSession(),!0}async changeSocialFactor(M){if(!this.sessionId)throw LoginError.userNotLoggedIn();let P={redirectUrl:this.options.redirectUrl},E={actionType:F.RW.MODIFY_MFA,options:this.options,params:(0,U.Z)((0,U.Z)({},P),M),sessionId:this.sessionId},O=await this.openloginHandler(`${this.baseUrl}/start`,E);if(this.options.uxMode!==F.$e.REDIRECT)return this.sessionManager.sessionId=O.sessionId,this.options.sessionNamespace=O.sessionNamespace,this.currentStorage.set("sessionId",O.sessionId),await this.rehydrateSession(),!0}getUserInfo(){if(!this.sessionManager.sessionId)throw LoginError.userNotLoggedIn();return this.state.userInfo}async getLoginId(M){if(!this.sessionManager)throw InitializationError.notInitialized();let P=OpenloginSessionManager.generateRandomSessionKey(),E=new OpenloginSessionManager({sessionServerBaseUrl:this.options.storageServerUrl,sessionNamespace:this.options.sessionNamespace,sessionTime:600,sessionId:P});return await E.createSession(JSON.parse(JSON.stringify(M))),P}async _authorizeSession(){try{if(!this.sessionManager.sessionId)return{};let M=await this.sessionManager.authorizeSession();return M}catch(M){return e7.error("authorization failed",M),{}}}updateState(M){this.state=(0,U.Z)((0,U.Z)({},this.state),M)}async rehydrateSession(){let M=await this._authorizeSession();this.updateState(M)}async openloginHandler(M,P){let E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4,O=await this.getLoginId(P),T={loginId:O,sessionNamespace:this.options.sessionNamespace};if(this.options.uxMode===F.$e.REDIRECT){let P=constructURL({baseURL:M,hash:{b64Params:(0,F.zc)(T)}});window.location.href=P;return}return new Promise((P,L)=>{let K=constructURL({baseURL:M,hash:{b64Params:(0,F.zc)(T)}}),U=new PopupHandler({url:K,timeout:E});U.on("close",()=>{L(LoginError.popupClosed())}),U.listenOnChannel(O).then(P).catch(L),U.open()})}};var e5=E(85783),te=E(72378),tt=E.n(te);let getOpenloginDefaultOptions=()=>({adapterSettings:{network:F.dr.SAPPHIRE_MAINNET,clientId:"",uxMode:F.$e.POPUP},loginSettings:{},privateKeyProvider:void 0});let OpenloginAdapter=class OpenloginAdapter extends e5.J5{constructor(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(M),(0,J.Z)(this,"name",e5.rW.OPENLOGIN),(0,J.Z)(this,"adapterNamespace",e5.yk.MULTICHAIN),(0,J.Z)(this,"type",e5.hN.IN_APP),(0,J.Z)(this,"openloginInstance",null),(0,J.Z)(this,"status",e5.MP.NOT_READY),(0,J.Z)(this,"currentChainNamespace",e5.EN.EIP155),(0,J.Z)(this,"privateKeyProvider",null),(0,J.Z)(this,"openloginOptions",void 0),(0,J.Z)(this,"loginSettings",{loginProvider:""}),this.setAdapterSettings((0,U.Z)((0,U.Z)({},M.adapterSettings),{},{chainConfig:M.chainConfig,clientId:M.clientId||"",sessionTime:M.sessionTime,web3AuthNetwork:M.web3AuthNetwork,useCoreKitKey:M.useCoreKitKey,privateKeyProvider:M.privateKeyProvider})),this.loginSettings=M.loginSettings||{loginProvider:""},this.privateKeyProvider=M.privateKeyProvider||null}get chainConfigProxy(){return this.chainConfig?(0,U.Z)({},this.chainConfig):null}get provider(){return this.status!==e5.MP.NOT_READY&&this.privateKeyProvider?this.privateKeyProvider:null}set provider(M){throw Error("Not implemented")}async init(M){if(super.checkInitializationRequirements(),!this.clientId)throw e5.Ty.invalidParams("clientId is required before openlogin's initialization");if(!this.openloginOptions)throw e5.Ty.invalidParams("openloginOptions is required before openlogin's initialization");let P=this.openloginOptions.uxMode===F.$e.REDIRECT;if(this.openloginOptions=(0,U.Z)((0,U.Z)({},this.openloginOptions),{},{replaceUrlOnRedirect:P}),this.openloginInstance=new OpenLogin((0,U.Z)((0,U.Z)({},this.openloginOptions),{},{clientId:this.clientId,network:this.openloginOptions.network||this.web3AuthNetwork||F.dr.SAPPHIRE_MAINNET})),e5.cM.debug("initializing openlogin adapter init"),await this.openloginInstance.init(),!this.chainConfig)throw e5.Ty.invalidParams("chainConfig is required before initialization");this.status=e5.MP.READY,this.emit(e5.n2.READY,e5.rW.OPENLOGIN);try{e5.cM.debug("initializing openlogin adapter");let E=this._getFinalPrivKey();E&&(M.autoConnect||P)&&(this.rehydrated=!0,await this.connect())}catch(M){e5.cM.error("Failed to connect with cached openlogin provider",M),this.emit("ERRORED",M)}}async connect(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loginProvider:""};super.checkConnectionRequirements(),this.status=e5.MP.CONNECTING,this.emit(e5.n2.CONNECTING,(0,U.Z)((0,U.Z)({},M),{},{adapter:e5.rW.OPENLOGIN}));try{return await this.connectWithProvider(M),this.provider}catch(M){if(e5.cM.error("Failed to connect with openlogin provider",M),this.status=e5.MP.READY,this.emit(e5.n2.ERRORED,M),null!=M&&M.message.includes("user closed popup"))throw e5.RM.popupClosed();if(M instanceof e5.up)throw M;throw e5.RM.connectionError("Failed to login with openlogin")}}async disconnect(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cleanup:!1};if(this.status!==e5.MP.CONNECTED)throw e5.RM.notConnectedError("Not connected with wallet");if(!this.openloginInstance)throw e5.Ty.notReady("openloginInstance is not ready");await this.openloginInstance.logout(),M.cleanup?(this.status=e5.MP.NOT_READY,this.openloginInstance=null,this.privateKeyProvider=null):this.status=e5.MP.READY,this.rehydrated=!1,this.emit(e5.n2.DISCONNECTED)}async authenticateUser(){if(this.status!==e5.MP.CONNECTED)throw e5.RM.notConnectedError("Not connected with wallet, Please login/connect first");let M=await this.getUserInfo();return{idToken:M.idToken}}async getUserInfo(){if(this.status!==e5.MP.CONNECTED)throw e5.RM.notConnectedError("Not connected with wallet");if(!this.openloginInstance)throw e5.Ty.notReady("openloginInstance is not ready");let M=this.openloginInstance.getUserInfo();return M}setAdapterSettings(M){super.setAdapterSettings(M);let P=getOpenloginDefaultOptions();e5.cM.info("setting adapter settings",M),this.openloginOptions=(0,U.Z)((0,U.Z)((0,U.Z)({},P.adapterSettings),this.openloginOptions),M),M.web3AuthNetwork&&(this.openloginOptions.network=M.web3AuthNetwork),void 0!==M.useCoreKitKey&&(this.openloginOptions.useCoreKitKey=M.useCoreKitKey),M.privateKeyProvider&&(this.privateKeyProvider=M.privateKeyProvider)}async addChain(M){var P;let E=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.checkAddChainRequirements(M,E),null===(P=this.privateKeyProvider)||void 0===P||P.addChain(M),this.addChainConfig(M)}async switchChain(M){var P;let E=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.checkSwitchChainRequirements(M,E),await (null===(P=this.privateKeyProvider)||void 0===P?void 0:P.switchChain(M)),this.setAdapterSettings({chainConfig:this.getChainConfig(M.chainId)})}_getFinalPrivKey(){var M;if(!this.openloginInstance)return"";let P=this.openloginInstance.privKey;if(null!==(M=this.openloginOptions)&&void 0!==M&&M.useCoreKitKey){if(this.openloginInstance.privKey&&!this.openloginInstance.coreKitKey)throw e5.RM.coreKitKeyNotFound();P=this.openloginInstance.coreKitKey}return P}_getFinalEd25519PrivKey(){var M;if(!this.openloginInstance)return"";let P=this.openloginInstance.ed25519PrivKey;if(null!==(M=this.openloginOptions)&&void 0!==M&&M.useCoreKitKey){if(this.openloginInstance.ed25519PrivKey&&!this.openloginInstance.coreKitEd25519Key)throw e5.RM.coreKitKeyNotFound();P=this.openloginInstance.coreKitEd25519Key}return P}async connectWithProvider(){var M,P;let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loginProvider:""};if(!this.privateKeyProvider)throw e5.Ty.invalidParams("PrivateKey Provider is required before initialization");if(!this.openloginInstance)throw e5.Ty.notReady("openloginInstance is not ready");let O=this._getFinalPrivKey();if(!O||null!==(M=E.extraLoginOptions)&&void 0!==M&&M.id_token){if(this.loginSettings.curve||(this.loginSettings.curve=this.currentChainNamespace===e5.EN.SOLANA?F.x7.ED25519:F.x7.SECP256K1),!E.loginProvider&&!this.loginSettings.loginProvider)throw e5.Ty.invalidParams("loginProvider is required for login");await this.openloginInstance.login(tt()(this.loginSettings,E,{extraLoginOptions:(0,U.Z)((0,U.Z)({},E.extraLoginOptions||{}),{},{login_hint:E.login_hint||(null===(P=E.extraLoginOptions)||void 0===P?void 0:P.login_hint)})}))}let T=this._getFinalPrivKey();T&&(this.currentChainNamespace===e5.EN.SOLANA&&(T=this._getFinalEd25519PrivKey()),await this.privateKeyProvider.setupProvider(T),this.status=e5.MP.CONNECTED,this.emit(e5.n2.CONNECTED,{adapter:e5.rW.OPENLOGIN,reconnected:this.rehydrated}))}}},29931:function(M,P,E){var O;function Rand(M){this.rand=M}if(M.exports=function(M){return O||(O=new Rand(null)),O.generate(M)},M.exports.Rand=Rand,Rand.prototype.generate=function(M){return this._rand(M)},Rand.prototype._rand=function(M){if(this.rand.getBytes)return this.rand.getBytes(M);for(var P=new Uint8Array(M),E=0;E<P.length;E++)P[E]=this.rand.getByte();return P},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?Rand.prototype._rand=function(M){var P=new Uint8Array(M);return self.crypto.getRandomValues(P),P}:self.msCrypto&&self.msCrypto.getRandomValues?Rand.prototype._rand=function(M){var P=new Uint8Array(M);return self.msCrypto.getRandomValues(P),P}:"object"==typeof window&&(Rand.prototype._rand=function(){throw Error("Not implemented yet")});else try{var T=E(89214);if("function"!=typeof T.randomBytes)throw Error("Not supported");Rand.prototype._rand=function(M){return T.randomBytes(M)}}catch(M){}},86266:function(M,P,E){"use strict";var O=P;O.version=E(18597).i8,O.utils=E(80953),O.rand=E(29931),O.curve=E(88254),O.curves=E(45427),O.ec=E(57954),O.eddsa=E(65980)},4918:function(M,P,E){"use strict";var O=E(73785),T=E(80953),L=T.getNAF,K=T.getJSF,F=T.assert;function BaseCurve(M,P){this.type=M,this.p=new O(P.p,16),this.red=P.prime?O.red(P.prime):O.mont(this.p),this.zero=new O(0).toRed(this.red),this.one=new O(1).toRed(this.red),this.two=new O(2).toRed(this.red),this.n=P.n&&new O(P.n,16),this.g=P.g&&this.pointFromJSON(P.g,P.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var E=this.n&&this.p.div(this.n);!E||E.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function BasePoint(M,P){this.curve=M,this.type=P,this.precomputed=null}M.exports=BaseCurve,BaseCurve.prototype.point=function(){throw Error("Not implemented")},BaseCurve.prototype.validate=function(){throw Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function(M,P){F(M.precomputed);var E,O,T=M._getDoubles(),K=L(P,1,this._bitLength),U=(1<<T.step+1)-(T.step%2==0?2:1);U/=3;var J=[];for(E=0;E<K.length;E+=T.step){O=0;for(var Z=E+T.step-1;Z>=E;Z--)O=(O<<1)+K[Z];J.push(O)}for(var H=this.jpoint(null,null,null),V=this.jpoint(null,null,null),$=U;$>0;$--){for(E=0;E<J.length;E++)(O=J[E])===$?V=V.mixedAdd(T.points[E]):O===-$&&(V=V.mixedAdd(T.points[E].neg()));H=H.add(V)}return H.toP()},BaseCurve.prototype._wnafMul=function(M,P){var E=4,O=M._getNAFPoints(E);E=O.wnd;for(var T=O.points,K=L(P,E,this._bitLength),U=this.jpoint(null,null,null),J=K.length-1;J>=0;J--){for(var Z=0;J>=0&&0===K[J];J--)Z++;if(J>=0&&Z++,U=U.dblp(Z),J<0)break;var H=K[J];F(0!==H),U="affine"===M.type?H>0?U.mixedAdd(T[H-1>>1]):U.mixedAdd(T[-H-1>>1].neg()):H>0?U.add(T[H-1>>1]):U.add(T[-H-1>>1].neg())}return"affine"===M.type?U.toP():U},BaseCurve.prototype._wnafMulAdd=function(M,P,E,O,T){var F,U,J,Z=this._wnafT1,H=this._wnafT2,V=this._wnafT3,$=0;for(F=0;F<O;F++){var W=(J=P[F])._getNAFPoints(M);Z[F]=W.wnd,H[F]=W.points}for(F=O-1;F>=1;F-=2){var Y=F-1,X=F;if(1!==Z[Y]||1!==Z[X]){V[Y]=L(E[Y],Z[Y],this._bitLength),V[X]=L(E[X],Z[X],this._bitLength),$=Math.max(V[Y].length,$),$=Math.max(V[X].length,$);continue}var G=[P[Y],null,null,P[X]];0===P[Y].y.cmp(P[X].y)?(G[1]=P[Y].add(P[X]),G[2]=P[Y].toJ().mixedAdd(P[X].neg())):0===P[Y].y.cmp(P[X].y.redNeg())?(G[1]=P[Y].toJ().mixedAdd(P[X]),G[2]=P[Y].add(P[X].neg())):(G[1]=P[Y].toJ().mixedAdd(P[X]),G[2]=P[Y].toJ().mixedAdd(P[X].neg()));var et=[-3,-1,-5,-7,0,7,5,1,3],er=K(E[Y],E[X]);for(U=0,$=Math.max(er[0].length,$),V[Y]=Array($),V[X]=Array($);U<$;U++){var ei=0|er[0][U],en=0|er[1][U];V[Y][U]=et[(ei+1)*3+(en+1)],V[X][U]=0,H[Y]=G}}var es=this.jpoint(null,null,null),eo=this._wnafT4;for(F=$;F>=0;F--){for(var ea=0;F>=0;){var ed=!0;for(U=0;U<O;U++)eo[U]=0|V[U][F],0!==eo[U]&&(ed=!1);if(!ed)break;ea++,F--}if(F>=0&&ea++,es=es.dblp(ea),F<0)break;for(U=0;U<O;U++){var ef=eo[U];0!==ef&&(ef>0?J=H[U][ef-1>>1]:ef<0&&(J=H[U][-ef-1>>1].neg()),es="affine"===J.type?es.mixedAdd(J):es.add(J))}}for(F=0;F<O;F++)H[F]=null;return T?es:es.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function(){throw Error("Not implemented")},BasePoint.prototype.validate=function(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function(M,P){M=T.toArray(M,P);var E=this.p.byteLength();if((4===M[0]||6===M[0]||7===M[0])&&M.length-1==2*E)return 6===M[0]?F(M[M.length-1]%2==0):7===M[0]&&F(M[M.length-1]%2==1),this.point(M.slice(1,1+E),M.slice(1+E,1+2*E));if((2===M[0]||3===M[0])&&M.length-1===E)return this.pointFromX(M.slice(1,1+E),3===M[0]);throw Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function(M){return this.encode(M,!0)},BasePoint.prototype._encode=function(M){var P=this.curve.p.byteLength(),E=this.getX().toArray("be",P);return M?[this.getY().isEven()?2:3].concat(E):[4].concat(E,this.getY().toArray("be",P))},BasePoint.prototype.encode=function(M,P){return T.encode(this._encode(P),M)},BasePoint.prototype.precompute=function(M){if(this.precomputed)return this;var P={doubles:null,naf:null,beta:null};return P.naf=this._getNAFPoints(8),P.doubles=this._getDoubles(4,M),P.beta=this._getBeta(),this.precomputed=P,this},BasePoint.prototype._hasDoubles=function(M){if(!this.precomputed)return!1;var P=this.precomputed.doubles;return!!P&&P.points.length>=Math.ceil((M.bitLength()+1)/P.step)},BasePoint.prototype._getDoubles=function(M,P){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var E=[this],O=this,T=0;T<P;T+=M){for(var L=0;L<M;L++)O=O.dbl();E.push(O)}return{step:M,points:E}},BasePoint.prototype._getNAFPoints=function(M){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var P=[this],E=(1<<M)-1,O=1===E?null:this.dbl(),T=1;T<E;T++)P[T]=P[T-1].add(O);return{wnd:M,points:P}},BasePoint.prototype._getBeta=function(){return null},BasePoint.prototype.dblp=function(M){for(var P=this,E=0;E<M;E++)P=P.dbl();return P}},31138:function(M,P,E){"use strict";var O=E(80953),T=E(73785),L=E(35717),K=E(4918),F=O.assert;function EdwardsCurve(M){this.twisted=(0|M.a)!=1,this.mOneA=this.twisted&&(0|M.a)==-1,this.extended=this.mOneA,K.call(this,"edwards",M),this.a=new T(M.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new T(M.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new T(M.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),F(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=(0|M.c)==1}function Point(M,P,E,O,L){K.BasePoint.call(this,M,"projective"),null===P&&null===E&&null===O?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new T(P,16),this.y=new T(E,16),this.z=O?new T(O,16):this.curve.one,this.t=L&&new T(L,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,!this.curve.extended||this.t||(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}L(EdwardsCurve,K),M.exports=EdwardsCurve,EdwardsCurve.prototype._mulA=function(M){return this.mOneA?M.redNeg():this.a.redMul(M)},EdwardsCurve.prototype._mulC=function(M){return this.oneC?M:this.c.redMul(M)},EdwardsCurve.prototype.jpoint=function(M,P,E,O){return this.point(M,P,E,O)},EdwardsCurve.prototype.pointFromX=function(M,P){(M=new T(M,16)).red||(M=M.toRed(this.red));var E=M.redSqr(),O=this.c2.redSub(this.a.redMul(E)),L=this.one.redSub(this.c2.redMul(this.d).redMul(E)),K=O.redMul(L.redInvm()),F=K.redSqrt();if(0!==F.redSqr().redSub(K).cmp(this.zero))throw Error("invalid point");var U=F.fromRed().isOdd();return(P&&!U||!P&&U)&&(F=F.redNeg()),this.point(M,F)},EdwardsCurve.prototype.pointFromY=function(M,P){(M=new T(M,16)).red||(M=M.toRed(this.red));var E=M.redSqr(),O=E.redSub(this.c2),L=E.redMul(this.d).redMul(this.c2).redSub(this.a),K=O.redMul(L.redInvm());if(0===K.cmp(this.zero)){if(!P)return this.point(this.zero,M);throw Error("invalid point")}var F=K.redSqrt();if(0!==F.redSqr().redSub(K).cmp(this.zero))throw Error("invalid point");return F.fromRed().isOdd()!==P&&(F=F.redNeg()),this.point(F,M)},EdwardsCurve.prototype.validate=function(M){if(M.isInfinity())return!0;M.normalize();var P=M.x.redSqr(),E=M.y.redSqr(),O=P.redMul(this.a).redAdd(E),T=this.c2.redMul(this.one.redAdd(this.d.redMul(P).redMul(E)));return 0===O.cmp(T)},L(Point,K.BasePoint),EdwardsCurve.prototype.pointFromJSON=function(M){return Point.fromJSON(this,M)},EdwardsCurve.prototype.point=function(M,P,E,O){return new Point(this,M,P,E,O)},Point.fromJSON=function(M,P){return new Point(M,P[0],P[1],P[2])},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},Point.prototype._extDbl=function(){var M=this.x.redSqr(),P=this.y.redSqr(),E=this.z.redSqr();E=E.redIAdd(E);var O=this.curve._mulA(M),T=this.x.redAdd(this.y).redSqr().redISub(M).redISub(P),L=O.redAdd(P),K=L.redSub(E),F=O.redSub(P),U=T.redMul(K),J=L.redMul(F),Z=T.redMul(F),H=K.redMul(L);return this.curve.point(U,J,H,Z)},Point.prototype._projDbl=function(){var M,P,E,O,T,L,K=this.x.redAdd(this.y).redSqr(),F=this.x.redSqr(),U=this.y.redSqr();if(this.curve.twisted){var J=(O=this.curve._mulA(F)).redAdd(U);this.zOne?(M=K.redSub(F).redSub(U).redMul(J.redSub(this.curve.two)),P=J.redMul(O.redSub(U)),E=J.redSqr().redSub(J).redSub(J)):(T=this.z.redSqr(),L=J.redSub(T).redISub(T),M=K.redSub(F).redISub(U).redMul(L),P=J.redMul(O.redSub(U)),E=J.redMul(L))}else O=F.redAdd(U),T=this.curve._mulC(this.z).redSqr(),L=O.redSub(T).redSub(T),M=this.curve._mulC(K.redISub(O)).redMul(L),P=this.curve._mulC(O).redMul(F.redISub(U)),E=O.redMul(L);return this.curve.point(M,P,E)},Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function(M){var P=this.y.redSub(this.x).redMul(M.y.redSub(M.x)),E=this.y.redAdd(this.x).redMul(M.y.redAdd(M.x)),O=this.t.redMul(this.curve.dd).redMul(M.t),T=this.z.redMul(M.z.redAdd(M.z)),L=E.redSub(P),K=T.redSub(O),F=T.redAdd(O),U=E.redAdd(P),J=L.redMul(K),Z=F.redMul(U),H=L.redMul(U),V=K.redMul(F);return this.curve.point(J,Z,V,H)},Point.prototype._projAdd=function(M){var P,E,O=this.z.redMul(M.z),T=O.redSqr(),L=this.x.redMul(M.x),K=this.y.redMul(M.y),F=this.curve.d.redMul(L).redMul(K),U=T.redSub(F),J=T.redAdd(F),Z=this.x.redAdd(this.y).redMul(M.x.redAdd(M.y)).redISub(L).redISub(K),H=O.redMul(U).redMul(Z);return this.curve.twisted?(P=O.redMul(J).redMul(K.redSub(this.curve._mulA(L))),E=U.redMul(J)):(P=O.redMul(J).redMul(K.redSub(L)),E=this.curve._mulC(U).redMul(J)),this.curve.point(H,P,E)},Point.prototype.add=function(M){return this.isInfinity()?M:M.isInfinity()?this:this.curve.extended?this._extAdd(M):this._projAdd(M)},Point.prototype.mul=function(M){return this._hasDoubles(M)?this.curve._fixedNafMul(this,M):this.curve._wnafMul(this,M)},Point.prototype.mulAdd=function(M,P,E){return this.curve._wnafMulAdd(1,[this,P],[M,E],2,!1)},Point.prototype.jmulAdd=function(M,P,E){return this.curve._wnafMulAdd(1,[this,P],[M,E],2,!0)},Point.prototype.normalize=function(){if(this.zOne)return this;var M=this.z.redInvm();return this.x=this.x.redMul(M),this.y=this.y.redMul(M),this.t&&(this.t=this.t.redMul(M)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function(M){return this===M||0===this.getX().cmp(M.getX())&&0===this.getY().cmp(M.getY())},Point.prototype.eqXToP=function(M){var P=M.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(P))return!0;for(var E=M.clone(),O=this.curve.redN.redMul(this.z);;){if(E.iadd(this.curve.n),E.cmp(this.curve.p)>=0)return!1;if(P.redIAdd(O),0===this.x.cmp(P))return!0}},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add},88254:function(M,P,E){"use strict";var O=P;O.base=E(4918),O.short=E(6673),O.mont=E(22881),O.edwards=E(31138)},22881:function(M,P,E){"use strict";var O=E(73785),T=E(35717),L=E(4918),K=E(80953);function MontCurve(M){L.call(this,"mont",M),this.a=new O(M.a,16).toRed(this.red),this.b=new O(M.b,16).toRed(this.red),this.i4=new O(4).toRed(this.red).redInvm(),this.two=new O(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function Point(M,P,E){L.BasePoint.call(this,M,"projective"),null===P&&null===E?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new O(P,16),this.z=new O(E,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}T(MontCurve,L),M.exports=MontCurve,MontCurve.prototype.validate=function(M){var P=M.normalize().x,E=P.redSqr(),O=E.redMul(P).redAdd(E.redMul(this.a)).redAdd(P);return 0===O.redSqrt().redSqr().cmp(O)},T(Point,L.BasePoint),MontCurve.prototype.decodePoint=function(M,P){return this.point(K.toArray(M,P),1)},MontCurve.prototype.point=function(M,P){return new Point(this,M,P)},MontCurve.prototype.pointFromJSON=function(M){return Point.fromJSON(this,M)},Point.prototype.precompute=function(){},Point.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Point.fromJSON=function(M,P){return new Point(M,P[0],P[1]||M.one)},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Point.prototype.dbl=function(){var M=this.x.redAdd(this.z).redSqr(),P=this.x.redSub(this.z).redSqr(),E=M.redSub(P),O=M.redMul(P),T=E.redMul(P.redAdd(this.curve.a24.redMul(E)));return this.curve.point(O,T)},Point.prototype.add=function(){throw Error("Not supported on Montgomery curve")},Point.prototype.diffAdd=function(M,P){var E=this.x.redAdd(this.z),O=this.x.redSub(this.z),T=M.x.redAdd(M.z),L=M.x.redSub(M.z).redMul(E),K=T.redMul(O),F=P.z.redMul(L.redAdd(K).redSqr()),U=P.x.redMul(L.redISub(K).redSqr());return this.curve.point(F,U)},Point.prototype.mul=function(M){for(var P=M.clone(),E=this,O=this.curve.point(null,null),T=this,L=[];0!==P.cmpn(0);P.iushrn(1))L.push(P.andln(1));for(var K=L.length-1;K>=0;K--)0===L[K]?(E=E.diffAdd(O,T),O=O.dbl()):(O=E.diffAdd(O,T),E=E.dbl());return O},Point.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},Point.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},Point.prototype.eq=function(M){return 0===this.getX().cmp(M.getX())},Point.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},6673:function(M,P,E){"use strict";var O=E(80953),T=E(73785),L=E(35717),K=E(4918),F=O.assert;function ShortCurve(M){K.call(this,"short",M),this.a=new T(M.a,16).toRed(this.red),this.b=new T(M.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(M),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function Point(M,P,E,O){K.BasePoint.call(this,M,"affine"),null===P&&null===E?(this.x=null,this.y=null,this.inf=!0):(this.x=new T(P,16),this.y=new T(E,16),O&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(M,P,E,O){K.BasePoint.call(this,M,"jacobian"),null===P&&null===E&&null===O?(this.x=this.curve.one,this.y=this.curve.one,this.z=new T(0)):(this.x=new T(P,16),this.y=new T(E,16),this.z=new T(O,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}L(ShortCurve,K),M.exports=ShortCurve,ShortCurve.prototype._getEndomorphism=function(M){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(M.beta)P=new T(M.beta,16).toRed(this.red);else{var P,E,O,L=this._getEndoRoots(this.p);P=(P=0>L[0].cmp(L[1])?L[0]:L[1]).toRed(this.red)}if(M.lambda)E=new T(M.lambda,16);else{var K=this._getEndoRoots(this.n);0===this.g.mul(K[0]).x.cmp(this.g.x.redMul(P))?E=K[0]:(E=K[1],F(0===this.g.mul(E).x.cmp(this.g.x.redMul(P))))}return O=M.basis?M.basis.map(function(M){return{a:new T(M.a,16),b:new T(M.b,16)}}):this._getEndoBasis(E),{beta:P,lambda:E,basis:O}}},ShortCurve.prototype._getEndoRoots=function(M){var P=M===this.p?this.red:T.mont(M),E=new T(2).toRed(P).redInvm(),O=E.redNeg(),L=new T(3).toRed(P).redNeg().redSqrt().redMul(E);return[O.redAdd(L).fromRed(),O.redSub(L).fromRed()]},ShortCurve.prototype._getEndoBasis=function(M){for(var P,E,O,L,K,F,U,J,Z,H=this.n.ushrn(Math.floor(this.n.bitLength()/2)),V=M,$=this.n.clone(),W=new T(1),Y=new T(0),X=new T(0),G=new T(1),et=0;0!==V.cmpn(0);){var er=$.div(V);J=$.sub(er.mul(V)),Z=X.sub(er.mul(W));var ei=G.sub(er.mul(Y));if(!O&&0>J.cmp(H))P=U.neg(),E=W,O=J.neg(),L=Z;else if(O&&2==++et)break;U=J,$=V,V=J,X=W,W=Z,G=Y,Y=ei}K=J.neg(),F=Z;var en=O.sqr().add(L.sqr());return K.sqr().add(F.sqr()).cmp(en)>=0&&(K=P,F=E),O.negative&&(O=O.neg(),L=L.neg()),K.negative&&(K=K.neg(),F=F.neg()),[{a:O,b:L},{a:K,b:F}]},ShortCurve.prototype._endoSplit=function(M){var P=this.endo.basis,E=P[0],O=P[1],T=O.b.mul(M).divRound(this.n),L=E.b.neg().mul(M).divRound(this.n),K=T.mul(E.a),F=L.mul(O.a),U=T.mul(E.b),J=L.mul(O.b);return{k1:M.sub(K).sub(F),k2:U.add(J).neg()}},ShortCurve.prototype.pointFromX=function(M,P){(M=new T(M,16)).red||(M=M.toRed(this.red));var E=M.redSqr().redMul(M).redIAdd(M.redMul(this.a)).redIAdd(this.b),O=E.redSqrt();if(0!==O.redSqr().redSub(E).cmp(this.zero))throw Error("invalid point");var L=O.fromRed().isOdd();return(P&&!L||!P&&L)&&(O=O.redNeg()),this.point(M,O)},ShortCurve.prototype.validate=function(M){if(M.inf)return!0;var P=M.x,E=M.y,O=this.a.redMul(P),T=P.redSqr().redMul(P).redIAdd(O).redIAdd(this.b);return 0===E.redSqr().redISub(T).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function(M,P,E){for(var O=this._endoWnafT1,T=this._endoWnafT2,L=0;L<M.length;L++){var K=this._endoSplit(P[L]),F=M[L],U=F._getBeta();K.k1.negative&&(K.k1.ineg(),F=F.neg(!0)),K.k2.negative&&(K.k2.ineg(),U=U.neg(!0)),O[2*L]=F,O[2*L+1]=U,T[2*L]=K.k1,T[2*L+1]=K.k2}for(var J=this._wnafMulAdd(1,O,T,2*L,E),Z=0;Z<2*L;Z++)O[Z]=null,T[Z]=null;return J},L(Point,K.BasePoint),ShortCurve.prototype.point=function(M,P,E){return new Point(this,M,P,E)},ShortCurve.prototype.pointFromJSON=function(M,P){return Point.fromJSON(this,M,P)},Point.prototype._getBeta=function(){if(this.curve.endo){var M=this.precomputed;if(M&&M.beta)return M.beta;var P=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(M){var E=this.curve,endoMul=function(M){return E.point(M.x.redMul(E.endo.beta),M.y)};M.beta=P,P.precomputed={beta:null,naf:M.naf&&{wnd:M.naf.wnd,points:M.naf.points.map(endoMul)},doubles:M.doubles&&{step:M.doubles.step,points:M.doubles.points.map(endoMul)}}}return P}},Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point.fromJSON=function(M,P,E){"string"==typeof P&&(P=JSON.parse(P));var O=M.point(P[0],P[1],E);if(!P[2])return O;function obj2point(P){return M.point(P[0],P[1],E)}var T=P[2];return O.precomputed={beta:null,doubles:T.doubles&&{step:T.doubles.step,points:[O].concat(T.doubles.points.map(obj2point))},naf:T.naf&&{wnd:T.naf.wnd,points:[O].concat(T.naf.points.map(obj2point))}},O},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return this.inf},Point.prototype.add=function(M){if(this.inf)return M;if(M.inf)return this;if(this.eq(M))return this.dbl();if(this.neg().eq(M)||0===this.x.cmp(M.x))return this.curve.point(null,null);var P=this.y.redSub(M.y);0!==P.cmpn(0)&&(P=P.redMul(this.x.redSub(M.x).redInvm()));var E=P.redSqr().redISub(this.x).redISub(M.x),O=P.redMul(this.x.redSub(E)).redISub(this.y);return this.curve.point(E,O)},Point.prototype.dbl=function(){if(this.inf)return this;var M=this.y.redAdd(this.y);if(0===M.cmpn(0))return this.curve.point(null,null);var P=this.curve.a,E=this.x.redSqr(),O=M.redInvm(),T=E.redAdd(E).redIAdd(E).redIAdd(P).redMul(O),L=T.redSqr().redISub(this.x.redAdd(this.x)),K=T.redMul(this.x.redSub(L)).redISub(this.y);return this.curve.point(L,K)},Point.prototype.getX=function(){return this.x.fromRed()},Point.prototype.getY=function(){return this.y.fromRed()},Point.prototype.mul=function(M){return(M=new T(M,16),this.isInfinity())?this:this._hasDoubles(M)?this.curve._fixedNafMul(this,M):this.curve.endo?this.curve._endoWnafMulAdd([this],[M]):this.curve._wnafMul(this,M)},Point.prototype.mulAdd=function(M,P,E){var O=[this,P],T=[M,E];return this.curve.endo?this.curve._endoWnafMulAdd(O,T):this.curve._wnafMulAdd(1,O,T,2)},Point.prototype.jmulAdd=function(M,P,E){var O=[this,P],T=[M,E];return this.curve.endo?this.curve._endoWnafMulAdd(O,T,!0):this.curve._wnafMulAdd(1,O,T,2,!0)},Point.prototype.eq=function(M){return this===M||this.inf===M.inf&&(this.inf||0===this.x.cmp(M.x)&&0===this.y.cmp(M.y))},Point.prototype.neg=function(M){if(this.inf)return this;var P=this.curve.point(this.x,this.y.redNeg());if(M&&this.precomputed){var E=this.precomputed,negate=function(M){return M.neg()};P.precomputed={naf:E.naf&&{wnd:E.naf.wnd,points:E.naf.points.map(negate)},doubles:E.doubles&&{step:E.doubles.step,points:E.doubles.points.map(negate)}}}return P},Point.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},L(JPoint,K.BasePoint),ShortCurve.prototype.jpoint=function(M,P,E){return new JPoint(this,M,P,E)},JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var M=this.z.redInvm(),P=M.redSqr(),E=this.x.redMul(P),O=this.y.redMul(P).redMul(M);return this.curve.point(E,O)},JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function(M){if(this.isInfinity())return M;if(M.isInfinity())return this;var P=M.z.redSqr(),E=this.z.redSqr(),O=this.x.redMul(P),T=M.x.redMul(E),L=this.y.redMul(P.redMul(M.z)),K=M.y.redMul(E.redMul(this.z)),F=O.redSub(T),U=L.redSub(K);if(0===F.cmpn(0))return 0!==U.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var J=F.redSqr(),Z=J.redMul(F),H=O.redMul(J),V=U.redSqr().redIAdd(Z).redISub(H).redISub(H),$=U.redMul(H.redISub(V)).redISub(L.redMul(Z)),W=this.z.redMul(M.z).redMul(F);return this.curve.jpoint(V,$,W)},JPoint.prototype.mixedAdd=function(M){if(this.isInfinity())return M.toJ();if(M.isInfinity())return this;var P=this.z.redSqr(),E=this.x,O=M.x.redMul(P),T=this.y,L=M.y.redMul(P).redMul(this.z),K=E.redSub(O),F=T.redSub(L);if(0===K.cmpn(0))return 0!==F.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var U=K.redSqr(),J=U.redMul(K),Z=E.redMul(U),H=F.redSqr().redIAdd(J).redISub(Z).redISub(Z),V=F.redMul(Z.redISub(H)).redISub(T.redMul(J)),$=this.z.redMul(K);return this.curve.jpoint(H,V,$)},JPoint.prototype.dblp=function(M){if(0===M||this.isInfinity())return this;if(!M)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var P,E=this;for(P=0;P<M;P++)E=E.dbl();return E}var O=this.curve.a,T=this.curve.tinv,L=this.x,K=this.y,F=this.z,U=F.redSqr().redSqr(),J=K.redAdd(K);for(P=0;P<M;P++){var Z=L.redSqr(),H=J.redSqr(),V=H.redSqr(),$=Z.redAdd(Z).redIAdd(Z).redIAdd(O.redMul(U)),W=L.redMul(H),Y=$.redSqr().redISub(W.redAdd(W)),X=W.redISub(Y),G=$.redMul(X);G=G.redIAdd(G).redISub(V);var et=J.redMul(F);P+1<M&&(U=U.redMul(V)),L=Y,F=et,J=G}return this.curve.jpoint(L,J.redMul(T),F)},JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function(){if(this.zOne){var M,P,E,O=this.x.redSqr(),T=this.y.redSqr(),L=T.redSqr(),K=this.x.redAdd(T).redSqr().redISub(O).redISub(L);K=K.redIAdd(K);var F=O.redAdd(O).redIAdd(O),U=F.redSqr().redISub(K).redISub(K),J=L.redIAdd(L);J=(J=J.redIAdd(J)).redIAdd(J),M=U,P=F.redMul(K.redISub(U)).redISub(J),E=this.y.redAdd(this.y)}else{var Z=this.x.redSqr(),H=this.y.redSqr(),V=H.redSqr(),$=this.x.redAdd(H).redSqr().redISub(Z).redISub(V);$=$.redIAdd($);var W=Z.redAdd(Z).redIAdd(Z),Y=W.redSqr(),X=V.redIAdd(V);X=(X=X.redIAdd(X)).redIAdd(X),M=Y.redISub($).redISub($),P=W.redMul($.redISub(M)).redISub(X),E=(E=this.y.redMul(this.z)).redIAdd(E)}return this.curve.jpoint(M,P,E)},JPoint.prototype._threeDbl=function(){if(this.zOne){var M,P,E,O=this.x.redSqr(),T=this.y.redSqr(),L=T.redSqr(),K=this.x.redAdd(T).redSqr().redISub(O).redISub(L);K=K.redIAdd(K);var F=O.redAdd(O).redIAdd(O).redIAdd(this.curve.a),U=F.redSqr().redISub(K).redISub(K);M=U;var J=L.redIAdd(L);J=(J=J.redIAdd(J)).redIAdd(J),P=F.redMul(K.redISub(U)).redISub(J),E=this.y.redAdd(this.y)}else{var Z=this.z.redSqr(),H=this.y.redSqr(),V=this.x.redMul(H),$=this.x.redSub(Z).redMul(this.x.redAdd(Z));$=$.redAdd($).redIAdd($);var W=V.redIAdd(V),Y=(W=W.redIAdd(W)).redAdd(W);M=$.redSqr().redISub(Y),E=this.y.redAdd(this.z).redSqr().redISub(H).redISub(Z);var X=H.redSqr();X=(X=(X=X.redIAdd(X)).redIAdd(X)).redIAdd(X),P=$.redMul(W.redISub(M)).redISub(X)}return this.curve.jpoint(M,P,E)},JPoint.prototype._dbl=function(){var M=this.curve.a,P=this.x,E=this.y,O=this.z,T=O.redSqr().redSqr(),L=P.redSqr(),K=E.redSqr(),F=L.redAdd(L).redIAdd(L).redIAdd(M.redMul(T)),U=P.redAdd(P),J=(U=U.redIAdd(U)).redMul(K),Z=F.redSqr().redISub(J.redAdd(J)),H=J.redISub(Z),V=K.redSqr();V=(V=(V=V.redIAdd(V)).redIAdd(V)).redIAdd(V);var $=F.redMul(H).redISub(V),W=E.redAdd(E).redMul(O);return this.curve.jpoint(Z,$,W)},JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var M=this.x.redSqr(),P=this.y.redSqr(),E=this.z.redSqr(),O=P.redSqr(),T=M.redAdd(M).redIAdd(M),L=T.redSqr(),K=this.x.redAdd(P).redSqr().redISub(M).redISub(O),F=(K=(K=(K=K.redIAdd(K)).redAdd(K).redIAdd(K)).redISub(L)).redSqr(),U=O.redIAdd(O);U=(U=(U=U.redIAdd(U)).redIAdd(U)).redIAdd(U);var J=T.redIAdd(K).redSqr().redISub(L).redISub(F).redISub(U),Z=P.redMul(J);Z=(Z=Z.redIAdd(Z)).redIAdd(Z);var H=this.x.redMul(F).redISub(Z);H=(H=H.redIAdd(H)).redIAdd(H);var V=this.y.redMul(J.redMul(U.redISub(J)).redISub(K.redMul(F)));V=(V=(V=V.redIAdd(V)).redIAdd(V)).redIAdd(V);var $=this.z.redAdd(K).redSqr().redISub(E).redISub(F);return this.curve.jpoint(H,V,$)},JPoint.prototype.mul=function(M,P){return M=new T(M,P),this.curve._wnafMul(this,M)},JPoint.prototype.eq=function(M){if("affine"===M.type)return this.eq(M.toJ());if(this===M)return!0;var P=this.z.redSqr(),E=M.z.redSqr();if(0!==this.x.redMul(E).redISub(M.x.redMul(P)).cmpn(0))return!1;var O=P.redMul(this.z),T=E.redMul(M.z);return 0===this.y.redMul(T).redISub(M.y.redMul(O)).cmpn(0)},JPoint.prototype.eqXToP=function(M){var P=this.z.redSqr(),E=M.toRed(this.curve.red).redMul(P);if(0===this.x.cmp(E))return!0;for(var O=M.clone(),T=this.curve.redN.redMul(P);;){if(O.iadd(this.curve.n),O.cmp(this.curve.p)>=0)return!1;if(E.redIAdd(T),0===this.x.cmp(E))return!0}},JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},45427:function(M,P,E){"use strict";var O,T=P,L=E(33715),K=E(88254),F=E(80953).assert;function PresetCurve(M){"short"===M.type?this.curve=new K.short(M):"edwards"===M.type?this.curve=new K.edwards(M):this.curve=new K.mont(M),this.g=this.curve.g,this.n=this.curve.n,this.hash=M.hash,F(this.g.validate(),"Invalid curve"),F(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function defineCurve(M,P){Object.defineProperty(T,M,{configurable:!0,enumerable:!0,get:function(){var E=new PresetCurve(P);return Object.defineProperty(T,M,{configurable:!0,enumerable:!0,value:E}),E}})}T.PresetCurve=PresetCurve,defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:L.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:L.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:L.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:L.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:L.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:L.sha256,gRed:!1,g:["9"]}),defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:L.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{O=E(91037)}catch(M){O=void 0}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:L.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",O]})},57954:function(M,P,E){"use strict";var O=E(73785),T=E(2156),L=E(80953),K=E(45427),F=E(29931),U=L.assert,J=E(31251),Z=E(90611);function EC(M){if(!(this instanceof EC))return new EC(M);"string"==typeof M&&(U(Object.prototype.hasOwnProperty.call(K,M),"Unknown curve "+M),M=K[M]),M instanceof K.PresetCurve&&(M={curve:M}),this.curve=M.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=M.curve.g,this.g.precompute(M.curve.n.bitLength()+1),this.hash=M.hash||M.curve.hash}M.exports=EC,EC.prototype.keyPair=function(M){return new J(this,M)},EC.prototype.keyFromPrivate=function(M,P){return J.fromPrivate(this,M,P)},EC.prototype.keyFromPublic=function(M,P){return J.fromPublic(this,M,P)},EC.prototype.genKeyPair=function(M){M||(M={});for(var P=new T({hash:this.hash,pers:M.pers,persEnc:M.persEnc||"utf8",entropy:M.entropy||F(this.hash.hmacStrength),entropyEnc:M.entropy&&M.entropyEnc||"utf8",nonce:this.n.toArray()}),E=this.n.byteLength(),L=this.n.sub(new O(2));;){var K=new O(P.generate(E));if(!(K.cmp(L)>0))return K.iaddn(1),this.keyFromPrivate(K)}},EC.prototype._truncateToN=function(M,P){var E=8*M.byteLength()-this.n.bitLength();return(E>0&&(M=M.ushrn(E)),!P&&M.cmp(this.n)>=0)?M.sub(this.n):M},EC.prototype.sign=function(M,P,E,L){"object"==typeof E&&(L=E,E=null),L||(L={}),P=this.keyFromPrivate(P,E),M=this._truncateToN(new O(M,16));for(var K=this.n.byteLength(),F=P.getPrivate().toArray("be",K),U=M.toArray("be",K),J=new T({hash:this.hash,entropy:F,nonce:U,pers:L.pers,persEnc:L.persEnc||"utf8"}),H=this.n.sub(new O(1)),V=0;;V++){var $=L.k?L.k(V):new O(J.generate(this.n.byteLength()));if(!(0>=($=this._truncateToN($,!0)).cmpn(1)||$.cmp(H)>=0)){var W=this.g.mul($);if(!W.isInfinity()){var Y=W.getX(),X=Y.umod(this.n);if(0!==X.cmpn(0)){var G=$.invm(this.n).mul(X.mul(P.getPrivate()).iadd(M));if(0!==(G=G.umod(this.n)).cmpn(0)){var et=(W.getY().isOdd()?1:0)|(0!==Y.cmp(X)?2:0);return L.canonical&&G.cmp(this.nh)>0&&(G=this.n.sub(G),et^=1),new Z({r:X,s:G,recoveryParam:et})}}}}}},EC.prototype.verify=function(M,P,E,T){M=this._truncateToN(new O(M,16)),E=this.keyFromPublic(E,T);var L,K=(P=new Z(P,"hex")).r,F=P.s;if(0>K.cmpn(1)||K.cmp(this.n)>=0||0>F.cmpn(1)||F.cmp(this.n)>=0)return!1;var U=F.invm(this.n),J=U.mul(M).umod(this.n),H=U.mul(K).umod(this.n);return this.curve._maxwellTrick?!(L=this.g.jmulAdd(J,E.getPublic(),H)).isInfinity()&&L.eqXToP(K):!(L=this.g.mulAdd(J,E.getPublic(),H)).isInfinity()&&0===L.getX().umod(this.n).cmp(K)},EC.prototype.recoverPubKey=function(M,P,E,T){U((3&E)===E,"The recovery param is more than two bits"),P=new Z(P,T);var L=this.n,K=new O(M),F=P.r,J=P.s,H=1&E,V=E>>1;if(F.cmp(this.curve.p.umod(this.curve.n))>=0&&V)throw Error("Unable to find sencond key candinate");F=V?this.curve.pointFromX(F.add(this.curve.n),H):this.curve.pointFromX(F,H);var $=P.r.invm(L),W=L.sub(K).mul($).umod(L),Y=J.mul($).umod(L);return this.g.mulAdd(W,F,Y)},EC.prototype.getKeyRecoveryParam=function(M,P,E,O){if(null!==(P=new Z(P,O)).recoveryParam)return P.recoveryParam;for(var T,L=0;L<4;L++){try{T=this.recoverPubKey(M,P,L)}catch(M){continue}if(T.eq(E))return L}throw Error("Unable to find valid recovery factor")}},31251:function(M,P,E){"use strict";var O=E(73785),T=E(80953).assert;function KeyPair(M,P){this.ec=M,this.priv=null,this.pub=null,P.priv&&this._importPrivate(P.priv,P.privEnc),P.pub&&this._importPublic(P.pub,P.pubEnc)}M.exports=KeyPair,KeyPair.fromPublic=function(M,P,E){return P instanceof KeyPair?P:new KeyPair(M,{pub:P,pubEnc:E})},KeyPair.fromPrivate=function(M,P,E){return P instanceof KeyPair?P:new KeyPair(M,{priv:P,privEnc:E})},KeyPair.prototype.validate=function(){var M=this.getPublic();return M.isInfinity()?{result:!1,reason:"Invalid public key"}:M.validate()?M.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair.prototype.getPublic=function(M,P){return("string"==typeof M&&(P=M,M=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),P)?this.pub.encode(P,M):this.pub},KeyPair.prototype.getPrivate=function(M){return"hex"===M?this.priv.toString(16,2):this.priv},KeyPair.prototype._importPrivate=function(M,P){this.priv=new O(M,P||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair.prototype._importPublic=function(M,P){if(M.x||M.y){"mont"===this.ec.curve.type?T(M.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&T(M.x&&M.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(M.x,M.y);return}this.pub=this.ec.curve.decodePoint(M,P)},KeyPair.prototype.derive=function(M){return M.validate()||T(M.validate(),"public point not validated"),M.mul(this.priv).getX()},KeyPair.prototype.sign=function(M,P,E){return this.ec.sign(M,this,P,E)},KeyPair.prototype.verify=function(M,P){return this.ec.verify(M,P,this)},KeyPair.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},90611:function(M,P,E){"use strict";var O=E(73785),T=E(80953),L=T.assert;function Signature(M,P){if(M instanceof Signature)return M;this._importDER(M,P)||(L(M.r&&M.s,"Signature without r or s"),this.r=new O(M.r,16),this.s=new O(M.s,16),void 0===M.recoveryParam?this.recoveryParam=null:this.recoveryParam=M.recoveryParam)}function Position(){this.place=0}function getLength(M,P){var E=M[P.place++];if(!(128&E))return E;var O=15&E;if(0===O||O>4)return!1;for(var T=0,L=0,K=P.place;L<O;L++,K++)T<<=8,T|=M[K],T>>>=0;return!(T<=127)&&(P.place=K,T)}function rmPadding(M){for(var P=0,E=M.length-1;!M[P]&&!(128&M[P+1])&&P<E;)P++;return 0===P?M:M.slice(P)}function constructLength(M,P){if(P<128){M.push(P);return}var E=1+(Math.log(P)/Math.LN2>>>3);for(M.push(128|E);--E;)M.push(P>>>(E<<3)&255);M.push(P)}M.exports=Signature,Signature.prototype._importDER=function(M,P){M=T.toArray(M,P);var E=new Position;if(48!==M[E.place++])return!1;var L=getLength(M,E);if(!1===L||L+E.place!==M.length||2!==M[E.place++])return!1;var K=getLength(M,E);if(!1===K)return!1;var F=M.slice(E.place,K+E.place);if(E.place+=K,2!==M[E.place++])return!1;var U=getLength(M,E);if(!1===U||M.length!==U+E.place)return!1;var J=M.slice(E.place,U+E.place);if(0===F[0]){if(!(128&F[1]))return!1;F=F.slice(1)}if(0===J[0]){if(!(128&J[1]))return!1;J=J.slice(1)}return this.r=new O(F),this.s=new O(J),this.recoveryParam=null,!0},Signature.prototype.toDER=function(M){var P=this.r.toArray(),E=this.s.toArray();for(128&P[0]&&(P=[0].concat(P)),128&E[0]&&(E=[0].concat(E)),P=rmPadding(P),E=rmPadding(E);!E[0]&&!(128&E[1]);)E=E.slice(1);var O=[2];constructLength(O,P.length),(O=O.concat(P)).push(2),constructLength(O,E.length);var L=O.concat(E),K=[48];return constructLength(K,L.length),K=K.concat(L),T.encode(K,M)}},65980:function(M,P,E){"use strict";var O=E(33715),T=E(45427),L=E(80953),K=L.assert,F=L.parseBytes,U=E(79087),J=E(23622);function EDDSA(M){if(K("ed25519"===M,"only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(M);M=T[M].curve,this.curve=M,this.g=M.g,this.g.precompute(M.n.bitLength()+1),this.pointClass=M.point().constructor,this.encodingLength=Math.ceil(M.n.bitLength()/8),this.hash=O.sha512}M.exports=EDDSA,EDDSA.prototype.sign=function(M,P){M=F(M);var E=this.keyFromSecret(P),O=this.hashInt(E.messagePrefix(),M),T=this.g.mul(O),L=this.encodePoint(T),K=this.hashInt(L,E.pubBytes(),M).mul(E.priv()),U=O.add(K).umod(this.curve.n);return this.makeSignature({R:T,S:U,Rencoded:L})},EDDSA.prototype.verify=function(M,P,E){M=F(M),P=this.makeSignature(P);var O=this.keyFromPublic(E),T=this.hashInt(P.Rencoded(),O.pubBytes(),M),L=this.g.mul(P.S());return P.R().add(O.pub().mul(T)).eq(L)},EDDSA.prototype.hashInt=function(){for(var M=this.hash(),P=0;P<arguments.length;P++)M.update(arguments[P]);return L.intFromLE(M.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function(M){return U.fromPublic(this,M)},EDDSA.prototype.keyFromSecret=function(M){return U.fromSecret(this,M)},EDDSA.prototype.makeSignature=function(M){return M instanceof J?M:new J(this,M)},EDDSA.prototype.encodePoint=function(M){var P=M.getY().toArray("le",this.encodingLength);return P[this.encodingLength-1]|=M.getX().isOdd()?128:0,P},EDDSA.prototype.decodePoint=function(M){var P=(M=L.parseBytes(M)).length-1,E=M.slice(0,P).concat(-129&M[P]),O=(128&M[P])!=0,T=L.intFromLE(E);return this.curve.pointFromY(T,O)},EDDSA.prototype.encodeInt=function(M){return M.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function(M){return L.intFromLE(M)},EDDSA.prototype.isPoint=function(M){return M instanceof this.pointClass}},79087:function(M,P,E){"use strict";var O=E(80953),T=O.assert,L=O.parseBytes,K=O.cachedProperty;function KeyPair(M,P){this.eddsa=M,this._secret=L(P.secret),M.isPoint(P.pub)?this._pub=P.pub:this._pubBytes=L(P.pub)}KeyPair.fromPublic=function(M,P){return P instanceof KeyPair?P:new KeyPair(M,{pub:P})},KeyPair.fromSecret=function(M,P){return P instanceof KeyPair?P:new KeyPair(M,{secret:P})},KeyPair.prototype.secret=function(){return this._secret},K(KeyPair,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),K(KeyPair,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),K(KeyPair,"privBytes",function(){var M=this.eddsa,P=this.hash(),E=M.encodingLength-1,O=P.slice(0,M.encodingLength);return O[0]&=248,O[E]&=127,O[E]|=64,O}),K(KeyPair,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),K(KeyPair,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),K(KeyPair,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),KeyPair.prototype.sign=function(M){return T(this._secret,"KeyPair can only verify"),this.eddsa.sign(M,this)},KeyPair.prototype.verify=function(M,P){return this.eddsa.verify(M,P,this)},KeyPair.prototype.getSecret=function(M){return T(this._secret,"KeyPair is public only"),O.encode(this.secret(),M)},KeyPair.prototype.getPublic=function(M){return O.encode(this.pubBytes(),M)},M.exports=KeyPair},23622:function(M,P,E){"use strict";var O=E(73785),T=E(80953),L=T.assert,K=T.cachedProperty,F=T.parseBytes;function Signature(M,P){this.eddsa=M,"object"!=typeof P&&(P=F(P)),Array.isArray(P)&&(P={R:P.slice(0,M.encodingLength),S:P.slice(M.encodingLength)}),L(P.R&&P.S,"Signature without R or S"),M.isPoint(P.R)&&(this._R=P.R),P.S instanceof O&&(this._S=P.S),this._Rencoded=Array.isArray(P.R)?P.R:P.Rencoded,this._Sencoded=Array.isArray(P.S)?P.S:P.Sencoded}K(Signature,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),K(Signature,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),K(Signature,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),K(Signature,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),Signature.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Signature.prototype.toHex=function(){return T.encode(this.toBytes(),"hex").toUpperCase()},M.exports=Signature},91037:function(M){M.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},80953:function(M,P,E){"use strict";var O=P,T=E(73785),L=E(79746),K=E(34504);function getNAF(M,P,E){var O=Array(Math.max(M.bitLength(),E)+1);O.fill(0);for(var T=1<<P+1,L=M.clone(),K=0;K<O.length;K++){var F,U=L.andln(T-1);L.isOdd()?(F=U>(T>>1)-1?(T>>1)-U:U,L.isubn(F)):F=0,O[K]=F,L.iushrn(1)}return O}function getJSF(M,P){var E=[[],[]];M=M.clone(),P=P.clone();for(var O=0,T=0;M.cmpn(-O)>0||P.cmpn(-T)>0;){var L,K,F,U=M.andln(3)+O&3,J=P.andln(3)+T&3;3===U&&(U=-1),3===J&&(J=-1),K=(1&U)==0?0:(3==(L=M.andln(7)+O&7)||5===L)&&2===J?-U:U,E[0].push(K),F=(1&J)==0?0:(3==(L=P.andln(7)+T&7)||5===L)&&2===U?-J:J,E[1].push(F),2*O===K+1&&(O=1-O),2*T===F+1&&(T=1-T),M.iushrn(1),P.iushrn(1)}return E}function cachedProperty(M,P,E){var O="_"+P;M.prototype[P]=function(){return void 0!==this[O]?this[O]:this[O]=E.call(this)}}function parseBytes(M){return"string"==typeof M?O.toArray(M,"hex"):M}function intFromLE(M){return new T(M,"hex","le")}O.assert=L,O.toArray=K.toArray,O.zero2=K.zero2,O.toHex=K.toHex,O.encode=K.encode,O.getNAF=getNAF,O.getJSF=getJSF,O.cachedProperty=cachedProperty,O.parseBytes=parseBytes,O.intFromLE=intFromLE},73785:function(M,P,E){!function(M,P){"use strict";function assert(M,P){if(!M)throw Error(P||"Assertion failed")}function inherits(M,P){M.super_=P;var TempCtor=function(){};TempCtor.prototype=P.prototype,M.prototype=new TempCtor,M.prototype.constructor=M}function BN(M,P,E){if(BN.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,null!==M&&(("le"===P||"be"===P)&&(E=P,P=10),this._init(M||0,P||10,E||"be"))}"object"==typeof M?M.exports=BN:P.BN=BN,BN.BN=BN,BN.wordSize=26;try{O="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:E(85568).Buffer}catch(M){}function parseHex4Bits(M,P){var E=M.charCodeAt(P);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function parseHexByte(M,P,E){var O=parseHex4Bits(M,E);return E-1>=P&&(O|=parseHex4Bits(M,E-1)<<4),O}function parseBase(M,P,E,O){for(var T=0,L=Math.min(M.length,E),K=P;K<L;K++){var F=M.charCodeAt(K)-48;T*=O,F>=49?T+=F-49+10:F>=17?T+=F-17+10:T+=F}return T}BN.isBN=function(M){return M instanceof BN||null!==M&&"object"==typeof M&&M.constructor.wordSize===BN.wordSize&&Array.isArray(M.words)},BN.max=function(M,P){return M.cmp(P)>0?M:P},BN.min=function(M,P){return 0>M.cmp(P)?M:P},BN.prototype._init=function(M,P,E){if("number"==typeof M)return this._initNumber(M,P,E);if("object"==typeof M)return this._initArray(M,P,E);"hex"===P&&(P=16),assert(P===(0|P)&&P>=2&&P<=36);var O=0;"-"===(M=M.toString().replace(/\s+/g,""))[0]&&(O++,this.negative=1),O<M.length&&(16===P?this._parseHex(M,O,E):(this._parseBase(M,P,O),"le"===E&&this._initArray(this.toArray(),P,E)))},BN.prototype._initNumber=function(M,P,E){M<0&&(this.negative=1,M=-M),M<67108864?(this.words=[67108863&M],this.length=1):M<4503599627370496?(this.words=[67108863&M,M/67108864&67108863],this.length=2):(assert(M<9007199254740992),this.words=[67108863&M,M/67108864&67108863,1],this.length=3),"le"===E&&this._initArray(this.toArray(),P,E)},BN.prototype._initArray=function(M,P,E){if(assert("number"==typeof M.length),M.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(M.length/3),this.words=Array(this.length);for(var O,T,L=0;L<this.length;L++)this.words[L]=0;var K=0;if("be"===E)for(L=M.length-1,O=0;L>=0;L-=3)T=M[L]|M[L-1]<<8|M[L-2]<<16,this.words[O]|=T<<K&67108863,this.words[O+1]=T>>>26-K&67108863,(K+=24)>=26&&(K-=26,O++);else if("le"===E)for(L=0,O=0;L<M.length;L+=3)T=M[L]|M[L+1]<<8|M[L+2]<<16,this.words[O]|=T<<K&67108863,this.words[O+1]=T>>>26-K&67108863,(K+=24)>=26&&(K-=26,O++);return this.strip()},BN.prototype._parseHex=function(M,P,E){this.length=Math.ceil((M.length-P)/6),this.words=Array(this.length);for(var O,T=0;T<this.length;T++)this.words[T]=0;var L=0,K=0;if("be"===E)for(T=M.length-1;T>=P;T-=2)O=parseHexByte(M,P,T)<<L,this.words[K]|=67108863&O,L>=18?(L-=18,K+=1,this.words[K]|=O>>>26):L+=8;else for(T=(M.length-P)%2==0?P+1:P;T<M.length;T+=2)O=parseHexByte(M,P,T)<<L,this.words[K]|=67108863&O,L>=18?(L-=18,K+=1,this.words[K]|=O>>>26):L+=8;this.strip()},BN.prototype._parseBase=function(M,P,E){this.words=[0],this.length=1;for(var O=0,T=1;T<=67108863;T*=P)O++;O--,T=T/P|0;for(var L=M.length-E,K=L%O,F=Math.min(L,L-K)+E,U=0,J=E;J<F;J+=O)U=parseBase(M,J,J+O,P),this.imuln(T),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U);if(0!==K){var Z=1;for(U=parseBase(M,J,M.length,P),J=0;J<K;J++)Z*=P;this.imuln(Z),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U)}this.strip()},BN.prototype.copy=function(M){M.words=Array(this.length);for(var P=0;P<this.length;P++)M.words[P]=this.words[P];M.length=this.length,M.negative=this.negative,M.red=this.red},BN.prototype.clone=function(){var M=new BN(null);return this.copy(M),M},BN.prototype._expand=function(M){for(;this.length<M;)this.words[this.length++]=0;return this},BN.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},BN.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var O,T=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],L=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],K=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function toBitArray(M){for(var P=Array(M.bitLength()),E=0;E<P.length;E++){var O=E/26|0,T=E%26;P[E]=(M.words[O]&1<<T)>>>T}return P}function smallMulTo(M,P,E){E.negative=P.negative^M.negative;var O=M.length+P.length|0;E.length=O,O=O-1|0;var T=0|M.words[0],L=0|P.words[0],K=T*L,F=67108863&K,U=K/67108864|0;E.words[0]=F;for(var J=1;J<O;J++){for(var Z=U>>>26,H=67108863&U,V=Math.min(J,P.length-1),$=Math.max(0,J-M.length+1);$<=V;$++){var W=J-$|0;Z+=(K=(T=0|M.words[W])*(L=0|P.words[$])+H)/67108864|0,H=67108863&K}E.words[J]=0|H,U=0|Z}return 0!==U?E.words[J]=0|U:E.length--,E.strip()}BN.prototype.toString=function(M,P){if(P=0|P||1,16===(M=M||10)||"hex"===M){E="";for(var E,O=0,F=0,U=0;U<this.length;U++){var J=this.words[U],Z=((J<<O|F)&16777215).toString(16);E=0!=(F=J>>>24-O&16777215)||U!==this.length-1?T[6-Z.length]+Z+E:Z+E,(O+=2)>=26&&(O-=26,U--)}for(0!==F&&(E=F.toString(16)+E);E.length%P!=0;)E="0"+E;return 0!==this.negative&&(E="-"+E),E}if(M===(0|M)&&M>=2&&M<=36){var H=L[M],V=K[M];E="";var $=this.clone();for($.negative=0;!$.isZero();){var W=$.modn(V).toString(M);E=($=$.idivn(V)).isZero()?W+E:T[H-W.length]+W+E}for(this.isZero()&&(E="0"+E);E.length%P!=0;)E="0"+E;return 0!==this.negative&&(E="-"+E),E}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function(){var M=this.words[0];return 2===this.length?M+=67108864*this.words[1]:3===this.length&&1===this.words[2]?M+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-M:M},BN.prototype.toJSON=function(){return this.toString(16)},BN.prototype.toBuffer=function(M,P){return assert(void 0!==O),this.toArrayLike(O,M,P)},BN.prototype.toArray=function(M,P){return this.toArrayLike(Array,M,P)},BN.prototype.toArrayLike=function(M,P,E){var O,T,L=this.byteLength(),K=E||Math.max(1,L);assert(L<=K,"byte array longer than desired length"),assert(K>0,"Requested array length <= 0"),this.strip();var F="le"===P,U=new M(K),J=this.clone();if(F){for(T=0;!J.isZero();T++)O=J.andln(255),J.iushrn(8),U[T]=O;for(;T<K;T++)U[T]=0}else{for(T=0;T<K-L;T++)U[T]=0;for(T=0;!J.isZero();T++)O=J.andln(255),J.iushrn(8),U[K-T-1]=O}return U},Math.clz32?BN.prototype._countBits=function(M){return 32-Math.clz32(M)}:BN.prototype._countBits=function(M){var P=M,E=0;return P>=4096&&(E+=13,P>>>=13),P>=64&&(E+=7,P>>>=7),P>=8&&(E+=4,P>>>=4),P>=2&&(E+=2,P>>>=2),E+P},BN.prototype._zeroBits=function(M){if(0===M)return 26;var P=M,E=0;return(8191&P)==0&&(E+=13,P>>>=13),(127&P)==0&&(E+=7,P>>>=7),(15&P)==0&&(E+=4,P>>>=4),(3&P)==0&&(E+=2,P>>>=2),(1&P)==0&&E++,E},BN.prototype.bitLength=function(){var M=this.words[this.length-1],P=this._countBits(M);return(this.length-1)*26+P},BN.prototype.zeroBits=function(){if(this.isZero())return 0;for(var M=0,P=0;P<this.length;P++){var E=this._zeroBits(this.words[P]);if(M+=E,26!==E)break}return M},BN.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function(M){return 0!==this.negative?this.abs().inotn(M).iaddn(1):this.clone()},BN.prototype.fromTwos=function(M){return this.testn(M-1)?this.notn(M).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function(){return 0!==this.negative},BN.prototype.neg=function(){return this.clone().ineg()},BN.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function(M){for(;this.length<M.length;)this.words[this.length++]=0;for(var P=0;P<M.length;P++)this.words[P]=this.words[P]|M.words[P];return this.strip()},BN.prototype.ior=function(M){return assert((this.negative|M.negative)==0),this.iuor(M)},BN.prototype.or=function(M){return this.length>M.length?this.clone().ior(M):M.clone().ior(this)},BN.prototype.uor=function(M){return this.length>M.length?this.clone().iuor(M):M.clone().iuor(this)},BN.prototype.iuand=function(M){var P;P=this.length>M.length?M:this;for(var E=0;E<P.length;E++)this.words[E]=this.words[E]&M.words[E];return this.length=P.length,this.strip()},BN.prototype.iand=function(M){return assert((this.negative|M.negative)==0),this.iuand(M)},BN.prototype.and=function(M){return this.length>M.length?this.clone().iand(M):M.clone().iand(this)},BN.prototype.uand=function(M){return this.length>M.length?this.clone().iuand(M):M.clone().iuand(this)},BN.prototype.iuxor=function(M){this.length>M.length?(P=this,E=M):(P=M,E=this);for(var P,E,O=0;O<E.length;O++)this.words[O]=P.words[O]^E.words[O];if(this!==P)for(;O<P.length;O++)this.words[O]=P.words[O];return this.length=P.length,this.strip()},BN.prototype.ixor=function(M){return assert((this.negative|M.negative)==0),this.iuxor(M)},BN.prototype.xor=function(M){return this.length>M.length?this.clone().ixor(M):M.clone().ixor(this)},BN.prototype.uxor=function(M){return this.length>M.length?this.clone().iuxor(M):M.clone().iuxor(this)},BN.prototype.inotn=function(M){assert("number"==typeof M&&M>=0);var P=0|Math.ceil(M/26),E=M%26;this._expand(P),E>0&&P--;for(var O=0;O<P;O++)this.words[O]=67108863&~this.words[O];return E>0&&(this.words[O]=~this.words[O]&67108863>>26-E),this.strip()},BN.prototype.notn=function(M){return this.clone().inotn(M)},BN.prototype.setn=function(M,P){assert("number"==typeof M&&M>=0);var E=M/26|0,O=M%26;return this._expand(E+1),P?this.words[E]=this.words[E]|1<<O:this.words[E]=this.words[E]&~(1<<O),this.strip()},BN.prototype.iadd=function(M){if(0!==this.negative&&0===M.negative)return this.negative=0,P=this.isub(M),this.negative^=1,this._normSign();if(0===this.negative&&0!==M.negative)return M.negative=0,P=this.isub(M),M.negative=1,P._normSign();this.length>M.length?(E=this,O=M):(E=M,O=this);for(var P,E,O,T=0,L=0;L<O.length;L++)P=(0|E.words[L])+(0|O.words[L])+T,this.words[L]=67108863&P,T=P>>>26;for(;0!==T&&L<E.length;L++)P=(0|E.words[L])+T,this.words[L]=67108863&P,T=P>>>26;if(this.length=E.length,0!==T)this.words[this.length]=T,this.length++;else if(E!==this)for(;L<E.length;L++)this.words[L]=E.words[L];return this},BN.prototype.add=function(M){var P;return 0!==M.negative&&0===this.negative?(M.negative=0,P=this.sub(M),M.negative^=1,P):0===M.negative&&0!==this.negative?(this.negative=0,P=M.sub(this),this.negative=1,P):this.length>M.length?this.clone().iadd(M):M.clone().iadd(this)},BN.prototype.isub=function(M){if(0!==M.negative){M.negative=0;var P,E,O=this.iadd(M);return M.negative=1,O._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(M),this.negative=1,this._normSign();var T=this.cmp(M);if(0===T)return this.negative=0,this.length=1,this.words[0]=0,this;T>0?(P=this,E=M):(P=M,E=this);for(var L=0,K=0;K<E.length;K++)L=(O=(0|P.words[K])-(0|E.words[K])+L)>>26,this.words[K]=67108863&O;for(;0!==L&&K<P.length;K++)L=(O=(0|P.words[K])+L)>>26,this.words[K]=67108863&O;if(0===L&&K<P.length&&P!==this)for(;K<P.length;K++)this.words[K]=P.words[K];return this.length=Math.max(this.length,K),P!==this&&(this.negative=1),this.strip()},BN.prototype.sub=function(M){return this.clone().isub(M)};var comb10MulTo=function(M,P,E){var O,T,L,K=M.words,F=P.words,U=E.words,J=0,Z=0|K[0],H=8191&Z,V=Z>>>13,$=0|K[1],W=8191&$,Y=$>>>13,X=0|K[2],G=8191&X,et=X>>>13,er=0|K[3],ei=8191&er,en=er>>>13,es=0|K[4],eo=8191&es,ea=es>>>13,ed=0|K[5],ef=8191&ed,eh=ed>>>13,eu=0|K[6],el=8191&eu,ep=eu>>>13,eb=0|K[7],em=8191&eb,ey=eb>>>13,eg=0|K[8],ew=8191&eg,eM=eg>>>13,eS=0|K[9],eP=8191&eS,e_=eS>>>13,eN=0|F[0],eA=8191&eN,eB=eN>>>13,eE=0|F[1],ek=8191&eE,ex=eE>>>13,eI=0|F[2],eR=8191&eI,eC=eI>>>13,eO=0|F[3],eT=8191&eO,eL=eO>>>13,eq=0|F[4],eK=8191&eq,ez=eq>>>13,eD=0|F[5],eF=8191&eD,eU=eD>>>13,ej=0|F[6],eJ=8191&ej,eZ=ej>>>13,eH=0|F[7],eV=8191&eH,e$=eH>>>13,eW=0|F[8],eY=8191&eW,eX=eW>>>13,eG=0|F[9],eQ=8191&eG,e0=eG>>>13;E.negative=M.negative^P.negative,E.length=19;var e1=(J+(O=Math.imul(H,eA))|0)+((8191&(T=(T=Math.imul(H,eB))+Math.imul(V,eA)|0))<<13)|0;J=((L=Math.imul(V,eB))+(T>>>13)|0)+(e1>>>26)|0,e1&=67108863,O=Math.imul(W,eA),T=(T=Math.imul(W,eB))+Math.imul(Y,eA)|0,L=Math.imul(Y,eB);var e6=(J+(O=O+Math.imul(H,ek)|0)|0)+((8191&(T=(T=T+Math.imul(H,ex)|0)+Math.imul(V,ek)|0))<<13)|0;J=((L=L+Math.imul(V,ex)|0)+(T>>>13)|0)+(e6>>>26)|0,e6&=67108863,O=Math.imul(G,eA),T=(T=Math.imul(G,eB))+Math.imul(et,eA)|0,L=Math.imul(et,eB),O=O+Math.imul(W,ek)|0,T=(T=T+Math.imul(W,ex)|0)+Math.imul(Y,ek)|0,L=L+Math.imul(Y,ex)|0;var e2=(J+(O=O+Math.imul(H,eR)|0)|0)+((8191&(T=(T=T+Math.imul(H,eC)|0)+Math.imul(V,eR)|0))<<13)|0;J=((L=L+Math.imul(V,eC)|0)+(T>>>13)|0)+(e2>>>26)|0,e2&=67108863,O=Math.imul(ei,eA),T=(T=Math.imul(ei,eB))+Math.imul(en,eA)|0,L=Math.imul(en,eB),O=O+Math.imul(G,ek)|0,T=(T=T+Math.imul(G,ex)|0)+Math.imul(et,ek)|0,L=L+Math.imul(et,ex)|0,O=O+Math.imul(W,eR)|0,T=(T=T+Math.imul(W,eC)|0)+Math.imul(Y,eR)|0,L=L+Math.imul(Y,eC)|0;var e8=(J+(O=O+Math.imul(H,eT)|0)|0)+((8191&(T=(T=T+Math.imul(H,eL)|0)+Math.imul(V,eT)|0))<<13)|0;J=((L=L+Math.imul(V,eL)|0)+(T>>>13)|0)+(e8>>>26)|0,e8&=67108863,O=Math.imul(eo,eA),T=(T=Math.imul(eo,eB))+Math.imul(ea,eA)|0,L=Math.imul(ea,eB),O=O+Math.imul(ei,ek)|0,T=(T=T+Math.imul(ei,ex)|0)+Math.imul(en,ek)|0,L=L+Math.imul(en,ex)|0,O=O+Math.imul(G,eR)|0,T=(T=T+Math.imul(G,eC)|0)+Math.imul(et,eR)|0,L=L+Math.imul(et,eC)|0,O=O+Math.imul(W,eT)|0,T=(T=T+Math.imul(W,eL)|0)+Math.imul(Y,eT)|0,L=L+Math.imul(Y,eL)|0;var e3=(J+(O=O+Math.imul(H,eK)|0)|0)+((8191&(T=(T=T+Math.imul(H,ez)|0)+Math.imul(V,eK)|0))<<13)|0;J=((L=L+Math.imul(V,ez)|0)+(T>>>13)|0)+(e3>>>26)|0,e3&=67108863,O=Math.imul(ef,eA),T=(T=Math.imul(ef,eB))+Math.imul(eh,eA)|0,L=Math.imul(eh,eB),O=O+Math.imul(eo,ek)|0,T=(T=T+Math.imul(eo,ex)|0)+Math.imul(ea,ek)|0,L=L+Math.imul(ea,ex)|0,O=O+Math.imul(ei,eR)|0,T=(T=T+Math.imul(ei,eC)|0)+Math.imul(en,eR)|0,L=L+Math.imul(en,eC)|0,O=O+Math.imul(G,eT)|0,T=(T=T+Math.imul(G,eL)|0)+Math.imul(et,eT)|0,L=L+Math.imul(et,eL)|0,O=O+Math.imul(W,eK)|0,T=(T=T+Math.imul(W,ez)|0)+Math.imul(Y,eK)|0,L=L+Math.imul(Y,ez)|0;var e4=(J+(O=O+Math.imul(H,eF)|0)|0)+((8191&(T=(T=T+Math.imul(H,eU)|0)+Math.imul(V,eF)|0))<<13)|0;J=((L=L+Math.imul(V,eU)|0)+(T>>>13)|0)+(e4>>>26)|0,e4&=67108863,O=Math.imul(el,eA),T=(T=Math.imul(el,eB))+Math.imul(ep,eA)|0,L=Math.imul(ep,eB),O=O+Math.imul(ef,ek)|0,T=(T=T+Math.imul(ef,ex)|0)+Math.imul(eh,ek)|0,L=L+Math.imul(eh,ex)|0,O=O+Math.imul(eo,eR)|0,T=(T=T+Math.imul(eo,eC)|0)+Math.imul(ea,eR)|0,L=L+Math.imul(ea,eC)|0,O=O+Math.imul(ei,eT)|0,T=(T=T+Math.imul(ei,eL)|0)+Math.imul(en,eT)|0,L=L+Math.imul(en,eL)|0,O=O+Math.imul(G,eK)|0,T=(T=T+Math.imul(G,ez)|0)+Math.imul(et,eK)|0,L=L+Math.imul(et,ez)|0,O=O+Math.imul(W,eF)|0,T=(T=T+Math.imul(W,eU)|0)+Math.imul(Y,eF)|0,L=L+Math.imul(Y,eU)|0;var e7=(J+(O=O+Math.imul(H,eJ)|0)|0)+((8191&(T=(T=T+Math.imul(H,eZ)|0)+Math.imul(V,eJ)|0))<<13)|0;J=((L=L+Math.imul(V,eZ)|0)+(T>>>13)|0)+(e7>>>26)|0,e7&=67108863,O=Math.imul(em,eA),T=(T=Math.imul(em,eB))+Math.imul(ey,eA)|0,L=Math.imul(ey,eB),O=O+Math.imul(el,ek)|0,T=(T=T+Math.imul(el,ex)|0)+Math.imul(ep,ek)|0,L=L+Math.imul(ep,ex)|0,O=O+Math.imul(ef,eR)|0,T=(T=T+Math.imul(ef,eC)|0)+Math.imul(eh,eR)|0,L=L+Math.imul(eh,eC)|0,O=O+Math.imul(eo,eT)|0,T=(T=T+Math.imul(eo,eL)|0)+Math.imul(ea,eT)|0,L=L+Math.imul(ea,eL)|0,O=O+Math.imul(ei,eK)|0,T=(T=T+Math.imul(ei,ez)|0)+Math.imul(en,eK)|0,L=L+Math.imul(en,ez)|0,O=O+Math.imul(G,eF)|0,T=(T=T+Math.imul(G,eU)|0)+Math.imul(et,eF)|0,L=L+Math.imul(et,eU)|0,O=O+Math.imul(W,eJ)|0,T=(T=T+Math.imul(W,eZ)|0)+Math.imul(Y,eJ)|0,L=L+Math.imul(Y,eZ)|0;var e9=(J+(O=O+Math.imul(H,eV)|0)|0)+((8191&(T=(T=T+Math.imul(H,e$)|0)+Math.imul(V,eV)|0))<<13)|0;J=((L=L+Math.imul(V,e$)|0)+(T>>>13)|0)+(e9>>>26)|0,e9&=67108863,O=Math.imul(ew,eA),T=(T=Math.imul(ew,eB))+Math.imul(eM,eA)|0,L=Math.imul(eM,eB),O=O+Math.imul(em,ek)|0,T=(T=T+Math.imul(em,ex)|0)+Math.imul(ey,ek)|0,L=L+Math.imul(ey,ex)|0,O=O+Math.imul(el,eR)|0,T=(T=T+Math.imul(el,eC)|0)+Math.imul(ep,eR)|0,L=L+Math.imul(ep,eC)|0,O=O+Math.imul(ef,eT)|0,T=(T=T+Math.imul(ef,eL)|0)+Math.imul(eh,eT)|0,L=L+Math.imul(eh,eL)|0,O=O+Math.imul(eo,eK)|0,T=(T=T+Math.imul(eo,ez)|0)+Math.imul(ea,eK)|0,L=L+Math.imul(ea,ez)|0,O=O+Math.imul(ei,eF)|0,T=(T=T+Math.imul(ei,eU)|0)+Math.imul(en,eF)|0,L=L+Math.imul(en,eU)|0,O=O+Math.imul(G,eJ)|0,T=(T=T+Math.imul(G,eZ)|0)+Math.imul(et,eJ)|0,L=L+Math.imul(et,eZ)|0,O=O+Math.imul(W,eV)|0,T=(T=T+Math.imul(W,e$)|0)+Math.imul(Y,eV)|0,L=L+Math.imul(Y,e$)|0;var e5=(J+(O=O+Math.imul(H,eY)|0)|0)+((8191&(T=(T=T+Math.imul(H,eX)|0)+Math.imul(V,eY)|0))<<13)|0;J=((L=L+Math.imul(V,eX)|0)+(T>>>13)|0)+(e5>>>26)|0,e5&=67108863,O=Math.imul(eP,eA),T=(T=Math.imul(eP,eB))+Math.imul(e_,eA)|0,L=Math.imul(e_,eB),O=O+Math.imul(ew,ek)|0,T=(T=T+Math.imul(ew,ex)|0)+Math.imul(eM,ek)|0,L=L+Math.imul(eM,ex)|0,O=O+Math.imul(em,eR)|0,T=(T=T+Math.imul(em,eC)|0)+Math.imul(ey,eR)|0,L=L+Math.imul(ey,eC)|0,O=O+Math.imul(el,eT)|0,T=(T=T+Math.imul(el,eL)|0)+Math.imul(ep,eT)|0,L=L+Math.imul(ep,eL)|0,O=O+Math.imul(ef,eK)|0,T=(T=T+Math.imul(ef,ez)|0)+Math.imul(eh,eK)|0,L=L+Math.imul(eh,ez)|0,O=O+Math.imul(eo,eF)|0,T=(T=T+Math.imul(eo,eU)|0)+Math.imul(ea,eF)|0,L=L+Math.imul(ea,eU)|0,O=O+Math.imul(ei,eJ)|0,T=(T=T+Math.imul(ei,eZ)|0)+Math.imul(en,eJ)|0,L=L+Math.imul(en,eZ)|0,O=O+Math.imul(G,eV)|0,T=(T=T+Math.imul(G,e$)|0)+Math.imul(et,eV)|0,L=L+Math.imul(et,e$)|0,O=O+Math.imul(W,eY)|0,T=(T=T+Math.imul(W,eX)|0)+Math.imul(Y,eY)|0,L=L+Math.imul(Y,eX)|0;var te=(J+(O=O+Math.imul(H,eQ)|0)|0)+((8191&(T=(T=T+Math.imul(H,e0)|0)+Math.imul(V,eQ)|0))<<13)|0;J=((L=L+Math.imul(V,e0)|0)+(T>>>13)|0)+(te>>>26)|0,te&=67108863,O=Math.imul(eP,ek),T=(T=Math.imul(eP,ex))+Math.imul(e_,ek)|0,L=Math.imul(e_,ex),O=O+Math.imul(ew,eR)|0,T=(T=T+Math.imul(ew,eC)|0)+Math.imul(eM,eR)|0,L=L+Math.imul(eM,eC)|0,O=O+Math.imul(em,eT)|0,T=(T=T+Math.imul(em,eL)|0)+Math.imul(ey,eT)|0,L=L+Math.imul(ey,eL)|0,O=O+Math.imul(el,eK)|0,T=(T=T+Math.imul(el,ez)|0)+Math.imul(ep,eK)|0,L=L+Math.imul(ep,ez)|0,O=O+Math.imul(ef,eF)|0,T=(T=T+Math.imul(ef,eU)|0)+Math.imul(eh,eF)|0,L=L+Math.imul(eh,eU)|0,O=O+Math.imul(eo,eJ)|0,T=(T=T+Math.imul(eo,eZ)|0)+Math.imul(ea,eJ)|0,L=L+Math.imul(ea,eZ)|0,O=O+Math.imul(ei,eV)|0,T=(T=T+Math.imul(ei,e$)|0)+Math.imul(en,eV)|0,L=L+Math.imul(en,e$)|0,O=O+Math.imul(G,eY)|0,T=(T=T+Math.imul(G,eX)|0)+Math.imul(et,eY)|0,L=L+Math.imul(et,eX)|0;var tt=(J+(O=O+Math.imul(W,eQ)|0)|0)+((8191&(T=(T=T+Math.imul(W,e0)|0)+Math.imul(Y,eQ)|0))<<13)|0;J=((L=L+Math.imul(Y,e0)|0)+(T>>>13)|0)+(tt>>>26)|0,tt&=67108863,O=Math.imul(eP,eR),T=(T=Math.imul(eP,eC))+Math.imul(e_,eR)|0,L=Math.imul(e_,eC),O=O+Math.imul(ew,eT)|0,T=(T=T+Math.imul(ew,eL)|0)+Math.imul(eM,eT)|0,L=L+Math.imul(eM,eL)|0,O=O+Math.imul(em,eK)|0,T=(T=T+Math.imul(em,ez)|0)+Math.imul(ey,eK)|0,L=L+Math.imul(ey,ez)|0,O=O+Math.imul(el,eF)|0,T=(T=T+Math.imul(el,eU)|0)+Math.imul(ep,eF)|0,L=L+Math.imul(ep,eU)|0,O=O+Math.imul(ef,eJ)|0,T=(T=T+Math.imul(ef,eZ)|0)+Math.imul(eh,eJ)|0,L=L+Math.imul(eh,eZ)|0,O=O+Math.imul(eo,eV)|0,T=(T=T+Math.imul(eo,e$)|0)+Math.imul(ea,eV)|0,L=L+Math.imul(ea,e$)|0,O=O+Math.imul(ei,eY)|0,T=(T=T+Math.imul(ei,eX)|0)+Math.imul(en,eY)|0,L=L+Math.imul(en,eX)|0;var tr=(J+(O=O+Math.imul(G,eQ)|0)|0)+((8191&(T=(T=T+Math.imul(G,e0)|0)+Math.imul(et,eQ)|0))<<13)|0;J=((L=L+Math.imul(et,e0)|0)+(T>>>13)|0)+(tr>>>26)|0,tr&=67108863,O=Math.imul(eP,eT),T=(T=Math.imul(eP,eL))+Math.imul(e_,eT)|0,L=Math.imul(e_,eL),O=O+Math.imul(ew,eK)|0,T=(T=T+Math.imul(ew,ez)|0)+Math.imul(eM,eK)|0,L=L+Math.imul(eM,ez)|0,O=O+Math.imul(em,eF)|0,T=(T=T+Math.imul(em,eU)|0)+Math.imul(ey,eF)|0,L=L+Math.imul(ey,eU)|0,O=O+Math.imul(el,eJ)|0,T=(T=T+Math.imul(el,eZ)|0)+Math.imul(ep,eJ)|0,L=L+Math.imul(ep,eZ)|0,O=O+Math.imul(ef,eV)|0,T=(T=T+Math.imul(ef,e$)|0)+Math.imul(eh,eV)|0,L=L+Math.imul(eh,e$)|0,O=O+Math.imul(eo,eY)|0,T=(T=T+Math.imul(eo,eX)|0)+Math.imul(ea,eY)|0,L=L+Math.imul(ea,eX)|0;var ti=(J+(O=O+Math.imul(ei,eQ)|0)|0)+((8191&(T=(T=T+Math.imul(ei,e0)|0)+Math.imul(en,eQ)|0))<<13)|0;J=((L=L+Math.imul(en,e0)|0)+(T>>>13)|0)+(ti>>>26)|0,ti&=67108863,O=Math.imul(eP,eK),T=(T=Math.imul(eP,ez))+Math.imul(e_,eK)|0,L=Math.imul(e_,ez),O=O+Math.imul(ew,eF)|0,T=(T=T+Math.imul(ew,eU)|0)+Math.imul(eM,eF)|0,L=L+Math.imul(eM,eU)|0,O=O+Math.imul(em,eJ)|0,T=(T=T+Math.imul(em,eZ)|0)+Math.imul(ey,eJ)|0,L=L+Math.imul(ey,eZ)|0,O=O+Math.imul(el,eV)|0,T=(T=T+Math.imul(el,e$)|0)+Math.imul(ep,eV)|0,L=L+Math.imul(ep,e$)|0,O=O+Math.imul(ef,eY)|0,T=(T=T+Math.imul(ef,eX)|0)+Math.imul(eh,eY)|0,L=L+Math.imul(eh,eX)|0;var tn=(J+(O=O+Math.imul(eo,eQ)|0)|0)+((8191&(T=(T=T+Math.imul(eo,e0)|0)+Math.imul(ea,eQ)|0))<<13)|0;J=((L=L+Math.imul(ea,e0)|0)+(T>>>13)|0)+(tn>>>26)|0,tn&=67108863,O=Math.imul(eP,eF),T=(T=Math.imul(eP,eU))+Math.imul(e_,eF)|0,L=Math.imul(e_,eU),O=O+Math.imul(ew,eJ)|0,T=(T=T+Math.imul(ew,eZ)|0)+Math.imul(eM,eJ)|0,L=L+Math.imul(eM,eZ)|0,O=O+Math.imul(em,eV)|0,T=(T=T+Math.imul(em,e$)|0)+Math.imul(ey,eV)|0,L=L+Math.imul(ey,e$)|0,O=O+Math.imul(el,eY)|0,T=(T=T+Math.imul(el,eX)|0)+Math.imul(ep,eY)|0,L=L+Math.imul(ep,eX)|0;var ts=(J+(O=O+Math.imul(ef,eQ)|0)|0)+((8191&(T=(T=T+Math.imul(ef,e0)|0)+Math.imul(eh,eQ)|0))<<13)|0;J=((L=L+Math.imul(eh,e0)|0)+(T>>>13)|0)+(ts>>>26)|0,ts&=67108863,O=Math.imul(eP,eJ),T=(T=Math.imul(eP,eZ))+Math.imul(e_,eJ)|0,L=Math.imul(e_,eZ),O=O+Math.imul(ew,eV)|0,T=(T=T+Math.imul(ew,e$)|0)+Math.imul(eM,eV)|0,L=L+Math.imul(eM,e$)|0,O=O+Math.imul(em,eY)|0,T=(T=T+Math.imul(em,eX)|0)+Math.imul(ey,eY)|0,L=L+Math.imul(ey,eX)|0;var ta=(J+(O=O+Math.imul(el,eQ)|0)|0)+((8191&(T=(T=T+Math.imul(el,e0)|0)+Math.imul(ep,eQ)|0))<<13)|0;J=((L=L+Math.imul(ep,e0)|0)+(T>>>13)|0)+(ta>>>26)|0,ta&=67108863,O=Math.imul(eP,eV),T=(T=Math.imul(eP,e$))+Math.imul(e_,eV)|0,L=Math.imul(e_,e$),O=O+Math.imul(ew,eY)|0,T=(T=T+Math.imul(ew,eX)|0)+Math.imul(eM,eY)|0,L=L+Math.imul(eM,eX)|0;var td=(J+(O=O+Math.imul(em,eQ)|0)|0)+((8191&(T=(T=T+Math.imul(em,e0)|0)+Math.imul(ey,eQ)|0))<<13)|0;J=((L=L+Math.imul(ey,e0)|0)+(T>>>13)|0)+(td>>>26)|0,td&=67108863,O=Math.imul(eP,eY),T=(T=Math.imul(eP,eX))+Math.imul(e_,eY)|0,L=Math.imul(e_,eX);var tf=(J+(O=O+Math.imul(ew,eQ)|0)|0)+((8191&(T=(T=T+Math.imul(ew,e0)|0)+Math.imul(eM,eQ)|0))<<13)|0;J=((L=L+Math.imul(eM,e0)|0)+(T>>>13)|0)+(tf>>>26)|0,tf&=67108863;var tc=(J+(O=Math.imul(eP,eQ))|0)+((8191&(T=(T=Math.imul(eP,e0))+Math.imul(e_,eQ)|0))<<13)|0;return J=((L=Math.imul(e_,e0))+(T>>>13)|0)+(tc>>>26)|0,tc&=67108863,U[0]=e1,U[1]=e6,U[2]=e2,U[3]=e8,U[4]=e3,U[5]=e4,U[6]=e7,U[7]=e9,U[8]=e5,U[9]=te,U[10]=tt,U[11]=tr,U[12]=ti,U[13]=tn,U[14]=ts,U[15]=ta,U[16]=td,U[17]=tf,U[18]=tc,0!==J&&(U[19]=J,E.length++),E};function bigMulTo(M,P,E){E.negative=P.negative^M.negative,E.length=M.length+P.length;for(var O=0,T=0,L=0;L<E.length-1;L++){var K=T;T=0;for(var F=67108863&O,U=Math.min(L,P.length-1),J=Math.max(0,L-M.length+1);J<=U;J++){var Z=L-J,H=(0|M.words[Z])*(0|P.words[J]),V=67108863&H;K=K+(H/67108864|0)|0,F=67108863&(V=V+F|0),T+=(K=K+(V>>>26)|0)>>>26,K&=67108863}E.words[L]=F,O=K,K=T}return 0!==O?E.words[L]=O:E.length--,E.strip()}function jumboMulTo(M,P,E){return new FFTM().mulp(M,P,E)}function FFTM(M,P){this.x=M,this.y=P}Math.imul||(comb10MulTo=smallMulTo),BN.prototype.mulTo=function(M,P){var E=this.length+M.length;return 10===this.length&&10===M.length?comb10MulTo(this,M,P):E<63?smallMulTo(this,M,P):E<1024?bigMulTo(this,M,P):jumboMulTo(this,M,P)},FFTM.prototype.makeRBT=function(M){for(var P=Array(M),E=BN.prototype._countBits(M)-1,O=0;O<M;O++)P[O]=this.revBin(O,E,M);return P},FFTM.prototype.revBin=function(M,P,E){if(0===M||M===E-1)return M;for(var O=0,T=0;T<P;T++)O|=(1&M)<<P-T-1,M>>=1;return O},FFTM.prototype.permute=function(M,P,E,O,T,L){for(var K=0;K<L;K++)O[K]=P[M[K]],T[K]=E[M[K]]},FFTM.prototype.transform=function(M,P,E,O,T,L){this.permute(L,M,P,E,O,T);for(var K=1;K<T;K<<=1)for(var F=K<<1,U=Math.cos(2*Math.PI/F),J=Math.sin(2*Math.PI/F),Z=0;Z<T;Z+=F)for(var H=U,V=J,$=0;$<K;$++){var W=E[Z+$],Y=O[Z+$],X=E[Z+$+K],G=O[Z+$+K],et=H*X-V*G;G=H*G+V*X,X=et,E[Z+$]=W+X,O[Z+$]=Y+G,E[Z+$+K]=W-X,O[Z+$+K]=Y-G,$!==F&&(et=U*H-J*V,V=U*V+J*H,H=et)}},FFTM.prototype.guessLen13b=function(M,P){var E=1|Math.max(P,M),O=1&E,T=0;for(E=E/2|0;E;E>>>=1)T++;return 1<<T+1+O},FFTM.prototype.conjugate=function(M,P,E){if(!(E<=1))for(var O=0;O<E/2;O++){var T=M[O];M[O]=M[E-O-1],M[E-O-1]=T,T=P[O],P[O]=-P[E-O-1],P[E-O-1]=-T}},FFTM.prototype.normalize13b=function(M,P){for(var E=0,O=0;O<P/2;O++){var T=8192*Math.round(M[2*O+1]/P)+Math.round(M[2*O]/P)+E;M[O]=67108863&T,E=T<67108864?0:T/67108864|0}return M},FFTM.prototype.convert13b=function(M,P,E,O){for(var T=0,L=0;L<P;L++)T+=0|M[L],E[2*L]=8191&T,T>>>=13,E[2*L+1]=8191&T,T>>>=13;for(L=2*P;L<O;++L)E[L]=0;assert(0===T),assert((-8192&T)==0)},FFTM.prototype.stub=function(M){for(var P=Array(M),E=0;E<M;E++)P[E]=0;return P},FFTM.prototype.mulp=function(M,P,E){var O=2*this.guessLen13b(M.length,P.length),T=this.makeRBT(O),L=this.stub(O),K=Array(O),F=Array(O),U=Array(O),J=Array(O),Z=Array(O),H=Array(O),V=E.words;V.length=O,this.convert13b(M.words,M.length,K,O),this.convert13b(P.words,P.length,J,O),this.transform(K,L,F,U,O,T),this.transform(J,L,Z,H,O,T);for(var $=0;$<O;$++){var W=F[$]*Z[$]-U[$]*H[$];U[$]=F[$]*H[$]+U[$]*Z[$],F[$]=W}return this.conjugate(F,U,O),this.transform(F,U,V,L,O,T),this.conjugate(V,L,O),this.normalize13b(V,O),E.negative=M.negative^P.negative,E.length=M.length+P.length,E.strip()},BN.prototype.mul=function(M){var P=new BN(null);return P.words=Array(this.length+M.length),this.mulTo(M,P)},BN.prototype.mulf=function(M){var P=new BN(null);return P.words=Array(this.length+M.length),jumboMulTo(this,M,P)},BN.prototype.imul=function(M){return this.clone().mulTo(M,this)},BN.prototype.imuln=function(M){assert("number"==typeof M),assert(M<67108864);for(var P=0,E=0;E<this.length;E++){var O=(0|this.words[E])*M,T=(67108863&O)+(67108863&P);P>>=26,P+=(O/67108864|0)+(T>>>26),this.words[E]=67108863&T}return 0!==P&&(this.words[E]=P,this.length++),this},BN.prototype.muln=function(M){return this.clone().imuln(M)},BN.prototype.sqr=function(){return this.mul(this)},BN.prototype.isqr=function(){return this.imul(this.clone())},BN.prototype.pow=function(M){var P=toBitArray(M);if(0===P.length)return new BN(1);for(var E=this,O=0;O<P.length&&0===P[O];O++,E=E.sqr());if(++O<P.length)for(var T=E.sqr();O<P.length;O++,T=T.sqr())0!==P[O]&&(E=E.mul(T));return E},BN.prototype.iushln=function(M){assert("number"==typeof M&&M>=0);var P,E=M%26,O=(M-E)/26,T=67108863>>>26-E<<26-E;if(0!==E){var L=0;for(P=0;P<this.length;P++){var K=this.words[P]&T,F=(0|this.words[P])-K<<E;this.words[P]=F|L,L=K>>>26-E}L&&(this.words[P]=L,this.length++)}if(0!==O){for(P=this.length-1;P>=0;P--)this.words[P+O]=this.words[P];for(P=0;P<O;P++)this.words[P]=0;this.length+=O}return this.strip()},BN.prototype.ishln=function(M){return assert(0===this.negative),this.iushln(M)},BN.prototype.iushrn=function(M,P,E){assert("number"==typeof M&&M>=0),O=P?(P-P%26)/26:0;var O,T=M%26,L=Math.min((M-T)/26,this.length),K=67108863^67108863>>>T<<T,F=E;if(O-=L,O=Math.max(0,O),F){for(var U=0;U<L;U++)F.words[U]=this.words[U];F.length=L}if(0===L);else if(this.length>L)for(this.length-=L,U=0;U<this.length;U++)this.words[U]=this.words[U+L];else this.words[0]=0,this.length=1;var J=0;for(U=this.length-1;U>=0&&(0!==J||U>=O);U--){var Z=0|this.words[U];this.words[U]=J<<26-T|Z>>>T,J=Z&K}return F&&0!==J&&(F.words[F.length++]=J),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},BN.prototype.ishrn=function(M,P,E){return assert(0===this.negative),this.iushrn(M,P,E)},BN.prototype.shln=function(M){return this.clone().ishln(M)},BN.prototype.ushln=function(M){return this.clone().iushln(M)},BN.prototype.shrn=function(M){return this.clone().ishrn(M)},BN.prototype.ushrn=function(M){return this.clone().iushrn(M)},BN.prototype.testn=function(M){assert("number"==typeof M&&M>=0);var P=M%26,E=(M-P)/26,O=1<<P;return!(this.length<=E)&&!!(this.words[E]&O)},BN.prototype.imaskn=function(M){assert("number"==typeof M&&M>=0);var P=M%26,E=(M-P)/26;if(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=E)return this;if(0!==P&&E++,this.length=Math.min(E,this.length),0!==P){var O=67108863^67108863>>>P<<P;this.words[this.length-1]&=O}return this.strip()},BN.prototype.maskn=function(M){return this.clone().imaskn(M)},BN.prototype.iaddn=function(M){return(assert("number"==typeof M),assert(M<67108864),M<0)?this.isubn(-M):0!==this.negative?(1===this.length&&(0|this.words[0])<M?(this.words[0]=M-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(M),this.negative=1),this):this._iaddn(M)},BN.prototype._iaddn=function(M){this.words[0]+=M;for(var P=0;P<this.length&&this.words[P]>=67108864;P++)this.words[P]-=67108864,P===this.length-1?this.words[P+1]=1:this.words[P+1]++;return this.length=Math.max(this.length,P+1),this},BN.prototype.isubn=function(M){if(assert("number"==typeof M),assert(M<67108864),M<0)return this.iaddn(-M);if(0!==this.negative)return this.negative=0,this.iaddn(M),this.negative=1,this;if(this.words[0]-=M,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var P=0;P<this.length&&this.words[P]<0;P++)this.words[P]+=67108864,this.words[P+1]-=1;return this.strip()},BN.prototype.addn=function(M){return this.clone().iaddn(M)},BN.prototype.subn=function(M){return this.clone().isubn(M)},BN.prototype.iabs=function(){return this.negative=0,this},BN.prototype.abs=function(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function(M,P,E){var O,T,L=M.length+E;this._expand(L);var K=0;for(O=0;O<M.length;O++){T=(0|this.words[O+E])+K;var F=(0|M.words[O])*P;T-=67108863&F,K=(T>>26)-(F/67108864|0),this.words[O+E]=67108863&T}for(;O<this.length-E;O++)K=(T=(0|this.words[O+E])+K)>>26,this.words[O+E]=67108863&T;if(0===K)return this.strip();for(assert(-1===K),K=0,O=0;O<this.length;O++)K=(T=-(0|this.words[O])+K)>>26,this.words[O]=67108863&T;return this.negative=1,this.strip()},BN.prototype._wordDiv=function(M,P){var E,O=this.length-M.length,T=this.clone(),L=M,K=0|L.words[L.length-1];0!=(O=26-this._countBits(K))&&(L=L.ushln(O),T.iushln(O),K=0|L.words[L.length-1]);var F=T.length-L.length;if("mod"!==P){(E=new BN(null)).length=F+1,E.words=Array(E.length);for(var U=0;U<E.length;U++)E.words[U]=0}var J=T.clone()._ishlnsubmul(L,1,F);0===J.negative&&(T=J,E&&(E.words[F]=1));for(var Z=F-1;Z>=0;Z--){var H=(0|T.words[L.length+Z])*67108864+(0|T.words[L.length+Z-1]);for(H=Math.min(H/K|0,67108863),T._ishlnsubmul(L,H,Z);0!==T.negative;)H--,T.negative=0,T._ishlnsubmul(L,1,Z),T.isZero()||(T.negative^=1);E&&(E.words[Z]=H)}return E&&E.strip(),T.strip(),"div"!==P&&0!==O&&T.iushrn(O),{div:E||null,mod:T}},BN.prototype.divmod=function(M,P,E){var O,T,L;return(assert(!M.isZero()),this.isZero())?{div:new BN(0),mod:new BN(0)}:0!==this.negative&&0===M.negative?(L=this.neg().divmod(M,P),"mod"!==P&&(O=L.div.neg()),"div"!==P&&(T=L.mod.neg(),E&&0!==T.negative&&T.iadd(M)),{div:O,mod:T}):0===this.negative&&0!==M.negative?(L=this.divmod(M.neg(),P),"mod"!==P&&(O=L.div.neg()),{div:O,mod:L.mod}):(this.negative&M.negative)!=0?(L=this.neg().divmod(M.neg(),P),"div"!==P&&(T=L.mod.neg(),E&&0!==T.negative&&T.isub(M)),{div:L.div,mod:T}):M.length>this.length||0>this.cmp(M)?{div:new BN(0),mod:this}:1===M.length?"div"===P?{div:this.divn(M.words[0]),mod:null}:"mod"===P?{div:null,mod:new BN(this.modn(M.words[0]))}:{div:this.divn(M.words[0]),mod:new BN(this.modn(M.words[0]))}:this._wordDiv(M,P)},BN.prototype.div=function(M){return this.divmod(M,"div",!1).div},BN.prototype.mod=function(M){return this.divmod(M,"mod",!1).mod},BN.prototype.umod=function(M){return this.divmod(M,"mod",!0).mod},BN.prototype.divRound=function(M){var P=this.divmod(M);if(P.mod.isZero())return P.div;var E=0!==P.div.negative?P.mod.isub(M):P.mod,O=M.ushrn(1),T=M.andln(1),L=E.cmp(O);return L<0||1===T&&0===L?P.div:0!==P.div.negative?P.div.isubn(1):P.div.iaddn(1)},BN.prototype.modn=function(M){assert(M<=67108863);for(var P=67108864%M,E=0,O=this.length-1;O>=0;O--)E=(P*E+(0|this.words[O]))%M;return E},BN.prototype.idivn=function(M){assert(M<=67108863);for(var P=0,E=this.length-1;E>=0;E--){var O=(0|this.words[E])+67108864*P;this.words[E]=O/M|0,P=O%M}return this.strip()},BN.prototype.divn=function(M){return this.clone().idivn(M)},BN.prototype.egcd=function(M){assert(0===M.negative),assert(!M.isZero());var P=this,E=M.clone();P=0!==P.negative?P.umod(M):P.clone();for(var O=new BN(1),T=new BN(0),L=new BN(0),K=new BN(1),F=0;P.isEven()&&E.isEven();)P.iushrn(1),E.iushrn(1),++F;for(var U=E.clone(),J=P.clone();!P.isZero();){for(var Z=0,H=1;(P.words[0]&H)==0&&Z<26;++Z,H<<=1);if(Z>0)for(P.iushrn(Z);Z-- >0;)(O.isOdd()||T.isOdd())&&(O.iadd(U),T.isub(J)),O.iushrn(1),T.iushrn(1);for(var V=0,$=1;(E.words[0]&$)==0&&V<26;++V,$<<=1);if(V>0)for(E.iushrn(V);V-- >0;)(L.isOdd()||K.isOdd())&&(L.iadd(U),K.isub(J)),L.iushrn(1),K.iushrn(1);P.cmp(E)>=0?(P.isub(E),O.isub(L),T.isub(K)):(E.isub(P),L.isub(O),K.isub(T))}return{a:L,b:K,gcd:E.iushln(F)}},BN.prototype._invmp=function(M){assert(0===M.negative),assert(!M.isZero());var P,E=this,O=M.clone();E=0!==E.negative?E.umod(M):E.clone();for(var T=new BN(1),L=new BN(0),K=O.clone();E.cmpn(1)>0&&O.cmpn(1)>0;){for(var F=0,U=1;(E.words[0]&U)==0&&F<26;++F,U<<=1);if(F>0)for(E.iushrn(F);F-- >0;)T.isOdd()&&T.iadd(K),T.iushrn(1);for(var J=0,Z=1;(O.words[0]&Z)==0&&J<26;++J,Z<<=1);if(J>0)for(O.iushrn(J);J-- >0;)L.isOdd()&&L.iadd(K),L.iushrn(1);E.cmp(O)>=0?(E.isub(O),T.isub(L)):(O.isub(E),L.isub(T))}return 0>(P=0===E.cmpn(1)?T:L).cmpn(0)&&P.iadd(M),P},BN.prototype.gcd=function(M){if(this.isZero())return M.abs();if(M.isZero())return this.abs();var P=this.clone(),E=M.clone();P.negative=0,E.negative=0;for(var O=0;P.isEven()&&E.isEven();O++)P.iushrn(1),E.iushrn(1);for(;;){for(;P.isEven();)P.iushrn(1);for(;E.isEven();)E.iushrn(1);var T=P.cmp(E);if(T<0){var L=P;P=E,E=L}else if(0===T||0===E.cmpn(1))break;P.isub(E)}return E.iushln(O)},BN.prototype.invm=function(M){return this.egcd(M).a.umod(M)},BN.prototype.isEven=function(){return(1&this.words[0])==0},BN.prototype.isOdd=function(){return(1&this.words[0])==1},BN.prototype.andln=function(M){return this.words[0]&M},BN.prototype.bincn=function(M){assert("number"==typeof M);var P=M%26,E=(M-P)/26,O=1<<P;if(this.length<=E)return this._expand(E+1),this.words[E]|=O,this;for(var T=O,L=E;0!==T&&L<this.length;L++){var K=0|this.words[L];K+=T,T=K>>>26,K&=67108863,this.words[L]=K}return 0!==T&&(this.words[L]=T,this.length++),this},BN.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function(M){var P,E=M<0;if(0!==this.negative&&!E)return -1;if(0===this.negative&&E)return 1;if(this.strip(),this.length>1)P=1;else{E&&(M=-M),assert(M<=67108863,"Number is too big");var O=0|this.words[0];P=O===M?0:O<M?-1:1}return 0!==this.negative?0|-P:P},BN.prototype.cmp=function(M){if(0!==this.negative&&0===M.negative)return -1;if(0===this.negative&&0!==M.negative)return 1;var P=this.ucmp(M);return 0!==this.negative?0|-P:P},BN.prototype.ucmp=function(M){if(this.length>M.length)return 1;if(this.length<M.length)return -1;for(var P=0,E=this.length-1;E>=0;E--){var O=0|this.words[E],T=0|M.words[E];if(O!==T){O<T?P=-1:O>T&&(P=1);break}}return P},BN.prototype.gtn=function(M){return 1===this.cmpn(M)},BN.prototype.gt=function(M){return 1===this.cmp(M)},BN.prototype.gten=function(M){return this.cmpn(M)>=0},BN.prototype.gte=function(M){return this.cmp(M)>=0},BN.prototype.ltn=function(M){return -1===this.cmpn(M)},BN.prototype.lt=function(M){return -1===this.cmp(M)},BN.prototype.lten=function(M){return 0>=this.cmpn(M)},BN.prototype.lte=function(M){return 0>=this.cmp(M)},BN.prototype.eqn=function(M){return 0===this.cmpn(M)},BN.prototype.eq=function(M){return 0===this.cmp(M)},BN.red=function(M){return new Red(M)},BN.prototype.toRed=function(M){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),M.convertTo(this)._forceRed(M)},BN.prototype.fromRed=function(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function(M){return this.red=M,this},BN.prototype.forceRed=function(M){return assert(!this.red,"Already a number in reduction context"),this._forceRed(M)},BN.prototype.redAdd=function(M){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,M)},BN.prototype.redIAdd=function(M){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,M)},BN.prototype.redSub=function(M){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,M)},BN.prototype.redISub=function(M){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,M)},BN.prototype.redShl=function(M){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,M)},BN.prototype.redMul=function(M){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.mul(this,M)},BN.prototype.redIMul=function(M){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.imul(this,M)},BN.prototype.redSqr=function(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function(M){return assert(this.red&&!M.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,M)};var F={k256:null,p224:null,p192:null,p25519:null};function MPrime(M,P){this.name=M,this.p=new BN(P,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(M){if("string"==typeof M){var P=BN._prime(M);this.m=P.p,this.prime=P}else assert(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}function Mont(M){Red.call(this,M),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}MPrime.prototype._tmp=function(){var M=new BN(null);return M.words=Array(Math.ceil(this.n/13)),M},MPrime.prototype.ireduce=function(M){var P,E=M;do this.split(E,this.tmp),P=(E=(E=this.imulK(E)).iadd(this.tmp)).bitLength();while(P>this.n);var O=P<this.n?-1:E.ucmp(this.p);return 0===O?(E.words[0]=0,E.length=1):O>0?E.isub(this.p):void 0!==E.strip?E.strip():E._strip(),E},MPrime.prototype.split=function(M,P){M.iushrn(this.n,0,P)},MPrime.prototype.imulK=function(M){return M.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function(M,P){for(var E=4194303,O=Math.min(M.length,9),T=0;T<O;T++)P.words[T]=M.words[T];if(P.length=O,M.length<=9){M.words[0]=0,M.length=1;return}var L=M.words[9];for(T=10,P.words[P.length++]=L&E;T<M.length;T++){var K=0|M.words[T];M.words[T-10]=(K&E)<<4|L>>>22,L=K}L>>>=22,M.words[T-10]=L,0===L&&M.length>10?M.length-=10:M.length-=9},K256.prototype.imulK=function(M){M.words[M.length]=0,M.words[M.length+1]=0,M.length+=2;for(var P=0,E=0;E<M.length;E++){var O=0|M.words[E];P+=977*O,M.words[E]=67108863&P,P=64*O+(P/67108864|0)}return 0===M.words[M.length-1]&&(M.length--,0===M.words[M.length-1]&&M.length--),M},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function(M){for(var P=0,E=0;E<M.length;E++){var O=(0|M.words[E])*19+P,T=67108863&O;O>>>=26,M.words[E]=T,P=O}return 0!==P&&(M.words[M.length++]=P),M},BN._prime=function(M){var P;if(F[M])return F[M];if("k256"===M)P=new K256;else if("p224"===M)P=new P224;else if("p192"===M)P=new P192;else if("p25519"===M)P=new P25519;else throw Error("Unknown prime "+M);return F[M]=P,P},Red.prototype._verify1=function(M){assert(0===M.negative,"red works only with positives"),assert(M.red,"red works only with red numbers")},Red.prototype._verify2=function(M,P){assert((M.negative|P.negative)==0,"red works only with positives"),assert(M.red&&M.red===P.red,"red works only with red numbers")},Red.prototype.imod=function(M){return this.prime?this.prime.ireduce(M)._forceRed(this):M.umod(this.m)._forceRed(this)},Red.prototype.neg=function(M){return M.isZero()?M.clone():this.m.sub(M)._forceRed(this)},Red.prototype.add=function(M,P){this._verify2(M,P);var E=M.add(P);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},Red.prototype.iadd=function(M,P){this._verify2(M,P);var E=M.iadd(P);return E.cmp(this.m)>=0&&E.isub(this.m),E},Red.prototype.sub=function(M,P){this._verify2(M,P);var E=M.sub(P);return 0>E.cmpn(0)&&E.iadd(this.m),E._forceRed(this)},Red.prototype.isub=function(M,P){this._verify2(M,P);var E=M.isub(P);return 0>E.cmpn(0)&&E.iadd(this.m),E},Red.prototype.shl=function(M,P){return this._verify1(M),this.imod(M.ushln(P))},Red.prototype.imul=function(M,P){return this._verify2(M,P),this.imod(M.imul(P))},Red.prototype.mul=function(M,P){return this._verify2(M,P),this.imod(M.mul(P))},Red.prototype.isqr=function(M){return this.imul(M,M.clone())},Red.prototype.sqr=function(M){return this.mul(M,M)},Red.prototype.sqrt=function(M){if(M.isZero())return M.clone();var P=this.m.andln(3);if(assert(P%2==1),3===P){var E=this.m.add(new BN(1)).iushrn(2);return this.pow(M,E)}for(var O=this.m.subn(1),T=0;!O.isZero()&&0===O.andln(1);)T++,O.iushrn(1);assert(!O.isZero());var L=new BN(1).toRed(this),K=L.redNeg(),F=this.m.subn(1).iushrn(1),U=this.m.bitLength();for(U=new BN(2*U*U).toRed(this);0!==this.pow(U,F).cmp(K);)U.redIAdd(K);for(var J=this.pow(U,O),Z=this.pow(M,O.addn(1).iushrn(1)),H=this.pow(M,O),V=T;0!==H.cmp(L);){for(var $=H,W=0;0!==$.cmp(L);W++)$=$.redSqr();assert(W<V);var Y=this.pow(J,new BN(1).iushln(V-W-1));Z=Z.redMul(Y),J=Y.redSqr(),H=H.redMul(J),V=W}return Z},Red.prototype.invm=function(M){var P=M._invmp(this.m);return 0!==P.negative?(P.negative=0,this.imod(P).redNeg()):this.imod(P)},Red.prototype.pow=function(M,P){if(P.isZero())return new BN(1).toRed(this);if(0===P.cmpn(1))return M.clone();var E=4,O=Array(16);O[0]=new BN(1).toRed(this),O[1]=M;for(var T=2;T<O.length;T++)O[T]=this.mul(O[T-1],M);var L=O[0],K=0,F=0,U=P.bitLength()%26;for(0===U&&(U=26),T=P.length-1;T>=0;T--){for(var J=P.words[T],Z=U-1;Z>=0;Z--){var H=J>>Z&1;if(L!==O[0]&&(L=this.sqr(L)),0===H&&0===K){F=0;continue}K<<=1,K|=H,(++F===E||0===T&&0===Z)&&(L=this.mul(L,O[K]),F=0,K=0)}U=26}return L},Red.prototype.convertTo=function(M){var P=M.umod(this.m);return P===M?P.clone():P},Red.prototype.convertFrom=function(M){var P=M.clone();return P.red=null,P},BN.mont=function(M){return new Mont(M)},inherits(Mont,Red),Mont.prototype.convertTo=function(M){return this.imod(M.ushln(this.shift))},Mont.prototype.convertFrom=function(M){var P=this.imod(M.mul(this.rinv));return P.red=null,P},Mont.prototype.imul=function(M,P){if(M.isZero()||P.isZero())return M.words[0]=0,M.length=1,M;var E=M.imul(P),O=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=E.isub(O).iushrn(this.shift),L=T;return T.cmp(this.m)>=0?L=T.isub(this.m):0>T.cmpn(0)&&(L=T.iadd(this.m)),L._forceRed(this)},Mont.prototype.mul=function(M,P){if(M.isZero()||P.isZero())return new BN(0)._forceRed(this);var E=M.mul(P),O=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=E.isub(O).iushrn(this.shift),L=T;return T.cmp(this.m)>=0?L=T.isub(this.m):0>T.cmpn(0)&&(L=T.iadd(this.m)),L._forceRed(this)},Mont.prototype.invm=function(M){return this.imod(M._invmp(this.m).mul(this.r2))._forceRed(this)}}(M=E.nmd(M),this)},2156:function(M,P,E){"use strict";var O=E(33715),T=E(34504),L=E(79746);function HmacDRBG(M){if(!(this instanceof HmacDRBG))return new HmacDRBG(M);this.hash=M.hash,this.predResist=!!M.predResist,this.outLen=this.hash.outSize,this.minEntropy=M.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var P=T.toArray(M.entropy,M.entropyEnc||"hex"),E=T.toArray(M.nonce,M.nonceEnc||"hex"),O=T.toArray(M.pers,M.persEnc||"hex");L(P.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(P,E,O)}M.exports=HmacDRBG,HmacDRBG.prototype._init=function(M,P,E){var O=M.concat(P).concat(E);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var T=0;T<this.V.length;T++)this.K[T]=0,this.V[T]=1;this._update(O),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function(){return new O.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function(M){var P=this._hmac().update(this.V).update([0]);M&&(P=P.update(M)),this.K=P.digest(),this.V=this._hmac().update(this.V).digest(),M&&(this.K=this._hmac().update(this.V).update([1]).update(M).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function(M,P,E,O){"string"!=typeof P&&(O=E,E=P,P=null),M=T.toArray(M,P),E=T.toArray(E,O),L(M.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(M.concat(E||[])),this._reseed=1},HmacDRBG.prototype.generate=function(M,P,E,O){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof P&&(O=E,E=P,P=null),E&&(E=T.toArray(E,O||"hex"),this._update(E));for(var L=[];L.length<M;)this.V=this._hmac().update(this.V).digest(),L=L.concat(this.V);var K=L.slice(0,M);return this._update(E),this._reseed++,T.encode(K,P)}},5826:function(M){var P={}.toString;M.exports=Array.isArray||function(M){return"[object Array]"==P.call(M)}},67266:function(M,P,E){"use strict";var O=("undefined"!=typeof JSON?JSON:E(58418)).stringify,T=E(5826),L=E(82215),K=E(55559),strRepeat=function(M,P){for(var E="",O=0;O<M;O+=1)E+=P;return E},defaultReplacer=function(M,P,E){return E};M.exports=function(M){var P=arguments.length>1?arguments[1]:void 0,E=P&&P.space||"";"number"==typeof E&&(E=strRepeat(E," "));var F=!!P&&"boolean"==typeof P.cycles&&P.cycles,U=P&&P.replacer?K(P.replacer):defaultReplacer,J="function"==typeof P?P:P&&P.cmp,Z=J&&function(M){var P=J.length>2&&function(P){return M[P]};return function(E,O){return J({key:E,value:M[E]},{key:O,value:M[O]},P?{__proto__:null,get:P}:void 0)}},H=[];return function stringify(M,P,K,J){var V=E?"\n"+strRepeat(J,E):"",$=E?": ":":";if(K&&K.toJSON&&"function"==typeof K.toJSON&&(K=K.toJSON()),void 0!==(K=U(M,P,K))){if("object"!=typeof K||null===K)return O(K);if(T(K)){for(var W="",Y=0;Y<K.length;Y++){var X=stringify(K,Y,K[Y],J+1)||O(null);W+=V+E+X,Y+1<K.length&&(W+=",")}return"["+W+V+"]"}if(-1!==H.indexOf(K)){if(F)return O("__cycle__");throw TypeError("Converting circular structure to JSON")}H.push(K);for(var G=L(K).sort(Z&&Z(K)),W="",et=!1,Y=0;Y<G.length;Y++){var P=G[Y],er=stringify(K,P,K[P],J+1);if(er){var ei=O(P)+$+er;W+=(et?",":"")+V+E+ei,et=!0}}return H.splice(H.indexOf(K),1),"{"+W+V+"}"}}({"":M},"",M,0)}},58418:function(M,P,E){"use strict";P.parse=E(51396),P.stringify=E(66177)},51396:function(M){"use strict";var P,E,O,T={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"};function error(M){throw{name:"SyntaxError",message:M,at:P,text:O}}function next(M){return M&&M!==E&&error("Expected '"+M+"' instead of '"+E+"'"),E=O.charAt(P),P+=1,E}function number(){var M,P="";for("-"===E&&(P="-",next("-"));E>="0"&&E<="9";)P+=E,next();if("."===E)for(P+=".";next()&&E>="0"&&E<="9";)P+=E;if("e"===E||"E"===E)for(P+=E,next(),("-"===E||"+"===E)&&(P+=E,next());E>="0"&&E<="9";)P+=E,next();return isFinite(M=Number(P))||error("Bad number"),M}function string(){var M,P,O,L="";if('"'===E)for(;next();){if('"'===E)return next(),L;if("\\"===E){if(next(),"u"===E){for(P=0,O=0;P<4&&isFinite(M=parseInt(next(),16));P+=1)O=16*O+M;L+=String.fromCharCode(O)}else if("string"==typeof T[E])L+=T[E];else break}else L+=E}error("Bad string")}function white(){for(;E&&E<=" ";)next()}function word(){switch(E){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null;default:error("Unexpected '"+E+"'")}}function array(){var M=[];if("["===E){if(next("["),white(),"]"===E)return next("]"),M;for(;E;){if(M.push(value()),white(),"]"===E)return next("]"),M;next(","),white()}}error("Bad array")}function object(){var M,P={};if("{"===E){if(next("{"),white(),"}"===E)return next("}"),P;for(;E;){if(M=string(),white(),next(":"),Object.prototype.hasOwnProperty.call(P,M)&&error('Duplicate key "'+M+'"'),P[M]=value(),white(),"}"===E)return next("}"),P;next(","),white()}}error("Bad object")}function value(){switch(white(),E){case"{":return object();case"[":return array();case'"':return string();case"-":return number();default:return E>="0"&&E<="9"?number():word()}}M.exports=function(M,T){var L;return O=M,P=0,E=" ",L=value(),white(),E&&error("Syntax error"),"function"==typeof T?function walk(M,P){var E,O,L=M[P];if(L&&"object"==typeof L)for(E in value)Object.prototype.hasOwnProperty.call(L,E)&&(void 0===(O=walk(L,E))?delete L[E]:L[E]=O);return T.call(M,P,L)}({"":L},""):L}},66177:function(M){"use strict";var P,E,O,T=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,L={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function quote(M){return T.lastIndex=0,T.test(M)?'"'+M.replace(T,function(M){var P=L[M];return"string"==typeof P?P:"\\u"+("0000"+M.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+M+'"'}function str(M,T){var L,K,F,U,J,Z=P,H=T[M];switch(H&&"object"==typeof H&&"function"==typeof H.toJSON&&(H=H.toJSON(M)),"function"==typeof O&&(H=O.call(T,M,H)),typeof H){case"string":return quote(H);case"number":return isFinite(H)?String(H):"null";case"boolean":case"null":return String(H);case"object":if(!H)return"null";if(P+=E,J=[],"[object Array]"===Object.prototype.toString.apply(H)){for(L=0,U=H.length;L<U;L+=1)J[L]=str(L,H)||"null";return F=0===J.length?"[]":P?"[\n"+P+J.join(",\n"+P)+"\n"+Z+"]":"["+J.join(",")+"]",P=Z,F}if(O&&"object"==typeof O)for(L=0,U=O.length;L<U;L+=1)"string"==typeof(K=O[L])&&(F=str(K,H))&&J.push(quote(K)+(P?": ":":")+F);else for(K in H)Object.prototype.hasOwnProperty.call(H,K)&&(F=str(K,H))&&J.push(quote(K)+(P?": ":":")+F);return F=0===J.length?"{}":P?"{\n"+P+J.join(",\n"+P)+"\n"+Z+"}":"{"+J.join(",")+"}",P=Z,F}}M.exports=function(M,T,L){var K;if(P="",E="","number"==typeof L)for(K=0;K<L;K+=1)E+=" ";else"string"==typeof L&&(E=L);if(O=T,T&&"function"!=typeof T&&("object"!=typeof T||"number"!=typeof T.length))throw Error("JSON.stringify");return str("",{"":M})}},34504:function(M,P){"use strict";var E=P;function toArray(M,P){if(Array.isArray(M))return M.slice();if(!M)return[];var E=[];if("string"!=typeof M){for(var O=0;O<M.length;O++)E[O]=0|M[O];return E}if("hex"===P){(M=M.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(M="0"+M);for(var O=0;O<M.length;O+=2)E.push(parseInt(M[O]+M[O+1],16))}else for(var O=0;O<M.length;O++){var T=M.charCodeAt(O),L=T>>8,K=255&T;L?E.push(L,K):E.push(K)}return E}function zero2(M){return 1===M.length?"0"+M:M}function toHex(M){for(var P="",E=0;E<M.length;E++)P+=zero2(M[E].toString(16));return P}E.toArray=toArray,E.zero2=zero2,E.toHex=toHex,E.encode=function(M,P){return"hex"===P?toHex(M):M}},51951:function(module){var __dirname="/";!function(){var __webpack_modules__={950:function(__unused_webpack_module,exports){var indexOf=function(M,P){if(M.indexOf)return M.indexOf(P);for(var E=0;E<M.length;E++)if(M[E]===P)return E;return -1},Object_keys=function(M){if(Object.keys)return Object.keys(M);var P=[];for(var E in M)P.push(E);return P},forEach=function(M,P){if(M.forEach)return M.forEach(P);for(var E=0;E<M.length;E++)P(M[E],E,M)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(M,P,E){Object.defineProperty(M,P,{writable:!0,enumerable:!1,configurable:!0,value:E})}}catch(M){return function(M,P,E){M[P]=E}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(M){if(!(this instanceof Script))return new Script(M);this.code=M};Script.prototype.runInContext=function(M){if(!(M instanceof Context))throw TypeError("needs a 'context' argument.");var P=document.createElement("iframe");P.style||(P.style={}),P.style.display="none",document.body.appendChild(P);var E=P.contentWindow,O=E.eval,T=E.execScript;!O&&T&&(T.call(E,"null"),O=E.eval),forEach(Object_keys(M),function(P){E[P]=M[P]}),forEach(globals,function(P){M[P]&&(E[P]=M[P])});var L=Object_keys(E),K=O.call(E,this.code);return forEach(Object_keys(E),function(P){(P in M||-1===indexOf(L,P))&&(M[P]=E[P])}),forEach(globals,function(P){P in M||defineProp(M,P,E[P])}),document.body.removeChild(P),K},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(M){var P=Script.createContext(M),E=this.runInContext(P);return M&&forEach(Object_keys(P),function(E){M[E]=P[E]}),E},forEach(Object_keys(Script.prototype),function(M){exports[M]=Script[M]=function(P){var E=Script(P);return E[M].apply(E,[].slice.call(arguments,1))}}),exports.isContext=function(M){return M instanceof Context},exports.createScript=function(M){return exports.Script(M)},exports.createContext=Script.createContext=function(M){var P=new Context;return"object"==typeof M&&forEach(Object_keys(M),function(E){P[E]=M[E]}),P}}};"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var __nested_webpack_exports__={};__webpack_modules__[950](0,__nested_webpack_exports__),module.exports=__nested_webpack_exports__}()},18597:function(M){"use strict";M.exports={i8:"6.5.4"}}}]);