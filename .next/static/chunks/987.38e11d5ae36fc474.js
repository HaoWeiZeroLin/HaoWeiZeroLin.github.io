(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[987],{9173:function(e,t,r){"use strict";let{AbortError:n,codes:i}=r(80935),{isNodeStream:o,isWebStream:a,kControllerErrorFunction:s}=r(82275),l=r(8398),{ERR_INVALID_ARG_TYPE:d}=i,u=(e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new d(t,"AbortSignal",e)};e.exports.addAbortSignal=function(t,r){if(u(t,"signal"),!o(r)&&!a(r))throw new d("stream",["ReadableStream","WritableStream","Stream"],r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;let r=o(t)?()=>{t.destroy(new n(void 0,{cause:e.reason}))}:()=>{t[s](new n(void 0,{cause:e.reason}))};return e.aborted?r():(e.addEventListener("abort",r),l(t,()=>e.removeEventListener("abort",r))),t}},85298:function(e,t,r){"use strict";let{StringPrototypeSlice:n,SymbolIterator:i,TypedArrayPrototypeSet:o,Uint8Array:a}=r(1218),{Buffer:s}=r(48764),{inspect:l}=r(27824);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){let t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;let e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return s.alloc(0);let t=s.allocUnsafe(e>>>0),r=this.head,n=0;for(;r;)o(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){let r=this.head.data;if(e<r.length){let t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,i=0;do{let o=r.data;if(e>o.length)t+=o,e-=o.length;else{e===o.length?(t+=o,++i,r.next?this.head=r.next:this.head=this.tail=null):(t+=n(o,0,e),this.head=r,r.data=n(o,e));break}++i}while(null!==(r=r.next));return this.length-=i,t}_getBuffer(e){let t=s.allocUnsafe(e),r=e,n=this.head,i=0;do{let s=n.data;if(e>s.length)o(t,s,r-e),e-=s.length;else{e===s.length?(o(t,s,r-e),++i,n.next?this.head=n.next:this.head=this.tail=null):(o(t,new a(s.buffer,s.byteOffset,e),r-e),this.head=n,n.data=s.slice(e));break}++i}while(null!==(n=n.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return l(this,{...t,depth:0,customInspect:!1})}}},30162:function(e,t,r){"use strict";let{pipeline:n}=r(63208),i=r(29613),{destroyer:o}=r(89552),{isNodeStream:a,isReadable:s,isWritable:l,isWebStream:d,isTransformStream:u,isWritableStream:c,isReadableStream:h}=r(82275),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:g}}=r(80935),b=r(8398);e.exports=function(...e){let t,r,w,m,y;if(0===e.length)throw new g("streams");if(1===e.length)return i.from(e[0]);let _=[...e];if("function"==typeof e[0]&&(e[0]=i.from(e[0])),"function"==typeof e[e.length-1]){let t=e.length-1;e[t]=i.from(e[t])}for(let t=0;t<e.length;++t)if(a(e[t])||d(e[t])){if(t<e.length-1&&!(s(e[t])||h(e[t])||u(e[t])))throw new p(`streams[${t}]`,_[t],"must be readable");if(t>0&&!(l(e[t])||c(e[t])||u(e[t])))throw new p(`streams[${t}]`,_[t],"must be writable")}let v=e[0],S=n(e,function(e){let t=m;m=null,t?t(e):e?y.destroy(e):R||E||y.destroy()}),E=!!(l(v)||c(v)||u(v)),R=!!(s(S)||h(S)||u(S));if(y=new i({writableObjectMode:!!(null!=v&&v.writableObjectMode),readableObjectMode:!!(null!=S&&S.writableObjectMode),writable:E,readable:R}),E){if(a(v))y._write=function(e,r,n){v.write(e,r)?n():t=n},y._final=function(e){v.end(),r=e},v.on("drain",function(){if(t){let e=t;t=null,e()}});else if(d(v)){let e=(u(v)?v.writable:v).getWriter();y._write=async function(t,r,n){try{await e.ready,e.write(t).catch(()=>{}),n()}catch(e){n(e)}},y._final=async function(t){try{await e.ready,e.close().catch(()=>{}),r=t}catch(e){t(e)}}}b(u(S)?S.readable:S,()=>{if(r){let e=r;r=null,e()}})}if(R){if(a(S))S.on("readable",function(){if(w){let e=w;w=null,e()}}),S.on("end",function(){y.push(null)}),y._read=function(){for(;;){let e=S.read();if(null===e){w=y._read;return}if(!y.push(e))return}};else if(d(S)){let e=(u(S)?S.readable:S).getReader();y._read=async function(){for(;;)try{let{value:t,done:r}=await e.read();if(!y.push(t))return;if(r){y.push(null);return}}catch{return}}}}return y._destroy=function(e,n){e||null===m||(e=new f),w=null,t=null,r=null,null===m?n(e):(m=n,a(S)&&o(S,e))},y}},89552:function(e,t,r){"use strict";let n=r(34155),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:a}=r(80935),{Symbol:s}=r(1218),{kDestroyed:l,isDestroyed:d,isFinished:u,isServerRequest:c}=r(82275),h=s("kDestroy"),f=s("kConstruct");function p(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function g(e,t,r){let i=!1;function o(t){if(i)return;i=!0;let o=e._readableState,a=e._writableState;p(t,a,o),a&&(a.closed=!0),o&&(o.closed=!0),"function"==typeof r&&r(t),t?n.nextTick(b,e,t):n.nextTick(w,e)}try{e._destroy(t||null,o)}catch(e){o(e)}}function b(e,t){m(e,t),w(e)}function w(e){let t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function m(e,t){let r=e._readableState,n=e._writableState;null!=n&&n.errorEmitted||null!=r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function y(e,t,r){let i=e._readableState,o=e._writableState;if(null!=o&&o.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),i&&!i.errored&&(i.errored=t),r?n.nextTick(m,e,t):m(e,t))}function _(e){let t=!1;function r(r){if(t){y(e,null!=r?r:new o);return}t=!0;let i=e._readableState,a=e._writableState,s=a||i;i&&(i.constructed=!0),a&&(a.constructed=!0),s.destroyed?e.emit(h,r):r?y(e,r,!0):n.nextTick(v,e)}try{e._construct(e=>{n.nextTick(r,e)})}catch(e){n.nextTick(r,e)}}function v(e){e.emit(f)}function S(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function E(e){e.emit("close")}function R(e,t){e.emit("error",t),n.nextTick(E,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;let r=e._readableState,i=e._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),e.once(f,t),e.listenerCount(f)>1||n.nextTick(_,e)},destroyer:function(e,t){!(!e||d(e))&&(t||u(e)||(t=new a),c(e)?(e.socket=null,e.destroy(t)):S(e)?e.abort():S(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?n.nextTick(R,e,t):n.nextTick(E,e),e.destroyed||(e[l]=!0))},destroy:function(e,t){let r=this._readableState,n=this._writableState,o=n||r;return null!=n&&n.destroyed||null!=r&&r.destroyed?"function"==typeof t&&t():(p(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?g(this,e,t):this.once(h,function(r){g(this,i(r,e),t)})),this},undestroy:function(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:y}},29613:function(e,t,r){"use strict";let n,i;let{ObjectDefineProperties:o,ObjectGetOwnPropertyDescriptor:a,ObjectKeys:s,ObjectSetPrototypeOf:l}=r(1218);e.exports=c;let d=r(46766),u=r(46256);l(c.prototype,d.prototype),l(c,d);{let e=s(u.prototype);for(let t=0;t<e.length;t++){let r=e[t];c.prototype[r]||(c.prototype[r]=u.prototype[r])}}function c(e){if(!(this instanceof c))return new c(e);d.call(this,e),u.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}function h(){return void 0===n&&(n={}),n}o(c.prototype,{writable:{__proto__:null,...a(u.prototype,"writable")},writableHighWaterMark:{__proto__:null,...a(u.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...a(u.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...a(u.prototype,"writableBuffer")},writableLength:{__proto__:null,...a(u.prototype,"writableLength")},writableFinished:{__proto__:null,...a(u.prototype,"writableFinished")},writableCorked:{__proto__:null,...a(u.prototype,"writableCorked")},writableEnded:{__proto__:null,...a(u.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...a(u.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),c.fromWeb=function(e,t){return h().newStreamDuplexFromReadableWritablePair(e,t)},c.toWeb=function(e){return h().newReadableWritablePairFromDuplex(e)},c.from=function(e){return i||(i=r(31378)),i(e,"body")}},31378:function(e,t,r){"use strict";let n=r(34155),i=r(48764),{isReadable:o,isWritable:a,isIterable:s,isNodeStream:l,isReadableNodeStream:d,isWritableNodeStream:u,isDuplexNodeStream:c}=r(82275),h=r(8398),{AbortError:f,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:g}}=r(80935),{destroyer:b}=r(89552),w=r(29613),m=r(46766),{createDeferredPromise:y}=r(27824),_=r(13661),v=globalThis.Blob||i.Blob,S=void 0!==v?function(e){return e instanceof v}:function(e){return!1},E=globalThis.AbortController||r(28599).AbortController,{FunctionPrototypeCall:R}=r(1218);class A extends w{constructor(e){super(e),(null==e?void 0:e.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(null==e?void 0:e.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function T(e){let t,r,n,i,s;let l=e.readable&&"function"!=typeof e.readable.read?m.wrap(e.readable):e.readable,d=e.writable,u=!!o(l),c=!!a(d);function p(e){let t=i;i=null,t?t(e):e&&s.destroy(e)}return s=new A({readableObjectMode:!!(null!=l&&l.readableObjectMode),writableObjectMode:!!(null!=d&&d.writableObjectMode),readable:u,writable:c}),c&&(h(d,e=>{c=!1,e&&b(l,e),p(e)}),s._write=function(e,r,n){d.write(e,r)?n():t=n},s._final=function(e){d.end(),r=e},d.on("drain",function(){if(t){let e=t;t=null,e()}}),d.on("finish",function(){if(r){let e=r;r=null,e()}})),u&&(h(l,e=>{u=!1,e&&b(l,e),p(e)}),l.on("readable",function(){if(n){let e=n;n=null,e()}}),l.on("end",function(){s.push(null)}),s._read=function(){for(;;){let e=l.read();if(null===e){n=s._read;return}if(!s.push(e))return}}),s._destroy=function(e,o){e||null===i||(e=new f),n=null,t=null,r=null,null===i?o(e):(i=o,b(d,e),b(l,e))},s}e.exports=function e(t,r){if(c(t))return t;if(d(t))return T({readable:t});if(u(t))return T({writable:t});if(l(t))return T({writable:!1,readable:!1});if("function"==typeof t){let{value:e,write:i,final:o,destroy:a}=function(e){let{promise:t,resolve:r}=y(),i=new E,o=i.signal;return{value:e(async function*(){for(;;){let e=t;t=null;let{chunk:i,done:a,cb:s}=await e;if(n.nextTick(s),a)return;if(o.aborted)throw new f(void 0,{cause:o.reason});({promise:t,resolve:r}=y()),yield i}}(),{signal:o}),write(e,t,n){let i=r;r=null,i({chunk:e,done:!1,cb:n})},final(e){let t=r;r=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(s(e))return _(A,e,{objectMode:!0,write:i,final:o,destroy:a});let l=null==e?void 0:e.then;if("function"==typeof l){let t;let r=R(l,e,e=>{if(null!=e)throw new g("nully","body",e)},e=>{b(t,e)});return t=new A({objectMode:!0,readable:!1,write:i,final(e){o(async()=>{try{await r,n.nextTick(e,null)}catch(t){n.nextTick(e,t)}})},destroy:a})}throw new g("Iterable, AsyncIterable or AsyncFunction",r,e)}if(S(t))return e(t.arrayBuffer());if(s(t))return _(A,t,{objectMode:!0,writable:!1});if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable))return T({readable:null!=t&&t.readable?d(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?u(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0});let i=null==t?void 0:t.then;if("function"==typeof i){let e;return R(i,t,t=>{null!=t&&e.push(t),e.push(null)},t=>{b(e,t)}),e=new A({objectMode:!0,writable:!1,read(){}})}throw new p(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},8398:function(e,t,r){"use strict";let n=r(34155),{AbortError:i,codes:o}=r(80935),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:s}=o,{kEmptyObject:l,once:d}=r(27824),{validateAbortSignal:u,validateFunction:c,validateObject:h,validateBoolean:f}=r(49603),{Promise:p,PromisePrototypeThen:g}=r(1218),{isClosed:b,isReadable:w,isReadableNodeStream:m,isReadableStream:y,isReadableFinished:_,isReadableErrored:v,isWritable:S,isWritableNodeStream:E,isWritableStream:R,isWritableFinished:A,isWritableErrored:T,isNodeStream:C,willEmitClose:k,kIsClosedPromise:I}=r(82275),x=()=>{};function P(e,t,r){var o,f;if(2==arguments.length?(r=t,t=l):null==t?t=l:h(t,"options"),c(r,"callback"),u(t.signal,"options.signal"),r=d(r),y(e)||R(e))return function(e,t,r){let o=!1,a=x;if(t.signal){if(a=()=>{o=!0,r.call(e,new i(void 0,{cause:t.signal.reason}))},t.signal.aborted)n.nextTick(a);else{let n=r;r=d((...r)=>{t.signal.removeEventListener("abort",a),n.apply(e,r)}),t.signal.addEventListener("abort",a)}}let s=(...t)=>{o||n.nextTick(()=>r.apply(e,t))};return g(e[I].promise,s,s),x}(e,t,r);if(!C(e))throw new a("stream",["ReadableStream","WritableStream","Stream"],e);let p=null!==(o=t.readable)&&void 0!==o?o:m(e),P=null!==(f=t.writable)&&void 0!==f?f:E(e),M=e._writableState,O=e._readableState,j=()=>{e.writable||D()},N=k(e)&&m(e)===p&&E(e)===P,L=A(e,!1),D=()=>{L=!0,e.destroyed&&(N=!1),N&&(!e.readable||p)||p&&!W||r.call(e)},W=_(e,!1),$=()=>{W=!0,e.destroyed&&(N=!1),N&&(!e.writable||P)||P&&!L||r.call(e)},U=t=>{r.call(e,t)},q=b(e),F=()=>{q=!0;let t=T(e)||v(e);return t&&"boolean"!=typeof t?r.call(e,t):p&&!W&&m(e,!0)&&!_(e,!1)||P&&!L&&!A(e,!1)?r.call(e,new s):void r.call(e)},Z=()=>{q=!0;let t=T(e)||v(e);if(t&&"boolean"!=typeof t)return r.call(e,t);r.call(e)},z=()=>{e.req.on("finish",D)};e.setHeader&&"function"==typeof e.abort?(e.on("complete",D),N||e.on("abort",F),e.req?z():e.on("request",z)):P&&!M&&(e.on("end",j),e.on("close",j)),N||"boolean"!=typeof e.aborted||e.on("aborted",F),e.on("end",$),e.on("finish",D),!1!==t.error&&e.on("error",U),e.on("close",F),q?n.nextTick(F):null!=M&&M.errorEmitted||null!=O&&O.errorEmitted?N||n.nextTick(Z):!p&&(!N||w(e))&&(L||!1===S(e))?n.nextTick(Z):!P&&(!N||S(e))&&(W||!1===w(e))?n.nextTick(Z):O&&e.req&&e.aborted&&n.nextTick(Z);let B=()=>{r=x,e.removeListener("aborted",F),e.removeListener("complete",D),e.removeListener("abort",F),e.removeListener("request",z),e.req&&e.req.removeListener("finish",D),e.removeListener("end",j),e.removeListener("close",j),e.removeListener("finish",D),e.removeListener("end",$),e.removeListener("error",U),e.removeListener("close",F)};if(t.signal&&!q){let o=()=>{let n=r;B(),n.call(e,new i(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)n.nextTick(o);else{let n=r;r=d((...r)=>{t.signal.removeEventListener("abort",o),n.apply(e,r)}),t.signal.addEventListener("abort",o)}}return B}e.exports=P,e.exports.finished=function(e,t){var r;let n=!1;return null===t&&(t=l),null!==(r=t)&&void 0!==r&&r.cleanup&&(f(t.cleanup,"cleanup"),n=t.cleanup),new p((r,i)=>{let o=P(e,t,e=>{n&&o(),e?i(e):r()})})}},13661:function(e,t,r){"use strict";let n=r(34155),{PromisePrototypeThen:i,SymbolAsyncIterator:o,SymbolIterator:a}=r(1218),{Buffer:s}=r(48764),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:d}=r(80935).codes;e.exports=function(e,t,r){let u,c;if("string"==typeof t||t instanceof s)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});if(t&&t[o])c=!0,u=t[o]();else if(t&&t[a])c=!1,u=t[a]();else throw new l("iterable",["Iterable"],t);let h=new e({objectMode:!0,highWaterMark:1,...r}),f=!1;async function p(e){let t=null!=e,r="function"==typeof u.throw;if(t&&r){let{value:t,done:r}=await u.throw(e);if(await t,r)return}if("function"==typeof u.return){let{value:e}=await u.return();await e}}async function g(){for(;;){try{let{value:e,done:t}=c?await u.next():u.next();if(t)h.push(null);else{let t=e&&"function"==typeof e.then?await e:e;if(null===t)throw f=!1,new d;if(h.push(t))continue;f=!1}}catch(e){h.destroy(e)}break}}return h._read=function(){f||(f=!0,g())},h._destroy=function(e,t){i(p(e),()=>n.nextTick(t,e),r=>n.nextTick(t,r||e))},h}},6647:function(e,t,r){"use strict";let{ArrayIsArray:n,ObjectSetPrototypeOf:i}=r(1218),{EventEmitter:o}=r(17187);function a(e){o.call(this,e)}function s(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}i(a.prototype,o.prototype),i(a,o),a.prototype.pipe=function(e,t){let r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",l),r.on("close",d));let a=!1;function l(){a||(a=!0,e.end())}function d(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){c(),0===o.listenerCount(this,"error")&&this.emit("error",e)}function c(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",l),r.removeListener("close",d),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return s(r,"error",u),s(e,"error",u),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e},e.exports={Stream:a,prependListener:s}},29455:function(e,t,r){"use strict";let n=globalThis.AbortController||r(28599).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:s},AbortError:l}=r(80935),{validateAbortSignal:d,validateInteger:u,validateObject:c}=r(49603),h=r(1218).Symbol("kWeak"),{finished:f}=r(8398),p=r(30162),{addAbortSignalNoValidate:g}=r(9173),{isWritable:b,isNodeStream:w}=r(82275),{ArrayPrototypePush:m,MathFloor:y,Number:_,NumberIsNaN:v,Promise:S,PromiseReject:E,PromisePrototypeThen:R,Symbol:A}=r(1218),T=A("kEmpty"),C=A("kEof");function k(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);null!=t&&c(t,"options"),(null==t?void 0:t.signal)!=null&&d(t.signal,"options.signal");let r=1;return(null==t?void 0:t.concurrency)!=null&&(r=y(t.concurrency)),u(r,"concurrency",1),(async function*(){var i,o;let a,s;let d=new n,u=this,c=[],h=d.signal,f={signal:h},p=()=>d.abort();null!=t&&null!==(i=t.signal)&&void 0!==i&&i.aborted&&p(),null==t||null===(o=t.signal)||void 0===o||o.addEventListener("abort",p);let g=!1;function b(){g=!0}(async function(){var n,i;try{for await(let t of u){if(g)return;if(h.aborted)throw new l;try{t=e(t,f)}catch(e){t=E(e)}t!==T&&("function"==typeof(null===(n=t)||void 0===n?void 0:n.catch)&&t.catch(b),c.push(t),a&&(a(),a=null),!g&&c.length&&c.length>=r&&await new S(e=>{s=e}))}c.push(C)}catch(t){let e=E(t);R(e,void 0,b),c.push(e)}finally{g=!0,a&&(a(),a=null),null==t||null===(i=t.signal)||void 0===i||i.removeEventListener("abort",p)}})();try{for(;;){for(;c.length>0;){let e=await c[0];if(e===C)return;if(h.aborted)throw new l;e!==T&&(yield e),c.shift(),s&&(s(),s=null)}await new S(e=>{a=e})}}finally{d.abort(),g=!0,s&&(s(),s=null)}}).call(this)}async function I(e,t){for await(let r of O.call(this,e,t))return!0;return!1}async function x(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);return!await I.call(this,async(...t)=>!await e(...t),t)}async function P(e,t){for await(let r of O.call(this,e,t))return r}async function M(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);async function r(t,r){return await e(t,r),T}for await(let e of k.call(this,r,t));}function O(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);async function r(t,r){return await e(t,r)?t:T}return k.call(this,r,t)}class j extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function N(e,t,r){var i,a;if("function"!=typeof e)throw new o("reducer",["Function","AsyncFunction"],e);null!=r&&c(r,"options"),(null==r?void 0:r.signal)!=null&&d(r.signal,"options.signal");let s=arguments.length>1;if(null!=r&&null!==(i=r.signal)&&void 0!==i&&i.aborted){let e=new l(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await f(this.destroy(e)),e}let u=new n,p=u.signal;null!=r&&r.signal&&r.signal.addEventListener("abort",()=>u.abort(),{once:!0,[h]:this});let g=!1;try{for await(let n of this){if(g=!0,null!=r&&null!==(a=r.signal)&&void 0!==a&&a.aborted)throw new l;s?t=await e(t,n,{signal:p}):(t=n,s=!0)}if(!g&&!s)throw new j}finally{u.abort()}return t}async function L(e){null!=e&&c(e,"options"),(null==e?void 0:e.signal)!=null&&d(e.signal,"options.signal");let t=[];for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new l(void 0,{cause:e.signal.reason});m(t,n)}return t}function D(e){if(v(e=_(e)))return 0;if(e<0)throw new s("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:function(e){return null!=e&&c(e,"options"),(null==e?void 0:e.signal)!=null&&d(e.signal,"options.signal"),(async function*(){let t=0;for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new l({cause:e.signal.reason});yield[t++,n]}}).call(this)},drop:function(e,t){return null!=t&&c(t,"options"),(null==t?void 0:t.signal)!=null&&d(t.signal,"options.signal"),e=D(e),(async function*(){var r,n;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;for await(let r of this){if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;e--<=0&&(yield r)}}).call(this)},filter:O,flatMap:function(e,t){let r=k.call(this,e,t);return(async function*(){for await(let e of r)yield*e}).call(this)},map:k,take:function(e,t){return null!=t&&c(t,"options"),(null==t?void 0:t.signal)!=null&&d(t.signal,"options.signal"),e=D(e),(async function*(){var r,n;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;for await(let r of this){if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;if(!(e-- >0))return;yield r}}).call(this)},compose:function(e,t){if(null!=t&&c(t,"options"),(null==t?void 0:t.signal)!=null&&d(t.signal,"options.signal"),w(e)&&!b(e))throw new i("stream",e,"must be writable");let r=p(this,e);return null!=t&&t.signal&&g(t.signal,r),r}},e.exports.promiseReturningOperators={every:x,forEach:M,reduce:N,toArray:L,some:I,find:P}},76818:function(e,t,r){"use strict";let{ObjectSetPrototypeOf:n}=r(1218);e.exports=o;let i=r(30567);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}n(o.prototype,i.prototype),n(o,i),o.prototype._transform=function(e,t,r){r(null,e)}},63208:function(e,t,r){let n,i;"use strict";let o=r(34155),{ArrayIsArray:a,Promise:s,SymbolAsyncIterator:l}=r(1218),d=r(8398),{once:u}=r(27824),c=r(89552),h=r(29613),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:g,ERR_MISSING_ARGS:b,ERR_STREAM_DESTROYED:w,ERR_STREAM_PREMATURE_CLOSE:m},AbortError:y}=r(80935),{validateFunction:_,validateAbortSignal:v}=r(49603),{isIterable:S,isReadable:E,isReadableNodeStream:R,isNodeStream:A,isTransformStream:T,isWebStream:C,isReadableStream:k,isReadableEnded:I}=r(82275),x=globalThis.AbortController||r(28599).AbortController;function P(e,t,r){let n=!1;return e.on("close",()=>{n=!0}),{destroy:t=>{n||(n=!0,c.destroyer(e,t||new w("pipe")))},cleanup:d(e,{readable:t,writable:r},e=>{n=!e})}}function M(e){if(S(e))return e;if(R(e))return O(e);throw new p("val",["Readable","Iterable","AsyncIterable"],e)}async function*O(e){i||(i=r(46766)),yield*i.prototype[l].call(e)}async function j(e,t,r,{end:n}){let i;let o=null,a=e=>{if(e&&(i=e),o){let e=o;o=null,e()}},l=()=>new s((e,t)=>{i?t(i):o=()=>{i?t(i):e()}});t.on("drain",a);let u=d(t,{readable:!1},a);try{for await(let r of(t.writableNeedDrain&&await l(),e))t.write(r)||await l();n&&t.end(),await l(),r()}catch(e){r(i!==e?f(i,e):e)}finally{u(),t.off("drain",a)}}async function N(e,t,r,{end:n}){T(t)&&(t=t.writable);let i=t.getWriter();try{for await(let t of e)await i.ready,i.write(t).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(e){try{await i.abort(e),r(e)}catch(e){r(e)}}}function L(e,t,i){let s,l,u;if(1===e.length&&a(e[0])&&(e=e[0]),e.length<2)throw new b("streams");let c=new x,f=c.signal,w=null==i?void 0:i.signal,_=[];function O(){$(new y)}v(w,"options.signal"),null==w||w.addEventListener("abort",O);let L=[],D=0;function W(e){$(e,0==--D)}function $(e,r){if(e&&(!s||"ERR_STREAM_PREMATURE_CLOSE"===s.code)&&(s=e),s||r){for(;L.length;)L.shift()(s);null==w||w.removeEventListener("abort",O),c.abort(),r&&(s||_.forEach(e=>e()),o.nextTick(t,s,l))}}for(let t=0;t<e.length;t++){let a=e[t],s=t<e.length-1,c=t>0,b=s||(null==i?void 0:i.end)!==!1,w=t===e.length-1;if(A(a)){if(b){let{destroy:e,cleanup:t}=P(a,s,c);L.push(e),E(a)&&w&&_.push(t)}function U(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&W(e)}a.on("error",U),E(a)&&w&&_.push(()=>{a.removeListener("error",U)})}if(0===t){if("function"==typeof a){if(!S(u=a({signal:f})))throw new g("Iterable, AsyncIterable or Stream","source",u)}else u=S(a)||R(a)||T(a)?a:h.from(a)}else if("function"==typeof a){var q,F;if(u=a(u=T(u)?M(null===(q=u)||void 0===q?void 0:q.readable):M(u),{signal:f}),s){if(!S(u,!0))throw new g("AsyncIterable",`transform[${t-1}]`,u)}else{n||(n=r(76818));let e=new n({objectMode:!0}),t=null===(F=u)||void 0===F?void 0:F.then;if("function"==typeof t)D++,t.call(u,t=>{l=t,null!=t&&e.write(t),b&&e.end(),o.nextTick(W)},t=>{e.destroy(t),o.nextTick(W,t)});else if(S(u,!0))D++,j(u,e,W,{end:b});else if(k(u)||T(u)){let t=u.readable||u;D++,j(t,e,W,{end:b})}else throw new g("AsyncIterable or Promise","destination",u);let{destroy:i,cleanup:a}=P(u=e,!1,!0);L.push(i),w&&_.push(a)}}else if(A(a)){if(R(u)){D+=2;let e=function(e,t,r,{end:n}){let i=!1;if(t.on("close",()=>{i||r(new m)}),e.pipe(t,{end:!1}),n){function a(){i=!0,t.end()}I(e)?o.nextTick(a):e.once("end",a)}else r();return d(e,{readable:!0,writable:!1},t=>{let n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)}),d(t,{readable:!1,writable:!0},r)}(u,a,W,{end:b});E(a)&&w&&_.push(e)}else if(T(u)||k(u)){let e=u.readable||u;D++,j(e,a,W,{end:b})}else if(S(u))D++,j(u,a,W,{end:b});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],u);u=a}else if(C(a)){if(R(u))D++,N(M(u),a,W,{end:b});else if(k(u)||S(u))D++,N(u,a,W,{end:b});else if(T(u))D++,N(u.readable,a,W,{end:b});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],u);u=a}else u=h.from(a)}return(null!=f&&f.aborted||null!=w&&w.aborted)&&o.nextTick(O),u}e.exports={pipelineImpl:L,pipeline:function(...e){return L(e,u((_(e[e.length-1],"streams[stream.length - 1]"),e.pop())))}}},46766:function(e,t,r){let n;"use strict";let i=r(34155),{ArrayPrototypeIndexOf:o,NumberIsInteger:a,NumberIsNaN:s,NumberParseInt:l,ObjectDefineProperties:d,ObjectKeys:u,ObjectSetPrototypeOf:c,Promise:h,SafeSet:f,SymbolAsyncIterator:p,Symbol:g}=r(1218);e.exports=U,U.ReadableState=$;let{EventEmitter:b}=r(17187),{Stream:w,prependListener:m}=r(6647),{Buffer:y}=r(48764),{addAbortSignal:_}=r(9173),v=r(8398),S=r(27824).debuglog("stream",e=>{S=e}),E=r(85298),R=r(89552),{getHighWaterMark:A,getDefaultHighWaterMark:T}=r(76589),{aggregateTwoErrors:C,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:I,ERR_OUT_OF_RANGE:x,ERR_STREAM_PUSH_AFTER_EOF:P,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:M}}=r(80935),{validateObject:O}=r(49603),j=g("kPaused"),{StringDecoder:N}=r(32553),L=r(13661);c(U.prototype,w.prototype),c(U,w);let D=()=>{},{errorOrDestroy:W}=R;function $(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(29613)),this.objectMode=!!(e&&e.objectMode),n&&(this.objectMode=this.objectMode||!!(e&&e.readableObjectMode)),this.highWaterMark=e?A(this,e,"readableHighWaterMark",n):T(!1),this.buffer=new E,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[j]=null,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new N(e.encoding),this.encoding=e.encoding)}function U(e){if(!(this instanceof U))return new U(e);let t=this instanceof r(29613);this._readableState=new $(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&_(e.signal,this)),w.call(this,e),R.construct(this,()=>{this._readableState.needReadable&&H(this,this._readableState)})}function q(e,t,r,n){let i;S("readableAddChunk",t);let o=e._readableState;if(o.objectMode||("string"==typeof t?(r=r||o.defaultEncoding,o.encoding!==r&&(n&&o.encoding?t=y.from(t,r).toString(o.encoding):(t=y.from(t,r),r=""))):t instanceof y?r="":w._isUint8Array(t)?(t=w._uint8ArrayToBuffer(t),r=""):null!=t&&(i=new k("chunk",["string","Buffer","Uint8Array"],t))),i)W(e,i);else if(null===t)o.reading=!1,function(e,t){if(S("onEofChunk"),!t.ended){if(t.decoder){let e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?z(e):(t.needReadable=!1,t.emittedReadable=!0,B(e))}}(e,o);else if(o.objectMode||t&&t.length>0){if(n){if(o.endEmitted)W(e,new M);else{if(o.destroyed||o.errored)return!1;F(e,o,t,!0)}}else if(o.ended)W(e,new P);else{if(o.destroyed||o.errored)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?F(e,o,t,!1):H(e,o)):F(e,o,t,!1)}}else n||(o.reading=!1,H(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function F(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&z(e)),H(e,t)}function Z(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:s(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function z(e){let t=e._readableState;S("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(S("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(B,e))}function B(e){let t=e._readableState;S("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,Y(e)}function H(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,i.nextTick(K,e,t))}function K(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){let r=t.length;if(S("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function V(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[j]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function G(e){S("readable nexttick read 0"),e.read(0)}function J(e,t){S("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),Y(e),t.flowing&&!t.reading&&e.read(0)}function Y(e){let t=e._readableState;for(S("flow",t.flowing);t.flowing&&null!==e.read(););}function X(e,t){"function"!=typeof e.read&&(e=U.wrap(e,{objectMode:!0}));let r=Q(e,t);return r.stream=e,r}async function*Q(e,t){let r,n=D;function i(t){this===e?(n(),n=D):n=t}e.on("readable",i);let o=v(e,{writable:!1},e=>{r=e?C(r,e):null,n(),n=D});try{for(;;){let t=e.destroyed?null:e.read();if(null!==t)yield t;else if(r)throw r;else{if(null===r)return;await new h(i)}}}catch(e){throw r=C(r,e)}finally{(r||(null==t?void 0:t.destroyOnReturn)!==!1)&&(void 0===r||e._readableState.autoDestroy)?R.destroyer(e,null):(e.off("readable",i),o())}}function ee(e,t){let r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function et(e){let t=e._readableState;S("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(er,t,e))}function er(e,t){if(S("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length){if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)i.nextTick(en,t);else if(e.autoDestroy){let e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}}function en(e){!e.writable||e.writableEnded||e.destroyed||e.end()}function ei(){return void 0===n&&(n={}),n}U.prototype.destroy=R.destroy,U.prototype._undestroy=R.undestroy,U.prototype._destroy=function(e,t){t(e)},U.prototype[b.captureRejectionSymbol]=function(e){this.destroy(e)},U.prototype.push=function(e,t){return q(this,e,t,!1)},U.prototype.unshift=function(e,t){return q(this,e,t,!0)},U.prototype.isPaused=function(){let e=this._readableState;return!0===e[j]||!1===e.flowing},U.prototype.setEncoding=function(e){let t=new N(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let e of r)n+=t.write(e);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this},U.prototype.read=function(e){let t;S("read",e),void 0===e?e=NaN:a(e)||(e=l(e,10));let r=this._readableState,n=e;if(e>r.highWaterMark&&(r.highWaterMark=function(e){if(e>1073741824)throw new x("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return S("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?et(this):z(this),null;if(0===(e=Z(e,r))&&r.ended)return 0===r.length&&et(this),null;let i=r.needReadable;if(S("need readable",i),(0===r.length||r.length-e<r.highWaterMark)&&S("length less than watermark",i=!0),r.ended||r.reading||r.destroyed||r.errored||!r.constructed)S("reading, ended or constructing",i=!1);else if(i){S("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0);try{this._read(r.highWaterMark)}catch(e){W(this,e)}r.sync=!1,r.reading||(e=Z(n,r))}return null===(t=e>0?ee(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.multiAwaitDrain?r.awaitDrainWriters.clear():r.awaitDrainWriters=null),0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&et(this)),null===t||r.errorEmitted||r.closeEmitted||(r.dataEmitted=!0,this.emit("data",t)),t},U.prototype._read=function(e){throw new I("_read()")},U.prototype.pipe=function(e,t){let r;let n=this,o=this._readableState;1!==o.pipes.length||o.multiAwaitDrain||(o.multiAwaitDrain=!0,o.awaitDrainWriters=new f(o.awaitDrainWriters?[o.awaitDrainWriters]:[])),o.pipes.push(e),S("pipe count=%d opts=%j",o.pipes.length,t);let a=t&&!1===t.end||e===i.stdout||e===i.stderr?g:s;function s(){S("onend"),e.end()}o.endEmitted?i.nextTick(a):n.once("end",a),e.on("unpipe",function t(i,a){S("onunpipe"),i===n&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,S("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),r&&e.removeListener("drain",r),e.removeListener("error",c),e.removeListener("unpipe",t),n.removeListener("end",s),n.removeListener("end",g),n.removeListener("data",u),l=!0,r&&o.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&r())});let l=!1;function d(){l||(1===o.pipes.length&&o.pipes[0]===e?(S("false write response, pause",0),o.awaitDrainWriters=e,o.multiAwaitDrain=!1):o.pipes.length>1&&o.pipes.includes(e)&&(S("false write response, pause",o.awaitDrainWriters.size),o.awaitDrainWriters.add(e)),n.pause()),r||(r=function(){let t=n._readableState;t.awaitDrainWriters===e?(S("pipeOnDrain",1),t.awaitDrainWriters=null):t.multiAwaitDrain&&(S("pipeOnDrain",t.awaitDrainWriters.size),t.awaitDrainWriters.delete(e)),(!t.awaitDrainWriters||0===t.awaitDrainWriters.size)&&n.listenerCount("data")&&n.resume()},e.on("drain",r))}function u(t){S("ondata");let r=e.write(t);S("dest.write",r),!1===r&&d()}function c(t){if(S("onerror",t),g(),e.removeListener("error",c),0===e.listenerCount("error")){let r=e._writableState||e._readableState;r&&!r.errorEmitted?W(e,t):e.emit("error",t)}}function h(){e.removeListener("finish",p),g()}function p(){S("onfinish"),e.removeListener("close",h),g()}function g(){S("unpipe"),n.unpipe(e)}return n.on("data",u),m(e,"error",c),e.once("close",h),e.once("finish",p),e.emit("pipe",n),!0===e.writableNeedDrain?o.flowing&&d():o.flowing||(S("pipe resume"),n.resume()),e},U.prototype.unpipe=function(e){let t=this._readableState;if(0===t.pipes.length)return this;if(!e){let e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}let r=o(t.pipes,e);return -1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},U.prototype.on=function(e,t){let r=w.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"!==e||n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,S("on readable",n.length,n.reading),n.length?z(this):n.reading||i.nextTick(G,this)),r},U.prototype.addListener=U.prototype.on,U.prototype.removeListener=function(e,t){let r=w.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(V,this),r},U.prototype.off=U.prototype.removeListener,U.prototype.removeAllListeners=function(e){let t=w.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&i.nextTick(V,this),t},U.prototype.resume=function(){let e=this._readableState;return e.flowing||(S("resume"),e.flowing=!e.readableListening,e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(J,this,e))),e[j]=!1,this},U.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[j]=!0,this},U.prototype.wrap=function(e){let t=!1;e.on("data",r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",e=>{W(this,e)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let r=u(e);for(let t=1;t<r.length;t++){let n=r[t];void 0===this[n]&&"function"==typeof e[n]&&(this[n]=e[n].bind(e))}return this},U.prototype[p]=function(){return X(this)},U.prototype.iterator=function(e){return void 0!==e&&O(e,"options"),X(this,e)},d(U.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._readableState.readable&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),d($.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[j]},set(e){this[j]=!!e}}}),U._fromList=ee,U.from=function(e,t){return L(U,e,t)},U.fromWeb=function(e,t){return ei().newStreamReadableFromReadableStream(e,t)},U.toWeb=function(e,t){return ei().newReadableStreamFromStreamReadable(e,t)},U.wrap=function(e,t){var r,n;return new U({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){R.destroyer(e,t),r(t)}}).wrap(e)}},76589:function(e,t,r){"use strict";let{MathFloor:n,NumberIsInteger:i}=r(1218),{ERR_INVALID_ARG_VALUE:o}=r(80935).codes;function a(e){return e?16:16384}e.exports={getHighWaterMark:function(e,t,r,s){let l=null!=t.highWaterMark?t.highWaterMark:s?t[r]:null;if(null!=l){if(!i(l)||l<0)throw new o(s?`options.${r}`:"options.highWaterMark",l);return n(l)}return a(e.objectMode)},getDefaultHighWaterMark:a}},30567:function(e,t,r){"use strict";let{ObjectSetPrototypeOf:n,Symbol:i}=r(1218);e.exports=d;let{ERR_METHOD_NOT_IMPLEMENTED:o}=r(80935).codes,a=r(29613),{getHighWaterMark:s}=r(76589);n(d.prototype,a.prototype),n(d,a);let l=i("kCallback");function d(e){if(!(this instanceof d))return new d(e);let t=e?s(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),a.call(this,e),this._readableState.sync=!1,this[l]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",c)}function u(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}null!=r&&this.push(r),this.push(null),e&&e()})}function c(){this._final!==u&&u.call(this)}d.prototype._final=u,d.prototype._transform=function(e,t,r){throw new o("_transform()")},d.prototype._write=function(e,t,r){let n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,(e,t)=>{if(e){r(e);return}null!=t&&this.push(t),i.ended||o===n.length||n.length<n.highWaterMark?r():this[l]=r})},d.prototype._read=function(){if(this[l]){let e=this[l];this[l]=null,e()}}},82275:function(e,t,r){"use strict";let{Symbol:n,SymbolAsyncIterator:i,SymbolIterator:o,SymbolFor:a}=r(1218),s=n("kDestroyed"),l=n("kIsErrored"),d=n("kIsReadable"),u=n("kIsDisturbed"),c=a("nodejs.webstream.isClosedPromise"),h=a("nodejs.webstream.controllerErrorFunction");function f(e,t=!1){var r;return!!(e&&"function"==typeof e.pipe&&"function"==typeof e.on&&(!t||"function"==typeof e.pause&&"function"==typeof e.resume)&&(!e._writableState||(null===(r=e._readableState)||void 0===r?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function p(e){var t;return!!(e&&"function"==typeof e.write&&"function"==typeof e.on&&(!e._readableState||(null===(t=e._writableState)||void 0===t?void 0:t.writable)!==!1))}function g(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function b(e){return!!(e&&!g(e)&&"function"==typeof e.pipeThrough&&"function"==typeof e.getReader&&"function"==typeof e.cancel)}function w(e){return!!(e&&!g(e)&&"function"==typeof e.getWriter&&"function"==typeof e.abort)}function m(e){return!!(e&&!g(e)&&"object"==typeof e.readable&&"object"==typeof e.writable)}function y(e){if(!g(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[s]||null!=n&&n.destroyed)}function _(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;let t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function v(e,t){if(!f(e))return null;let r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function S(e){return e&&null!=e[d]?e[d]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!y(e)&&f(e)&&e.readable&&!v(e)}function E(e){return"boolean"!=typeof(null==e?void 0:e.writable)?null:!y(e)&&p(e)&&e.writable&&!_(e)}function R(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function A(e){return"boolean"==typeof e._sent100&&R(e)}e.exports={kDestroyed:s,isDisturbed:function(e){var t;return!!(e&&(null!==(t=e[u])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:u,isErrored:function(e){var t,r,n,i,o,a,s,d,u,c;return!!(e&&(null!==(t=null!==(r=null!==(n=null!==(i=null!==(o=null!==(a=e[l])&&void 0!==a?a:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==i?i:null===(s=e._readableState)||void 0===s?void 0:s.errorEmitted)&&void 0!==n?n:null===(d=e._writableState)||void 0===d?void 0:d.errorEmitted)&&void 0!==r?r:null===(u=e._readableState)||void 0===u?void 0:u.errored)&&void 0!==t?t:null===(c=e._writableState)||void 0===c?void 0:c.errored))},kIsErrored:l,isReadable:S,kIsReadable:d,kIsClosedPromise:c,kControllerErrorFunction:h,isClosed:function(e){if(!g(e))return null;if("boolean"==typeof e.closed)return e.closed;let t=e._writableState,r=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==t?void 0:t.closed)||(null==r?void 0:r.closed):"boolean"==typeof e._closed&&R(e)?e._closed:null},isDestroyed:y,isDuplexNodeStream:function(e){return!!(e&&"function"==typeof e.pipe&&e._readableState&&"function"==typeof e.on&&"function"==typeof e.write)},isFinished:function(e,t){return g(e)?!!y(e)||!((null==t?void 0:t.readable)!==!1&&S(e)||(null==t?void 0:t.writable)!==!1&&E(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[i]:!1===t?"function"==typeof e[o]:"function"==typeof e[i]||"function"==typeof e[o])},isReadableNodeStream:f,isReadableStream:b,isReadableEnded:function(e){if(!f(e))return null;if(!0===e.readableEnded)return!0;let t=e._readableState;return!!t&&!t.errored&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:v,isReadableErrored:function(e){var t,r;return g(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:g,isWebStream:function(e){return b(e)||w(e)||m(e)},isWritable:E,isWritableNodeStream:p,isWritableStream:w,isWritableEnded:_,isWritableFinished:function(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;let r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return g(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)===void 0},isServerResponse:A,willEmitClose:function(e){if(!g(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!n&&A(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:m}},46256:function(e,t,r){let n;"use strict";let i=r(34155),{ArrayPrototypeSlice:o,Error:a,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:l,ObjectDefineProperties:d,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:c,Symbol:h,SymbolHasInstance:f}=r(1218);e.exports=N,N.WritableState=O;let{EventEmitter:p}=r(17187),g=r(6647).Stream,{Buffer:b}=r(48764),w=r(89552),{addAbortSignal:m}=r(9173),{getHighWaterMark:y,getDefaultHighWaterMark:_}=r(76589),{ERR_INVALID_ARG_TYPE:v,ERR_METHOD_NOT_IMPLEMENTED:S,ERR_MULTIPLE_CALLBACK:E,ERR_STREAM_CANNOT_PIPE:R,ERR_STREAM_DESTROYED:A,ERR_STREAM_ALREADY_FINISHED:T,ERR_STREAM_NULL_VALUES:C,ERR_STREAM_WRITE_AFTER_END:k,ERR_UNKNOWN_ENCODING:I}=r(80935).codes,{errorOrDestroy:x}=w;function P(){}u(N.prototype,g.prototype),u(N,g);let M=h("kOnFinished");function O(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(29613)),this.objectMode=!!(e&&e.objectMode),n&&(this.objectMode=this.objectMode||!!(e&&e.writableObjectMode)),this.highWaterMark=e?y(this,e,"writableHighWaterMark",n):_(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let i=!!(e&&!1===e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=$.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,j(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[M]=[]}function j(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function N(e){let t=this instanceof r(29613);if(!t&&!s(N,this))return new N(e);this._writableState=new O(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&m(e.signal,this)),g.call(this,e),w.construct(this,()=>{let e=this._writableState;e.writing||Z(this,e),B(this,e)})}function L(e,t,r,n){let o;let a=e._writableState;if("function"==typeof r)n=r,r=a.defaultEncoding;else{if(r){if("buffer"!==r&&!b.isEncoding(r))throw new I(r)}else r=a.defaultEncoding;"function"!=typeof n&&(n=P)}if(null===t)throw new C;if(!a.objectMode){if("string"==typeof t)!1!==a.decodeStrings&&(t=b.from(t,r),r="buffer");else if(t instanceof b)r="buffer";else if(g._isUint8Array(t))t=g._uint8ArrayToBuffer(t),r="buffer";else throw new v("chunk",["string","Buffer","Uint8Array"],t)}return(a.ending?o=new k:a.destroyed&&(o=new A("write")),o)?(i.nextTick(n,o),x(e,o,!0),o):(a.pendingcb++,function(e,t,r,n,i){let o=t.objectMode?1:r.length;t.length+=o;let a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==P&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),a&&!t.errored&&!t.destroyed}(e,a,t,r,n))}function D(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new A("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function W(e,t,r,n){--t.pendingcb,n(r),F(t),x(e,r)}function $(e,t){let r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o){x(e,new E);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),n?i.nextTick(W,e,r,t,o):W(e,r,t,o)):(r.buffered.length>r.bufferedIndex&&Z(e,r),n?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===o?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:o,stream:e,state:r},i.nextTick(U,r.afterWriteTickInfo)):q(e,r,1,o))}function U({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,q(e,t,r,n)}function q(e,t,r,n){for(t.ending||e.destroyed||0!==t.length||!t.needDrain||(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&F(t),B(e,t)}function F(e){var t,r;if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){let{chunk:n,callback:i}=e.buffered[r],o=e.objectMode?1:n.length;e.length-=o,i(null!==(t=e.errored)&&void 0!==t?t:new A("write"))}let n=e[M].splice(0);for(let t=0;t<n.length;t++)n[t](null!==(r=e.errored)&&void 0!==r?r:new A("end"));j(e)}function Z(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=t,a=r.length-n;if(!a)return;let s=n;if(t.bufferProcessing=!0,a>1&&e._writev){t.pendingcb-=a-1;let n=t.allNoop?P:e=>{for(let t=s;t<r.length;++t)r[t].callback(e)},i=t.allNoop&&0===s?r:o(r,s);i.allBuffers=t.allBuffers,D(e,t,!0,t.length,i,"",n),j(t)}else{do{let{chunk:n,encoding:o,callback:a}=r[s];r[s++]=null,D(e,t,!1,i?1:n.length,n,o,a)}while(s<r.length&&!t.writing);s===r.length?j(t):s>256?(r.splice(0,s),t.bufferedIndex=0):t.bufferedIndex=s}t.bufferProcessing=!1}function z(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function B(e,t,r){z(t)&&(t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let r=!1;function n(n){if(r){x(e,null!=n?n:E());return}if(r=!0,t.pendingcb--,n){let r=t[M].splice(0);for(let e=0;e<r.length;e++)r[e](n);x(e,n,t.sync)}else z(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,i.nextTick(H,e,t))}t.sync=!0,t.pendingcb++;try{e._final(n)}catch(e){n(e)}t.sync=!1}(e,t))),0===t.pendingcb&&(r?(t.pendingcb++,i.nextTick((e,t)=>{z(t)?H(e,t):t.pendingcb--},e,t)):z(t)&&(t.pendingcb++,H(e,t))))}function H(e,t){t.pendingcb--,t.finished=!0;let r=t[M].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){let t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}O.prototype.getBuffer=function(){return o(this.buffered,this.bufferedIndex)},l(O.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),l(N,f,{__proto__:null,value:function(e){return!!s(this,e)||this===N&&e&&e._writableState instanceof O}}),N.prototype.pipe=function(){x(this,new R)},N.prototype.write=function(e,t,r){return!0===L(this,e,t,r)},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||Z(this,e))},N.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=c(e)),!b.isEncoding(e))throw new I(e);return this._writableState.defaultEncoding=e,this},N.prototype._write=function(e,t,r){if(this._writev)this._writev([{chunk:e,encoding:t}],r);else throw new S("_write()")},N.prototype._writev=null,N.prototype.end=function(e,t,r){let n;let o=this._writableState;if("function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e){let r=L(this,e,t);r instanceof a&&(n=r)}return o.corked&&(o.corked=1,this.uncork()),n||(o.errored||o.ending?o.finished?n=new T("end"):o.destroyed&&(n=new A("end")):(o.ending=!0,B(this,o,!0),o.ended=!0)),"function"==typeof r&&(n||o.finished?i.nextTick(r,n):o[M].push(r)),this},d(N.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._writableState.writable&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});let K=w.destroy;function V(){return void 0===n&&(n={}),n}N.prototype.destroy=function(e,t){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[M].length)&&i.nextTick(F,r),K.call(this,e,t),this},N.prototype._undestroy=w.undestroy,N.prototype._destroy=function(e,t){t(e)},N.prototype[p.captureRejectionSymbol]=function(e){this.destroy(e)},N.fromWeb=function(e,t){return V().newStreamWritableFromWritableStream(e,t)},N.toWeb=function(e){return V().newWritableStreamFromStreamWritable(e)}},49603:function(e,t,r){"use strict";let{ArrayIsArray:n,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:o,ArrayPrototypeMap:a,NumberIsInteger:s,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:d,NumberMIN_SAFE_INTEGER:u,NumberParseInt:c,ObjectPrototypeHasOwnProperty:h,RegExpPrototypeExec:f,String:p,StringPrototypeToUpperCase:g,StringPrototypeTrim:b}=r(1218),{hideStackFrames:w,codes:{ERR_SOCKET_BAD_PORT:m,ERR_INVALID_ARG_TYPE:y,ERR_INVALID_ARG_VALUE:_,ERR_OUT_OF_RANGE:v,ERR_UNKNOWN_SIGNAL:S}}=r(80935),{normalizeEncoding:E}=r(27824),{isAsyncFunction:R,isArrayBufferView:A}=r(27824).types,T={},C=/^[0-7]+$/,k=w((e,t,r=u,n=d)=>{if("number"!=typeof e)throw new y(t,"number",e);if(!s(e))throw new v(t,"an integer",e);if(e<r||e>n)throw new v(t,`>= ${r} && <= ${n}`,e)}),I=w((e,t,r=-2147483648,n=2147483647)=>{if("number"!=typeof e)throw new y(t,"number",e);if(!s(e))throw new v(t,"an integer",e);if(e<r||e>n)throw new v(t,`>= ${r} && <= ${n}`,e)}),x=w((e,t,r=!1)=>{if("number"!=typeof e)throw new y(t,"number",e);if(!s(e))throw new v(t,"an integer",e);let n=r?1:0;if(e<n||e>4294967295)throw new v(t,`>= ${n} && <= 4294967295`,e)});function P(e,t){if("string"!=typeof e)throw new y(t,"string",e)}let M=w((e,t,r)=>{if(!i(r,e))throw new _(t,e,"must be one of: "+o(a(r,e=>"string"==typeof e?`'${e}'`:p(e)),", "))});function O(e,t){if("boolean"!=typeof e)throw new y(t,"boolean",e)}function j(e,t,r){return null!=e&&h(e,t)?e[t]:r}let N=w((e,t,r=null)=>{let i=j(r,"allowArray",!1),o=j(r,"allowFunction",!1);if(!j(r,"nullable",!1)&&null===e||!i&&n(e)||"object"!=typeof e&&(!o||"function"!=typeof e))throw new y(t,"Object",e)}),L=w((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new y(t,"a dictionary",e)}),D=w((e,t,r=0)=>{if(!n(e))throw new y(t,"Array",e);if(e.length<r)throw new _(t,e,`must be longer than ${r}`)}),W=w((e,t="buffer")=>{if(!A(e))throw new y(t,["Buffer","TypedArray","DataView"],e)}),$=w((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new y(t,"AbortSignal",e)}),U=w((e,t)=>{if("function"!=typeof e)throw new y(t,"Function",e)}),q=w((e,t)=>{if("function"!=typeof e||R(e))throw new y(t,"Function",e)}),F=w((e,t)=>{if(void 0!==e)throw new y(t,"undefined",e)}),Z=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function z(e,t){if(void 0===e||!f(Z,e))throw new _(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(void 0===e&&(e=r),"string"==typeof e){if(null===f(C,e))throw new _(t,e,"must be a 32-bit unsigned integer or an octal string");e=c(e,8)}return x(e,t),e},validateArray:D,validateStringArray:function(e,t){D(e,t);for(let r=0;r<e.length;r++)P(e[r],`${t}[${r}]`)},validateBooleanArray:function(e,t){D(e,t);for(let r=0;r<e.length;r++)O(e[r],`${t}[${r}]`)},validateBoolean:O,validateBuffer:W,validateDictionary:L,validateEncoding:function(e,t){let r=E(t),n=e.length;if("hex"===r&&n%2!=0)throw new _("encoding",t,`is invalid for data of length ${n}`)},validateFunction:U,validateInt32:I,validateInteger:k,validateNumber:function(e,t,r,n){if("number"!=typeof e)throw new y(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&l(e))throw new v(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:N,validateOneOf:M,validatePlainFunction:q,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===b(e).length||+e!=+e>>>0||e>65535||0===e&&!r)throw new m(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(P(e,t),void 0===T[e]){if(void 0!==T[g(e)])throw new S(e+" (signals must use all capital letters)");throw new S(e)}},validateString:P,validateUint32:x,validateUndefined:F,validateUnion:function(e,t,r){if(!i(r,e))throw new y(t,`('${o(r,"|")}')`,e)},validateAbortSignal:$,validateLinkHeaderValue:function(e){if("string"==typeof e)return z(e,"hints"),e;if(n(e)){let t=e.length,r="";if(0===t)return r;for(let n=0;n<t;n++){let i=e[n];z(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new _("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},30945:function(e,t,r){"use strict";let n=r(35164),i=r(87952),o=n.Readable.destroy;e.exports=n.Readable,e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.destroy=o,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get:()=>i}),e.exports.Stream=n.Stream,e.exports.default=e.exports},80935:function(e,t,r){"use strict";let{format:n,inspect:i,AggregateError:o}=r(27824),a=globalThis.AggregateError||o,s=Symbol("kIsNodeError"),l=["string","function","number","object","Function","Object","boolean","bigint","symbol"],d=/^([A-Z][a-z0-9]*)+$/,u={};function c(e,t){if(!e)throw new u.ERR_INTERNAL_ASSERTION(t)}function h(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function f(e,t,r){r||(r=Error);class i extends r{constructor(...r){super(function(e,t,r){if("function"==typeof t)return c(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);let i=(t.match(/%[dfijoOs]/g)||[]).length;return(c(i===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),0===r.length)?t:n(t,...r)}(e,t,r))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[s]=!0,u[e]=i}function p(e){let t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class g extends Error{constructor(e="The operation was aborted",t){if(void 0!==t&&"object"!=typeof t)throw new u.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}f("ERR_ASSERTION","%s",Error),f("ERR_INVALID_ARG_TYPE",(e,t,r)=>{c("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";let o=[],a=[],s=[];for(let e of t)c("string"==typeof e,"All expected entries have to be of type string"),l.includes(e)?o.push(e.toLowerCase()):d.test(e)?a.push(e):(c("object"!==e,'The value "object" should be written as "Object"'),s.push(e));if(a.length>0){let e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),a.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{let e=o.pop();n+=`one of type ${o.join(", ")}, or ${e}`}}(a.length>0||s.length>0)&&(n+=" or ")}if(a.length>0){switch(a.length){case 1:n+=`an instance of ${a[0]}`;break;case 2:n+=`an instance of ${a[0]} or ${a[1]}`;break;default:{let e=a.pop();n+=`an instance of ${a.join(", ")}, or ${e}`}}s.length>0&&(n+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(n+="an "),n+=`${s[0]}`;break;case 2:n+=`one of ${s[0]} or ${s[1]}`;break;default:{let e=s.pop();n+=`one of ${s.join(", ")}, or ${e}`}}if(null==r)n+=`. Received ${r}`;else if("function"==typeof r&&r.name)n+=`. Received function ${r.name}`;else if("object"==typeof r){var u;if(null!==(u=r.constructor)&&void 0!==u&&u.name)n+=`. Received an instance of ${r.constructor.name}`;else{let e=i(r,{depth:-1});n+=`. Received ${e}`}}else{let e=i(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),n+=`. Received type ${typeof r} (${e})`}return n},TypeError),f("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=i(t);n.length>128&&(n=n.slice(0,128)+"...");let o=e.includes(".")?"property":"argument";return`The ${o} '${e}' ${r}. Received ${n}`},TypeError),f("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;let i=null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${i}.`},TypeError),f("ERR_MISSING_ARGS",(...e)=>{let t;c(e.length>0,"At least one arg needs to be specified");let r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(e=>`"${e}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`},TypeError),f("ERR_OUT_OF_RANGE",(e,t,r)=>{let n;return c(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>4294967296?n=h(String(r)):"bigint"==typeof r?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=h(n)),n+="n"):n=i(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),f("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),f("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),f("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),f("ERR_STREAM_WRITE_AFTER_END","write after end",Error),f("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:g,aggregateTwoErrors:p(function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let r=new a([t,e],t.message);return r.code=t.code,r}return e||t}),hideStackFrames:p,codes:u}},1218:function(e){"use strict";e.exports={ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Uint8Array}},27824:function(e,t,r){"use strict";let n=r(48764),i=Object.getPrototypeOf(async function(){}).constructor,o=globalThis.Blob||n.Blob;class a extends Error{constructor(e){if(!Array.isArray(e))throw TypeError(`Expected input to be an Array, got ${typeof e}`);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}
`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}},promisify:e=>new Promise((t,r)=>{e((e,...n)=>e?r(e):t(...n))}),debuglog:()=>function(){},format:(e,...t)=>e.replace(/%([sdifj])/g,function(...[e,r]){let n=t.shift();if("f"===r)return n.toFixed(6);if("j"===r)return JSON.stringify(n);if("s"!==r||"object"!=typeof n)return n.toString();{let e=n.constructor!==Object?n.constructor.name:"";return`${e} {}`.trim()}}),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":if(isNaN(e))return"NaN";if(Object.is(e,-0))return String(e);return e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction:e=>e instanceof i,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:void 0!==o?function(e){return e instanceof o}:function(e){return!1}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},35164:function(e,t,r){"use strict";let{Buffer:n}=r(48764),{ObjectDefineProperty:i,ObjectKeys:o,ReflectApply:a}=r(1218),{promisify:{custom:s}}=r(27824),{streamReturningOperators:l,promiseReturningOperators:d}=r(29455),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=r(80935),c=r(30162),{pipeline:h}=r(63208),{destroyer:f}=r(89552),p=r(8398),g=r(87952),b=r(82275),w=e.exports=r(6647).Stream;for(let e of(w.isDisturbed=b.isDisturbed,w.isErrored=b.isErrored,w.isReadable=b.isReadable,w.Readable=r(46766),o(l))){let t=l[e];function m(...e){if(new.target)throw u();return w.Readable.from(a(t,this,e))}i(m,"name",{__proto__:null,value:t.name}),i(m,"length",{__proto__:null,value:t.length}),i(w.Readable.prototype,e,{__proto__:null,value:m,enumerable:!1,configurable:!0,writable:!0})}for(let e of o(d)){let t=d[e];function m(...e){if(new.target)throw u();return a(t,this,e)}i(m,"name",{__proto__:null,value:t.name}),i(m,"length",{__proto__:null,value:t.length}),i(w.Readable.prototype,e,{__proto__:null,value:m,enumerable:!1,configurable:!0,writable:!0})}w.Writable=r(46256),w.Duplex=r(29613),w.Transform=r(30567),w.PassThrough=r(76818),w.pipeline=h;let{addAbortSignal:y}=r(9173);w.addAbortSignal=y,w.finished=p,w.destroy=f,w.compose=c,i(w,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>g}),i(h,s,{__proto__:null,enumerable:!0,get:()=>g.pipeline}),i(p,s,{__proto__:null,enumerable:!0,get:()=>g.finished}),w.Stream=w,w._isUint8Array=function(e){return e instanceof Uint8Array},w._uint8ArrayToBuffer=function(e){return n.from(e.buffer,e.byteOffset,e.byteLength)}},87952:function(e,t,r){"use strict";let{ArrayPrototypePop:n,Promise:i}=r(1218),{isIterable:o,isNodeStream:a,isWebStream:s}=r(82275),{pipelineImpl:l}=r(63208),{finished:d}=r(8398);r(35164),e.exports={finished:d,pipeline:function(...e){return new i((t,r)=>{let i,d;let u=e[e.length-1];if(u&&"object"==typeof u&&!a(u)&&!o(u)&&!s(u)){let t=n(e);i=t.signal,d=t.end}l(e,(e,n)=>{e?r(e):t(n)},{signal:i,end:d})})}}},1482:function(e,t,r){"use strict";r.d(t,{v:function(){return a}});var n=r(85783),i=r(37202),o=r.n(i);class a extends n.J5{async init(e){this.chainConfig||(this.chainConfig=(0,n.h2)(n.EN.SOLANA,1))}async authenticateUser(){if(!this.provider||this.status!==n.MP.CONNECTED)throw n.RM.notConnectedError();let{chainNamespace:e,chainId:t}=this.chainConfig,r=await this.provider.request({method:"getAccounts"});if(r&&r.length>0){let i=(0,n.Cb)(r[0],this.name);if(i&&!(0,n.$E)(i))return{idToken:i};let a={domain:window.location.origin,uri:window.location.href,address:r[0],chainId:parseInt(t,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},s=await (0,n.tV)(a,e),l=new TextEncoder().encode(s),d=await this.provider.request({method:"signMessage",params:{message:l,display:"utf8"}}),u=await (0,n.rn)(e,o().encode(d),s,this.name,this.sessionTime,this.clientId,this.web3AuthNetwork);return(0,n.Fr)(r[0],this.name,u),{idToken:u}}throw n.RM.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnectSession(){super.checkDisconnectionRequirements();let e=await this.provider.request({method:"getAccounts"});e&&e.length>0&&(0,n.qz)(e[0],this.name)}async disconnect(){this.rehydrated=!1,this.emit(n.n2.DISCONNECTED)}}},55777:function(e){"use strict";e.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw TypeError(i+" is ambiguous");t[o]=n}var a=e.length,s=e.charAt(0),l=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function u(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===s;)n++,r++;for(var o=(e.length-r)*l+1>>>0,d=new Uint8Array(o);e[r];){var u=t[e.charCodeAt(r)];if(255===u)return;for(var c=0,h=o-1;(0!==u||c<i)&&-1!==h;h--,c++)u+=a*d[h]>>>0,d[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=c,r++}for(var f=o-i;f!==o&&0===d[f];)f++;for(var p=new Uint8Array(n+(o-f)),g=n;f!==o;)p[g++]=d[f++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var l=(o-i)*d+1>>>0,u=new Uint8Array(l);i!==o;){for(var c=t[i],h=0,f=l-1;(0!==c||h<n)&&-1!==f;f--,h++)c+=256*u[f]>>>0,u[f]=c%a>>>0,c=c/a>>>0;if(0!==c)throw Error("Non-zero carry");n=h,i++}for(var p=l-n;p!==l&&0===u[p];)p++;for(var g=s.repeat(r);p<l;++p)g+=e.charAt(u[p]);return g},decodeUnsafe:u,decode:function(e){var t=u(e);if(t)return t;throw Error("Non-base"+a+" character")}}}},37202:function(e,t,r){let n=r(55777);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},91987:function(e,t,r){"use strict";r.d(t,{SolanaWalletAdapter:function(){return ec}});var n=r(1413),i=r(81180),o=r(59917),a=r(24327),s=r(20917),l=r(30945),d=r(17187),u=r(4445),c=r.n(u),h=r(39428),f=r(12840),p=r.n(f),g=r(30778),b=r.n(g),w=r(74286),m=r.n(w);function y(){}class _ extends l.Duplex{constructor(e){let{name:t,target:r,targetWindow:n=window,targetOrigin:o="*"}=e;if(super({objectMode:!0}),(0,i.Z)(this,"_init",void 0),(0,i.Z)(this,"_haveSyn",void 0),(0,i.Z)(this,"_name",void 0),(0,i.Z)(this,"_target",void 0),(0,i.Z)(this,"_targetWindow",void 0),(0,i.Z)(this,"_targetOrigin",void 0),(0,i.Z)(this,"_onMessage",void 0),(0,i.Z)(this,"_synIntervalId",void 0),!t||!r)throw Error("Invalid input.");this._init=!1,this._haveSyn=!1,this._name=t,this._target=r,this._targetWindow=n,this._targetOrigin=o,this._onMessage=this.onMessage.bind(this),this._synIntervalId=null,window.addEventListener("message",this._onMessage,!1),this._handShake()}_break(){this.cork(),this._write("BRK",null,y),this._haveSyn=!1,this._init=!1}_handShake(){this._write("SYN",null,y),this.cork()}_onData(e){if(this._init){if("BRK"===e)this._break();else try{this.push(e)}catch(e){this.emit("error",e)}}else"SYN"===e?(this._haveSyn=!0,this._write("ACK",null,y)):"ACK"===e&&(this._init=!0,this._haveSyn||this._write("ACK",null,y),this.uncork())}_postMessage(e){let t=this._targetOrigin;this._targetWindow.postMessage({target:this._target,data:e},t)}onMessage(e){let t=e.data;("*"===this._targetOrigin||e.origin===this._targetOrigin)&&e.source===this._targetWindow&&"object"==typeof t&&t.target===this._name&&t.data&&this._onData(t.data)}_read(){}_write(e,t,r){this._postMessage(e),r()}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}function v(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout(()=>{throw e})}}class S extends d.EventEmitter{emit(e){let t="error"===e,r=this._events;if(void 0!==r)t=t&&void 0===r.error;else if(!t)return!1;for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];if(t){let e;if(i.length>0&&([e]=i),e instanceof Error)throw e;let t=Error(`Unhandled error.${e?` (${e.message})`:""}`);throw t.context=e,t}let a=r[e];if(void 0===a)return!1;if("function"==typeof a)v(a,this,i);else{let e=a.length,t=function(e){let t=e.length,r=Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(a);for(let r=0;r<e;r+=1)v(t[r],this,i)}return!0}}class E extends Error{constructor(e){let{code:t,message:r,data:n}=e;if(!Number.isInteger(t))throw Error("code must be an integer");if(!r||"string"!=typeof r)throw Error("message must be string");super(r),(0,i.Z)(this,"code",void 0),(0,i.Z)(this,"data",void 0),this.code=t,void 0!==n&&(this.data=n)}toString(){return c()({code:this.code,message:this.message,data:this.data,stack:this.stack})}}let R=function(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return(n,i)=>{n||i.error?t(n||i.error):!r||Array.isArray(i)?e(i):e(i.result)}};class A extends S{constructor(){super(),(0,i.Z)(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,t,r){let n=[],i=null,o=!1;for(let a of r)if([i,o]=await A._runMiddleware(e,t,a,n),o)break;return[i,o,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise(i=>{let o=e=>{let r=e||t.error;r&&(t.error=(0,h.Xy)(r)),i([r,!0])};try{r(e,t,e=>{t.error?o(t.error):(e&&("function"!=typeof e&&o(new E({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),n.push(e)),i([null,!1]))},o)}catch(e){o(e)}})}static async _runReturnHandlers(e){for(let t of e)await new Promise((e,r)=>{t(t=>t?r(t):e())})}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new E({code:-32603,message:"Response has no error or result for request"});if(!r)throw new E({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{let[i,o,a]=await A._runAllMiddleware(e,t,this._middleware);if(o)return await A._runReturnHandlers(a),n(i);return r(async e=>{try{await A._runReturnHandlers(a)}catch(t){return e(t)}return e()})}catch(e){return n(e)}}}async _handleBatch(e,t){try{let r=await Promise.all(e.map(this._promiseHandle.bind(this)));if(t)return t(null,r);return r}catch(e){if(t)return t(e);throw e}}_promiseHandle(e){return new Promise(t=>{this._handle(e,(e,r)=>{t(r)})})}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){let e=new E({code:-32603,message:"request must be plain object"});return t(e,{id:void 0,jsonrpc:"2.0",error:e})}if("string"!=typeof e.method){let r=new E({code:-32603,message:"method must be string"});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}let r=(0,n.Z)({},e),i={id:r.id,jsonrpc:r.jsonrpc},o=null;try{await this._processRequest(r,i)}catch(e){o=e}return o&&(delete i.result,i.error||(i.error=(0,h.Xy)(o))),t(o,i)}async _processRequest(e,t){let[r,n,i]=await A._runAllMiddleware(e,t,this._middleware);if(A._checkForCompletion(e,t,n),await A._runReturnHandlers(i),r)throw r}}class T extends l.Duplex{constructor(e){let{parent:t,name:r}=e;super({objectMode:!0}),(0,i.Z)(this,"_parent",void 0),(0,i.Z)(this,"_name",void 0),this._parent=t,this._name=r}_read(){}_write(e,t,r){this._parent.push({name:this._name,data:e}),r()}}let C=Symbol("IGNORE_SUBSTREAM");class k extends l.Duplex{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super((0,n.Z)((0,n.Z)({},e),{},{objectMode:!0})),(0,i.Z)(this,"_substreams",void 0),(0,i.Z)(this,"getStream",void 0),this._substreams={}}createStream(e){if(!e)throw Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw Error(`ObjectMultiplex - Substream for name "${e}" already exists`);let t=new T({parent:this,name:e});return this._substreams[e]=t,function(e,t){let r=b()(t);p()(e,{readable:!1},r),p()(e,{writable:!1},r)}(this,e=>t.destroy(e||void 0)),t}ignoreStream(e){if(!e)throw Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=C}_read(){}_write(e,t,r){let{name:n,data:i}=e;if(!n)return window.console.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),r();let o=this._substreams[n];return o?o!==C&&o.push(i):window.console.warn(`ObjectMultiplex - orphaned data for stream "${n}"`),r()}}var I=r(79826),x=r(2043),P=r.n(x),M=r(64063),O=r.n(M),j=r(48764).Buffer;function N(e){return null!==e&&"object"==typeof e&&"function"==typeof e.pipe}var L={errors:{disconnected:()=>"Torus: Lost connection to Torus.",permanentlyDisconnected:()=>"Torus: Disconnected from iframe. Page reload required.",unsupportedSync:e=>`Torus: The Torus Ethereum provider does not support synchronous methods like ${e} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidOptions:e=>`Invalid options. Received: { maxEventListeners: ${e}}`,invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:e=>`'args.logger' must include required method '${e}'.`},info:{connected:e=>`Torus: Connected to chain with ID "${e}".`}};let D={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"};var W={en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies ben\xf6tigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"",actionRequired:"",pendingAction:"",cookiesRequired:"",enableCookies:"TorusCookie",clickHere:""}},ko:{embed:{continue:"",actionRequired:" ",pendingAction:"    .",cookiesRequired:" ",enableCookies:"     Torus .",clickHere:"  "}},zh:{embed:{continue:"",actionRequired:"",pendingAction:"",cookiesRequired:"Cookie",enableCookies:"cookieTorus",clickHere:""}}},$=P().getLogger("solana-embed");let U=()=>Math.random().toString(36).slice(2),q=async e=>{let t,r;switch(e){case"testing":t="https://solana-testing.tor.us",r="debug";break;case"development":t="http://localhost:8080",r="debug";break;default:t="https://solana.tor.us",r="error"}return{torusUrl:t,logLevel:r}},F=()=>{let e=(window.navigator.language||"en-US").split("-");return Object.prototype.hasOwnProperty.call(W,e[0])?e[0]:"en"},Z={height:660,width:375},z={height:740,width:1315},B={height:700,width:1200},H={height:600,width:400};function K(e){let{width:t,height:r}=e,n=void 0!==window.screenLeft?window.screenLeft:window.screenX,i=void 0!==window.screenTop?window.screenTop:window.screenY,o=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height;return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${r/1},width=${t/1},top=${Math.abs((a-r)/2/1+i)},left=${Math.abs((o-t)/2/1+n)}`}class V extends S{constructor(e,t){var r;let{maxEventListeners:n=100,jsonRpcStreamName:o="provider"}=t;if(super(),(0,i.Z)(this,"isTorus",void 0),(0,i.Z)(this,"_rpcEngine",void 0),(0,i.Z)(this,"jsonRpcConnectionEvents",void 0),(0,i.Z)(this,"_state",void 0),!(N(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState&&N(r=e)&&!1!==r.readable&&"function"==typeof r._read&&"object"==typeof r._readableState))throw Error(L.errors.invalidDuplexStream());this.isTorus=!0,this.setMaxListeners(n),this._handleConnect=this._handleConnect.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this._initializeState=this._initializeState.bind(this),this.request=this.request.bind(this),this.sendAsync=this.sendAsync.bind(this);let s=new k;m()(e,s,e,this._handleStreamDisconnect.bind(this,"Torus")),s.ignoreStream("phishing");let d=function(){let e={},t=new S,r=new l.Duplex({objectMode:!0,read:function(){return!1},write:function(r,n,i){let o;try{r.id?!function(t){let r=e[t.id];if(!r)throw Error(`StreamMiddleware - Unknown response id "${t.id}"`);delete e[t.id],Object.assign(r.res,t),setTimeout(r.end)}(r):t.emit("notification",r)}catch(e){o=e}i(o)}});return{events:t,middleware:(t,n,i,o)=>{r.push(t),e[t.id]={req:t,res:n,next:i,end:o}},stream:r}}();m()(d.stream,s.createStream(o),d.stream,this._handleStreamDisconnect.bind(this,"Torus RpcProvider"));let u=new A;u.push((e,t,r,n)=>{let i=e.id,o=Math.random().toString(36).slice(2);e.id=o,t.id=o,r(r=>{e.id=i,t.id=i,r()})}),u.push((e,t,r)=>{"string"==typeof e.method&&e.method||(t.error=I.Sy.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:e})),r(e=>{let{error:r}=t;return r&&$.error(`Torus - RPC Error: ${r.message}`,r),e()})}),u.push((0,a.yh)({origin:location.origin})),u.push(d.middleware),this._rpcEngine=u,this.jsonRpcConnectionEvents=d.events}async request(e){if(!e||"object"!=typeof e||Array.isArray(e))throw I.Sy.rpc.invalidRequest({message:L.errors.invalidRequestArgs(),data:e});let{method:t,params:r}=e;if("string"!=typeof t||0===t.length)throw I.Sy.rpc.invalidRequest({message:L.errors.invalidRequestMethod(),data:e});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw I.Sy.rpc.invalidRequest({message:L.errors.invalidRequestParams(),data:e});return new Promise((e,n)=>{this._rpcRequest({method:t,params:r},R(e,n))})}send(e,t){this._rpcRequest(e,t)}sendAsync(e){return new Promise((t,r)=>{this._rpcRequest(e,R(t,r))})}_handleStreamDisconnect(e,t){let r;r=`Torus: Lost connection to "${e}".`,t?.stack&&(r+=`
${t.stack}`),$.warn(r),this&&this.listenerCount("error")>0&&this.emit("error",r),this._handleDisconnect(!1,t?t.message:void 0)}}let G=e=>{let t=window.document.createElement("template"),r=e.trim();return t.innerHTML=r,t.content.firstChild};function J(e){return void 0===e.version}class Y extends S{constructor(e){let{url:t,target:r,features:n,timeout:o=3e4}=e;super(),(0,i.Z)(this,"url",void 0),(0,i.Z)(this,"target",void 0),(0,i.Z)(this,"features",void 0),(0,i.Z)(this,"window",void 0),(0,i.Z)(this,"windowTimer",void 0),(0,i.Z)(this,"iClosedWindow",void 0),(0,i.Z)(this,"timeout",void 0),this.url=t,this.target=r||"_blank",this.features=n||K(B),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=o,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),void 0===this.window&&clearInterval(this.windowTimer)},500))}open(){return this.window=window.open(this.url.href,this.target,this.features),this.window?.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}}class X extends V{constructor(e,t){let{maxEventListeners:r=100,jsonRpcStreamName:o="provider"}=t;super(e,{maxEventListeners:r,jsonRpcStreamName:o}),(0,i.Z)(this,"embedTranslations",void 0),(0,i.Z)(this,"torusUrl",void 0),(0,i.Z)(this,"dappStorageKey",void 0),(0,i.Z)(this,"windowRefs",void 0),(0,i.Z)(this,"tryWindowHandle",void 0),(0,i.Z)(this,"torusAlertContainer",void 0),(0,i.Z)(this,"torusIframe",void 0),this._state=(0,n.Z)({},X._defaultState),this.torusUrl="",this.dappStorageKey="";let s=W[F()];this.embedTranslations=s.embed,this.windowRefs={},this.on("connect",()=>{this._state.isConnected=!0}),this.jsonRpcConnectionEvents.on("notification",e=>{let{method:t,params:r}=e;if(t===a.Nb.IFRAME_STATUS){let{isFullScreen:e,rid:t}=r;this._displayIframe({isFull:e,rid:t})}else if(t===a.Nb.CREATE_WINDOW){let{windowId:e,url:t}=r;this._createPopupBlockAlert(e,t)}else if(t===a.Nb.CLOSE_WINDOW)this._handleCloseWindow(r);else if(t===a.Nb.USER_LOGGED_IN){let{currentLoginProvider:e}=r;this._state.isLoggedIn=!0,this._state.currentLoginProvider=e}else t===a.Nb.USER_LOGGED_OUT&&(this._state.isLoggedIn=!1,this._state.currentLoginProvider=null,this._displayIframe())})}get isLoggedIn(){return this._state.isLoggedIn}get isIFrameFullScreen(){return this._state.isIFrameFullScreen}isConnected(){return this._state.isConnected}async _initializeState(e){try{let{torusUrl:t,dappStorageKey:r,torusAlertContainer:n,torusIframe:i}=e;this.torusUrl=t,this.dappStorageKey=r,this.torusAlertContainer=n,this.torusIframe=i,this.torusIframe.addEventListener("load",()=>{this._state.isIFrameFullScreen||this._displayIframe()});let{currentLoginProvider:o,isLoggedIn:s}=await this.request({method:a.vU.GET_PROVIDER_STATE,params:[]});this._handleConnect(o,s)}catch(e){$.error("Torus: Failed to get initial state. Please report this bug.",e)}finally{$.info("initialized communication state"),this._state.initialized=!0,this.emit("_initialized")}}_handleWindow(e){let{url:t,target:r,features:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new URL(t||`${this.torusUrl}/redirect?windowId=${e}`);this.dappStorageKey&&(i.hash?i.hash+=`&dappStorageKey=${this.dappStorageKey}`:i.hash=`#dappStorageKey=${this.dappStorageKey}`);let o=new Y({url:i,target:r,features:n});if(o.open(),!o.window){this._createPopupBlockAlert(e,i.href);return}this.windowRefs[e]=o,this.request({method:a.vU.OPENED_WINDOW,params:{windowId:e}}),o.once("close",()=>{delete this.windowRefs[e],this.request({method:a.vU.CLOSED_WINDOW,params:{windowId:e}})})}_displayIframe(){let{isFull:e=!1,rid:t=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={};if(e)r.display="block",r.width="100%",r.height="100%",r.top="0px",r.right="0px",r.left="0px",r.bottom="0px";else switch(r.display=this._state.torusWidgetVisibility?"block":"none",r.height="70px",r.width="70px",this._state.buttonPosition){case D.TOP_LEFT:r.top="0px",r.left="0px",r.right="auto",r.bottom="auto";break;case D.TOP_RIGHT:r.top="0px",r.right="0px",r.left="auto",r.bottom="auto";break;case D.BOTTOM_RIGHT:r.bottom="0px",r.right="0px",r.top="auto",r.left="auto";break;case D.BOTTOM_LEFT:default:r.bottom="0px",r.left="0px",r.top="auto",r.right="auto"}Object.assign(this.torusIframe.style,r),this._state.isIFrameFullScreen=e,this.request({method:a.vU.IFRAME_STATUS,params:{isIFrameFullScreen:e,rid:t}})}hideTorusButton(){this._state.torusWidgetVisibility=!1,this._displayIframe()}showTorusButton(){this._state.torusWidgetVisibility=!0,this._displayIframe()}_rpcRequest(e,t){Array.isArray(e)||e.jsonrpc||(e.jsonrpc="2.0"),this.tryWindowHandle(e,t)}_handleConnect(e,t){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{currentLoginProvider:e,isLoggedIn:t}),$.debug(L.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new I.Cg(1013,t||L.errors.disconnected()),$.debug(r)):(r=new I.Cg(1011,t||L.errors.permanentlyDisconnected()),$.error(r),this._state.currentLoginProvider=null,this._state.isLoggedIn=!1,this._state.torusWidgetVisibility=!1,this._state.isIFrameFullScreen=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleCloseWindow(e){let{windowId:t}=e;this.windowRefs[t]&&(this.windowRefs[t].close(),delete this.windowRefs[t])}async _createPopupBlockAlert(e,t){let r=this.getLogoUrl(),n=G(`<div id="torusAlert" class="torus-alert--v2"><div id="torusAlert__logo"><img src="${r}" /></div><div><h1 id="torusAlert__title">${this.embedTranslations.actionRequired}</h1><p id="torusAlert__desc">${this.embedTranslations.pendingAction}</p></div></div>`),i=G(`<div><a id="torusAlert__btn">${this.embedTranslations.continue}</a></div>`),o=G('<div id="torusAlert__btn-container"></div>');o.appendChild(i),n.appendChild(o),(()=>{this.torusAlertContainer.appendChild(n)})(),(()=>{i.addEventListener("click",()=>{this._handleWindow(e,{url:t,target:"_blank",features:K(H)}),n.remove(),0===this.torusAlertContainer.children.length&&(this.torusAlertContainer.style.display="none")})})(),this.torusAlertContainer.style.display="block"}getLogoUrl(){return`${this.torusUrl}/images/torus_icon-blue.svg`}}(0,i.Z)(X,"_defaultState",{buttonPosition:"bottom-left",currentLoginProvider:null,isIFrameFullScreen:!1,hasEmittedConnection:!1,torusWidgetVisibility:!1,initialized:!1,isLoggedIn:!1,isPermanentlyDisconnected:!1,isConnected:!1});class Q extends V{constructor(e,t){let{maxEventListeners:r=100,jsonRpcStreamName:o="provider"}=t;super(e,{maxEventListeners:r,jsonRpcStreamName:o}),(0,i.Z)(this,"chainId",void 0),(0,i.Z)(this,"selectedAddress",void 0),(0,i.Z)(this,"tryWindowHandle",void 0),this._state=(0,n.Z)({},Q._defaultState),this.selectedAddress=null,this.chainId=null,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this.on("connect",()=>{this._state.isConnected=!0}),this.jsonRpcConnectionEvents.on("notification",e=>{let{method:t,params:r}=e;t===a.zK.ACCOUNTS_CHANGED?this._handleAccountsChanged(r):t===a.zK.UNLOCK_STATE_CHANGED?this._handleUnlockStateChanged(r):t===a.zK.CHAIN_CHANGED&&this._handleChainChanged(r)})}isConnected(){return this._state.isConnected}async _initializeState(){try{let{accounts:e,chainId:t,isUnlocked:r}=await this.request({method:a.GA.GET_PROVIDER_STATE,params:[]});this.emit("connect",{chainId:t}),this._handleChainChanged({chainId:t}),this._handleUnlockStateChanged({accounts:e,isUnlocked:r}),this._handleAccountsChanged(e)}catch(e){$.error("Torus: Failed to get initial state. Please report this bug.",e)}finally{$.info("initialized provider state"),this._state.initialized=!0,this.emit("_initialized")}}_rpcRequest(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t;if(!Array.isArray(e)){if(e.jsonrpc||(e.jsonrpc="2.0"),"solana_accounts"===e.method||"solana_requestAccounts"===e.method)n=(n,i)=>{this._handleAccountsChanged(i.result||[],"solana_accounts"===e.method,r),t(n,i)};else if("wallet_getProviderState"===e.method){this._rpcEngine.handle(e,n);return}}this.tryWindowHandle(e,n)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),$.debug(L.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new I.Cg(1013,t||L.errors.disconnected()),$.debug(r)):(r=new I.Cg(1011,t||L.errors.permanentlyDisconnected()),$.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleAccountsChanged(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e;for(let t of(Array.isArray(n)||($.error("Torus: Received non-array accounts parameter. Please report this bug.",n),n=[]),e))if("string"!=typeof t){$.error("Torus: Received non-string account. Please report this bug.",e),n=[];break}O()(this._state.accounts,n)||(t&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!r&&$.error('Torus: "solana_accounts" unexpectedly updated accounts. Please report this bug.',n),this._state.accounts=n,this.emit("accountsChanged",n)),this.selectedAddress!==n[0]&&(this.selectedAddress=n[0]||null)}_handleChainChanged(){let{chainId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e){$.error("Torus: Received invalid network parameters. Please report this bug.",{chainId:e});return}"loading"===e?this._handleDisconnect(!0):(this._handleConnect(e),e!==this.chainId&&(this.chainId=e,this._state.initialized&&this.emit("chainChanged",this.chainId)))}_handleUnlockStateChanged(){let{accounts:e,isUnlocked:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("boolean"!=typeof t){$.error("Torus: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:t});return}t!==this._state.isUnlocked&&(this._state.isUnlocked=t,this._handleAccountsChanged(e||[]))}}function ee(e){return new Promise((t,r)=>{try{let r=document.createElement("img");r.onload=()=>t(!0),r.onerror=()=>t(!1),r.src=e}catch(e){r(e)}})}(0,i.Z)(Q,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});let et=e=>{let{document:t}=e,r=t.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;let n=t.querySelector('head > meta[name="title"]');return n?n.content:t.title&&t.title.length>0?t.title:e.location.hostname};async function er(e){try{let{document:t}=e,r=t.querySelector('head > link[rel="shortcut icon"]');if(r&&await ee(r.href)||(r=Array.from(t.querySelectorAll('head > link[rel="icon"]')).find(e=>!!e.href))&&await ee(r.href))return r.href;return""}catch(e){return""}}let en=async()=>({name:et(window),icon:await er(window)}),ei=["send_transaction","sign_transaction","sign_all_transactions","sign_message","connect"],eo=[a.vU.SET_PROVIDER],ea=function(e){let t;try{t=window[e];let r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(e){return e&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}("localStorage");!async function(){try{if("undefined"==typeof document)return;let e=document.createElement("link"),{torusUrl:t}=await q("production");e.href=`${t}/frame`,e.crossOrigin="anonymous",e.type="text/html",e.rel="prefetch",e.relList&&e.relList.supports&&e.relList.supports("prefetch")&&document.head.appendChild(e)}catch(e){$.warn(e)}}();class es{constructor(){let{modalZIndex:e=99999}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,"isInitialized",void 0),(0,i.Z)(this,"torusAlert",void 0),(0,i.Z)(this,"modalZIndex",void 0),(0,i.Z)(this,"alertZIndex",void 0),(0,i.Z)(this,"requestedLoginProvider",void 0),(0,i.Z)(this,"provider",void 0),(0,i.Z)(this,"communicationProvider",void 0),(0,i.Z)(this,"dappStorageKey",void 0),(0,i.Z)(this,"isTopupHidden",!1),(0,i.Z)(this,"torusAlertContainer",void 0),(0,i.Z)(this,"torusUrl",void 0),(0,i.Z)(this,"torusIframe",void 0),(0,i.Z)(this,"styleLink",void 0),this.torusUrl="",this.isInitialized=!1,this.requestedLoginProvider=null,this.modalZIndex=e,this.alertZIndex=e+1e3,this.dappStorageKey=""}get isLoggedIn(){return!!this.communicationProvider&&this.communicationProvider.isLoggedIn}async init(){let{buildEnv:e="production",enableLogging:t=!1,network:r,showTorusButton:n=!1,useLocalStorage:i=!1,buttonPosition:o=D.BOTTOM_LEFT,apiKey:a="torus-default",extraParams:l={},whiteLabel:d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isInitialized)throw Error("Already initialized");(0,s.ut)(a);let{torusUrl:u,logLevel:c}=await q(e);$.enableAll(),$.info(u,"url loaded"),$.info("Solana Embed Version :2.0.0"),this.torusUrl=u,$.setDefaultLevel(c),t?$.enableAll():$.disableAll();let h=this.handleDappStorageKey(i),f=new URL(u);f.pathname.endsWith("/")?f.pathname+="frame":f.pathname+="/frame";let p=new URLSearchParams;return h&&p.append("dappStorageKey",h),p.append("origin",window.location.origin),f.hash=p.toString(),this.torusIframe=G(`<iframe
        id="torusIframe"
        class="torusIframe"
        src="${f.href}"
        style="display: none; position: fixed; top: 0; right: 0; width: 100%;
        height: 100%; border: none; border-radius: 0; z-index: ${this.modalZIndex.toString()}"
      ></iframe>`),this.torusAlertContainer=G(`<div id="torusAlertContainer" style="display:none; z-index: ${this.alertZIndex.toString()}"></div>`),this.styleLink=G(`<link href="${u}/css/widget.css" rel="stylesheet" type="text/css">`),new Promise((e,t)=>{try{this.torusIframe.addEventListener("load",async()=>{let t=await en();this.torusIframe.contentWindow.postMessage({buttonPosition:o,apiKey:a,network:r,dappMetadata:t,extraParams:l,whiteLabel:d},f.origin),await this._setupWeb3({torusUrl:u}),n&&this.showTorusButton(),d?.topupHide?this.isTopupHidden=d.topupHide:this.hideTorusButton(),this.isInitialized=!0,window.torus=this,e()}),window.document.head.appendChild(this.styleLink),window.document.body.appendChild(this.torusIframe),window.document.body.appendChild(this.torusAlertContainer)}catch(e){t(e)}})}async login(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isInitialized)throw Error("Call init() first");try{this.requestedLoginProvider=e.loginProvider||null,this.requestedLoginProvider||this.communicationProvider._displayIframe({isFull:!0});let t=await new Promise((t,r)=>{this.provider._rpcRequest({method:"solana_requestAccounts",params:[this.requestedLoginProvider,e.login_hint]},R(t,r))});if(Array.isArray(t)&&t.length>0)return t;throw Error("Login failed")}catch(e){throw $.error("login failed",e),e}finally{this.communicationProvider.isIFrameFullScreen&&this.communicationProvider._displayIframe()}}async loginWithPrivateKey(e){if(!this.isInitialized)throw Error("Call init() first");let{privateKey:t,userInfo:r}=e,{success:n}=await this.communicationProvider.request({method:"login_with_private_key",params:{privateKey:t,userInfo:r}});if(!n)throw Error("Login Failed")}async logout(){if(!this.communicationProvider.isLoggedIn)throw Error("Not logged in");await this.communicationProvider.request({method:a.vU.LOGOUT,params:[]}),this.requestedLoginProvider=null}async cleanUp(){this.communicationProvider.isLoggedIn&&await this.logout(),this.clearInit()}clearInit(){function e(e){return e instanceof Element||e instanceof Document}e(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),e(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),e(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}hideTorusButton(){this.communicationProvider.hideTorusButton()}showTorusButton(){this.communicationProvider.showTorusButton()}async setProvider(e){await this.communicationProvider.request({method:a.vU.SET_PROVIDER,params:(0,n.Z)({},e)})}async showWallet(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=await this.communicationProvider.request({method:a.vU.WALLET_INSTANCE_ID,params:[]}),n=e?`/${e}`:"",i=new URL(`${this.torusUrl}/wallet${n}`);i.searchParams.append("instanceId",r),Object.keys(t).forEach(e=>{i.searchParams.append(e,t[e])}),this.dappStorageKey&&(i.hash=`#dappStorageKey=${this.dappStorageKey}`),new Y({url:i,features:K(z)}).open()}async getUserInfo(){return await this.communicationProvider.request({method:a.vU.USER_INFO,params:[]})}async initiateTopup(e,t){if(!this.isInitialized)throw Error("Torus is not initialized");let r=U();return this.communicationProvider._handleWindow(r),await this.communicationProvider.request({method:a.vU.TOPUP,params:{provider:e,params:t,windowId:r}})}async getAccounts(){return await this.provider.request({method:"getAccounts",params:[]})}async sendTransaction(e){let t=J(e),r=t?e.serialize({requireAllSignatures:!1}).toString("hex"):j.from(e.serialize()).toString("hex");return await this.provider.request({method:"send_transaction",params:{message:r,isLegacyTransaction:t}})}async signAndSendTransaction(e,t){let r=J(e),n=r?e.serialize({requireAllSignatures:!1}).toString("hex"):j.from(e.serialize()).toString("hex");return{signature:await this.provider.request({method:"send_transaction",params:{message:n,options:t,isLegacyTransaction:r}})}}async signTransaction(e){let t=J(e),r=t?e.serializeMessage().toString("hex"):j.from(e.message.serialize()).toString("hex"),n=JSON.parse(await this.provider.request({method:"sign_transaction",params:{message:r,messageOnly:!0,isLegacyTransaction:t}})),i={publicKey:new o.nh(n.publicKey),signature:j.from(n.signature,"hex")};return e.addSignature(i.publicKey,i.signature),e}async signAllTransactions(e){let t;let r=e.map(e=>(t=J(e))?e.serializeMessage().toString("hex"):j.from(e.message.serialize()).toString("hex")),n=(await this.provider.request({method:"sign_all_transactions",params:{message:r,messageOnly:!0,isLegacyTransaction:t}})).map(e=>{let t=JSON.parse(e);return{publicKey:new o.nh(t.publicKey),signature:j.from(t.signature,"hex")}});return e.forEach((e,t)=>(e.addSignature(n[t].publicKey,n[t].signature),e)),e}async signMessage(e){return await this.provider.request({method:"sign_message",params:{data:e}})}async getGaslessPublicKey(){return await this.provider.request({method:"get_gasless_public_key",params:[]})}handleDappStorageKey(e){let t=`torus-${window.location.hostname}`,r="";if(ea&&e){let e=window.localStorage.getItem(t);if(e)r=e;else{let e=`torus-app-${U()}`;window.localStorage.setItem(t,e),r=e}}return this.dappStorageKey=r,r}async _setupWeb3(e){$.info("setupWeb3 running");let t=new _({name:"embed_torus",target:"iframe_torus",targetWindow:this.torusIframe.contentWindow}),r=new _({name:"embed_communication",target:"iframe_communication",targetWindow:this.torusIframe.contentWindow}),i=new Q(t,{}),o=new X(r,{});i.tryWindowHandle=(e,t)=>{if(!Array.isArray(e)&&ei.includes(e.method)){if(!this.communicationProvider.isLoggedIn)throw Error("User Not Logged In");let t=U();o._handleWindow(t,{target:"_blank",features:K(H)}),e.windowId=t}i._rpcEngine.handle(e,t)},o.tryWindowHandle=(e,t)=>{if(!Array.isArray(e)&&eo.includes(e.method)){let t=U();o._handleWindow(t,{target:"_blank",features:K(Z)}),e.params.windowId=t}o._rpcEngine.handle(e,t)};let a=e=>{let t=i[e],r=this;i[e]=function(e,n){let{method:i,params:o=[]}=e;if("solana_requestAccounts"===i){if(!n)return r.login({loginProvider:o[0]});r.login({loginProvider:o[0]}).then(e=>n(null,e)).catch(e=>n(e))}return t.apply(this,[e,n])}};a("request"),a("sendAsync"),a("send");let s=new Proxy(i,{deleteProperty:()=>!0}),l=new Proxy(o,{deleteProperty:()=>!0});this.provider=s,this.communicationProvider=l,await Promise.all([i._initializeState(),o._initializeState((0,n.Z)((0,n.Z)({},e),{},{dappStorageKey:this.dappStorageKey,torusAlertContainer:this.torusAlertContainer,torusIframe:this.torusIframe}))]),$.debug("Torus - injected provider")}}var el=r(85783),ed=r(1482),eu=r(75267);class ec extends ed.v{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),(0,i.Z)(this,"name",el.rW.TORUS_SOLANA),(0,i.Z)(this,"adapterNamespace",el.yk.SOLANA),(0,i.Z)(this,"currentChainNamespace",el.EN.SOLANA),(0,i.Z)(this,"type",el.hN.EXTERNAL),(0,i.Z)(this,"status",el.MP.NOT_READY),(0,i.Z)(this,"torusInstance",null),(0,i.Z)(this,"torusWalletOptions",void 0),(0,i.Z)(this,"initParams",void 0),(0,i.Z)(this,"loginSettings",{}),(0,i.Z)(this,"solanaProvider",null),this.torusWalletOptions=e.adapterSettings||{},this.initParams=e.initParams||{},this.loginSettings=e.loginSettings||{}}get provider(){return this.status!==el.MP.NOT_READY&&this.solanaProvider?this.solanaProvider:null}set provider(e){throw Error("Not implemented")}async init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await super.init(e),super.checkInitializationRequirements();let{chainId:t,blockExplorer:r,displayName:i,rpcTarget:o,ticker:a,tickerName:s}=this.chainConfig;this.torusInstance=new es(this.torusWalletOptions),el.cM.debug("initializing torus solana adapter init"),await this.torusInstance.init((0,n.Z)((0,n.Z)({showTorusButton:!1},this.initParams),{},{network:{chainId:t,rpcTarget:o,blockExplorerUrl:r,displayName:i,tickerName:s,ticker:a,logo:""}})),this.solanaProvider=new eu.Os({config:{chainConfig:this.chainConfig}}),this.status=el.MP.READY,this.emit(el.n2.READY,el.rW.TORUS_SOLANA);try{el.cM.debug("initializing torus solana adapter"),e.autoConnect&&(this.rehydrated=!0,await this.connect())}catch(e){el.cM.error("Failed to connect with cached torus solana provider",e),this.emit(el.n2.ERRORED,e)}}async connect(){if(super.checkConnectionRequirements(),!this.torusInstance||!this.solanaProvider)throw el.Ty.notReady("Torus wallet is not initialized");this.status=el.MP.CONNECTING,this.emit(el.n2.CONNECTING,{adapter:el.rW.TORUS_SOLANA});try{await this.torusInstance.login(this.loginSettings);try{let e=this.torusInstance.provider;e.sendTransaction=this.torusInstance.sendTransaction.bind(this.torusInstance),e.signAllTransactions=this.torusInstance.signAllTransactions.bind(this.torusInstance),e.signMessage=this.torusInstance.signMessage.bind(this.torusInstance),e.signTransaction=this.torusInstance.signTransaction.bind(this.torusInstance),await this.solanaProvider.setupProvider(e)}catch(e){if(e instanceof el.up&&5010===e.code){let{chainId:e,blockExplorer:t,displayName:r,rpcTarget:n,ticker:i,tickerName:o}=this.chainConfig;await this.torusInstance.setProvider({chainId:e,rpcTarget:n,blockExplorerUrl:t,displayName:r,tickerName:o,ticker:i,logo:""})}else throw e}return this.status=el.MP.CONNECTED,this.torusInstance.showTorusButton(),this.emit(el.MP.CONNECTED,{adapter:el.rW.TORUS_SOLANA,reconnected:this.rehydrated}),this.provider}catch(e){if(this.status=el.MP.READY,this.rehydrated=!1,this.emit(el.n2.ERRORED,e),e instanceof el.up)throw e;throw el.RM.connectionError("Failed to login with torus solana wallet")}}async disconnect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cleanup:!1};if(await super.disconnectSession(),!this.torusInstance)throw el.Ty.notReady("Torus wallet is not initialized");await this.torusInstance.logout(),e.cleanup?(this.status=el.MP.NOT_READY,this.torusInstance=null,this.solanaProvider=null):this.status=el.MP.READY,await super.disconnect()}async getUserInfo(){if(this.status!==el.MP.CONNECTED)throw el.RM.notConnectedError("Not connected with wallet");if(!this.torusInstance)throw el.Ty.notReady("Torus wallet is not initialized");return await this.torusInstance.getUserInfo()}async addChain(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.checkAddChainRequirements(e,t),this.addChainConfig(e)}async switchChain(e){var t;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.checkSwitchChainRequirements(e,r);let n=this.getChainConfig(e.chainId);await (null===(t=this.torusInstance)||void 0===t?void 0:t.setProvider({rpcTarget:n.rpcTarget,chainId:n.chainId,displayName:n.displayName,blockExplorerUrl:n.blockExplorer,ticker:n.ticker,tickerName:n.tickerName,logo:"https://images.web3auth.io/login-torus-solana.svg"})),this.setAdapterSettings({chainConfig:this.getChainConfig(e.chainId)})}}},12294:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;let n=r(4445);class i extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){let e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n.default(this.serialize(),a,2)}}t.EthereumRpcError=i;class o extends i{constructor(e,t,r){if(!(Number.isInteger(e)&&e>=1e3&&e<=4999))throw Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}function a(e,t){if("[Circular]"!==t)return t}t.EthereumProviderError=o},92662:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},68797:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;let n=r(12294),i=r(68753),o=r(92662);function a(e,t){let[r,o]=l(t);return new n.EthereumRpcError(e,r||i.getMessageFromCode(e),o)}function s(e,t){let[r,o]=l(t);return new n.EthereumProviderError(e,r||i.getMessageFromCode(e),o)}function l(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){let{message:t,data:r}=e;if(t&&"string"!=typeof t)throw Error("Must specify string message.");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:e=>a(o.errorCodes.rpc.parse,e),invalidRequest:e=>a(o.errorCodes.rpc.invalidRequest,e),invalidParams:e=>a(o.errorCodes.rpc.invalidParams,e),methodNotFound:e=>a(o.errorCodes.rpc.methodNotFound,e),internal:e=>a(o.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum RPC Server errors must provide single object argument.");let{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw Error('"code" must be an integer such that: -32099 <= code <= -32005');return a(t,e)},invalidInput:e=>a(o.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>a(o.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>a(o.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>a(o.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>a(o.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>a(o.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>s(o.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>s(o.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>s(o.errorCodes.provider.unsupportedMethod,e),disconnected:e=>s(o.errorCodes.provider.disconnected,e),chainDisconnected:e=>s(o.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum Provider custom errors must provide single object argument.");let{code:t,message:r,data:i}=e;if(!r||"string"!=typeof r)throw Error('"message" must be a nonempty string');return new n.EthereumProviderError(t,r,i)}}}},79826:function(e,t,r){"use strict";t.Cg=t.Sy=void 0;let n=r(12294);Object.defineProperty(t,"Cg",{enumerable:!0,get:function(){return n.EthereumRpcError}}),r(68753);let i=r(68797);Object.defineProperty(t,"Sy",{enumerable:!0,get:function(){return i.ethErrors}}),r(92662)},68753:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;let n=r(92662),i=r(12294),o=n.errorCodes.rpc.internal,a={code:o,message:s(o)};function s(e,r="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){let r=e.toString();if(u(n.errorValues,r))return n.errorValues[r].message;if(e>=-32099&&e<=-32e3)return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function l(e){if(!Number.isInteger(e))return!1;let t=e.toString();return!!(n.errorValues[t]||e>=-32099&&e<=-32e3)}function d(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=s,t.isValidCode=l,t.serializeError=function(e,{fallbackError:t=a,shouldIncludeStack:r=!1}={}){if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw Error("Must provide fallback error with integer number code and string message.");if(e instanceof i.EthereumRpcError)return e.serialize();let n={};if(e&&"object"==typeof e&&!Array.isArray(e)&&u(e,"code")&&l(e.code))n.code=e.code,e.message&&"string"==typeof e.message?(n.message=e.message,u(e,"data")&&(n.data=e.data)):(n.message=s(n.code),n.data={originalError:d(e)});else{n.code=t.code;let r=null==e?void 0:e.message;n.message=r&&"string"==typeof r?r:t.message,n.data={originalError:d(e)}}let o=null==e?void 0:e.stack;return r&&e&&o&&"string"==typeof o&&(n.stack=o),n}},64063:function(e){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!=i--;){var n,i,o,a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!=t&&r!=r}}}]);